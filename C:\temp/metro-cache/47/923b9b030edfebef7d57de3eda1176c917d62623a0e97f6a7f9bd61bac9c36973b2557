{"dependencies":[{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[]}},{"name":"fbjs/lib/performanceNow","data":{"isAsync":false,"locs":[{"start":{"line":13,"column":23},"end":{"line":13,"column":57}}]}},{"name":"fbjs/lib/warning","data":{"isAsync":false,"locs":[{"start":{"line":14,"column":16},"end":{"line":14,"column":43}}]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]);function l(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,l)}return s}function o(n){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?l(Object(o),!0).forEach(function(s){t(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}var _=r(d[3]),h=r(d[4]),u=function t(){s(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0},f=[],c=10,y=null,p=(function(){function t(n){s(this,t),this._anyBlankStartTime=null,this._enabled=!1,this._info=new u,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=n,this._enabled=(y||0)>Math.random(),this._resetData()}return n(t,[{key:\"activate\",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=_())}},{key:\"deactivateAndFlush\",value:function(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<c)this._resetData();else{var n=_()-t,s=o(o({},this._info),{},{total_time_spent:n});f.forEach(function(t){return t(s)}),this._resetData()}}}},{key:\"computeBlankness\",value:function(t,n,s){if(!this._enabled||0===t.getItemCount(t.data)||null==this._samplesStartTime)return 0;var l=s.dOffset,o=s.offset,h=s.velocity,u=s.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(u),this._info.pixels_scrolled+=Math.round(Math.abs(l));var f=Math.round(1e3*Math.abs(h)),c=_();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=c-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=c-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var y=0,p=n.first,b=this._getFrameMetrics(p);p<=n.last&&(!b||!b.inLayout);)b=this._getFrameMetrics(p),p++;b&&p>0&&(y=Math.min(u,Math.max(0,b.offset-o)));for(var k=0,v=n.last,S=this._getFrameMetrics(v);v>=n.first&&(!S||!S.inLayout);)S=this._getFrameMetrics(v),v--;if(S&&v<t.getItemCount(t.data)-1){var M=S.offset+S.length;k=Math.min(u,Math.max(0,o+u-M))}var O=Math.round(y+k),T=O/u;return T>0?(this._anyBlankStartTime=c,this._info.any_blank_speed_sum+=f,this._info.any_blank_count++,this._info.pixels_blank+=O,T>.5&&(this._mostlyBlankStartTime=c,this._info.mostly_blank_count++)):(f<.01||Math.abs(l)<1)&&this.deactivateAndFlush(),T}},{key:\"enabled\",value:function(){return this._enabled}},{key:\"_resetData\",value:function(){this._anyBlankStartTime=null,this._info=new u,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:\"addListener\",value:function(t){return h(null!==y,'Call `FillRateHelper.setSampleRate` before `addListener`.'),f.push(t),{remove:function(){f=f.filter(function(n){return t!==n})}}}},{key:\"setSampleRate\",value:function(t){y=t}},{key:\"setMinSampleCount\",value:function(t){c=t}}]),t})();m.exports=p});","lineCount":1,"map":[[1,28,11,0],[1,644,13,0],[1,648,13,6,"performanceNow"],[1,650,13,23,"require"],[1,652,13,30,"d"],[1,654,13,30],[1,658,14,6,"warning"],[1,660,14,16,"require"],[1,662,14,23,"d"],[1,664,14,23],[1,668,18,6,"Info"],[1,698,19,2,"any_blank_count"],[1,714,19,28],[1,721,20,2,"any_blank_ms"],[1,734,20,25],[1,741,21,2,"any_blank_speed_sum"],[1,761,21,32],[1,768,22,2,"mostly_blank_count"],[1,787,22,31],[1,794,23,2,"mostly_blank_ms"],[1,810,23,28],[1,817,24,2,"pixels_blank"],[1,830,24,25],[1,837,25,2,"pixels_sampled"],[1,852,25,27],[1,859,26,2,"pixels_scrolled"],[1,875,26,28],[1,882,27,2,"total_time_spent"],[1,899,27,29],[1,906,28,2,"sample_count"],[1,919,28,25],[1,922,40,4,"_listeners"],[1,927,41,4,"_minSampleCount"],[1,929,41,22],[1,932,42,4,"_sampleRate"],[1,934,42,30],[1,939,52,6,"FillRateHelper"],[1,953,83,2],[1,962,83,2,"FillRateHelper"],[1,964,83,14,"getFrameMetrics"],[1,967,83,65,"_classCallCheck"],[1,969,83,65,"this"],[1,974,83,65,"FillRateHelper"],[1,977,83,65,"this"],[1,982,53,2,"_anyBlankStartTime"],[1,1001,53,24],[1,1006,83,65,"this"],[1,1011,54,2,"_enabled"],[1,1021,54,13],[1,1023,83,65,"this"],[1,1028,56,2,"_info"],[1,1034,56,10],[1,1038,56,14,"Info"],[1,1040,83,65,"this"],[1,1045,57,2,"_mostlyBlankStartTime"],[1,1067,57,27],[1,1072,83,65,"this"],[1,1077,58,2,"_samplesStartTime"],[1,1095,58,23],[1,1100,84,4,"this"],[1,1105,84,9,"_getFrameMetrics"],[1,1122,84,28,"getFrameMetrics"],[1,1124,85,4,"this"],[1,1129,85,9,"_enabled"],[1,1139,85,21,"_sampleRate"],[1,1142,85,36],[1,1145,85,41,"Math"],[1,1150,85,46,"random"],[1,1159,86,4,"this"],[1,1164,86,9,"_resetData"],[1,1211,89,2],[1,1222,90,8,"this"],[1,1227,90,13,"_enabled"],[1,1237,90,51],[1,1243,90,25,"this"],[1,1248,90,30,"_samplesStartTime"],[1,1268,92,6,"this"],[1,1273,92,11,"_samplesStartTime"],[1,1291,92,31,"performanceNow"],[1,1330,96,2],[1,1341,97,4],[1,1344,97,9,"this"],[1,1349,97,14,"_enabled"],[1,1358,97,4],[1,1359,100,4],[1,1363,100,10,"start"],[1,1365,100,18,"this"],[1,1370,100,23,"_samplesStartTime"],[1,1388,101,4],[1,1391,101,17],[1,1397,101,8,"start"],[1,1399,106,4],[1,1402,106,8,"this"],[1,1407,106,13,"_info"],[1,1413,106,19,"sample_count"],[1,1426,106,34,"_minSampleCount"],[1,1428,108,6,"this"],[1,1433,108,11,"_resetData"],[1,1450,106,4],[1,1451,111,4],[1,1455,111,10,"total_time_spent"],[1,1457,111,29,"performanceNow"],[1,1461,111,48,"start"],[1,1463,112,10,"info"],[1,1465,112,19,"_objectSpread"],[1,1467,112,19,"_objectSpread"],[1,1472,113,9,"this"],[1,1477,113,14,"_info"],[1,1488,114,6,"total_time_spent"],[1,1505,114,6,"total_time_spent"],[1,1509,134,4,"_listeners"],[1,1511,134,15,"forEach"],[1,1519,134,23],[1,1528,134,23,"listener"],[1,1531,134,31],[1,1538,134,35,"listener"],[1,1540,134,44,"info"],[1,1545,135,4,"this"],[1,1550,135,9,"_resetData"],[1,1597,138,2],[1,1606,139,4,"props"],[1,1608,145,4,"state"],[1,1610,150,4,"scrollMetrics"],[1,1613,158,4],[1,1617,159,7,"this"],[1,1622,159,12,"_enabled"],[1,1632,160,41],[1,1636,160,6,"props"],[1,1638,160,12,"getItemCount"],[1,1651,160,25,"props"],[1,1653,160,31,"data"],[1,1660,161,32],[1,1666,161,6,"this"],[1,1671,161,11,"_samplesStartTime"],[1,1689,163,6],[1,1696,163,13],[1,1698,157,12],[1,1702,165,11,"dOffset"],[1,1704,165,55,"scrollMetrics"],[1,1706,165,11,"dOffset"],[1,1714,165,20,"offset"],[1,1716,165,55,"scrollMetrics"],[1,1718,165,20,"offset"],[1,1725,165,28,"velocity"],[1,1727,165,55,"scrollMetrics"],[1,1729,165,28,"velocity"],[1,1738,165,38,"visibleLength"],[1,1740,165,55,"scrollMetrics"],[1,1742,165,38,"visibleLength"],[1,1756,169,4,"this"],[1,1761,169,9,"_info"],[1,1767,169,15,"sample_count"],[1,1782,170,4,"this"],[1,1787,170,9,"_info"],[1,1793,170,15,"pixels_sampled"],[1,1809,170,33,"Math"],[1,1814,170,38,"round"],[1,1820,170,44,"visibleLength"],[1,1823,171,4,"this"],[1,1828,171,9,"_info"],[1,1834,171,15,"pixels_scrolled"],[1,1851,171,34,"Math"],[1,1856,171,39,"round"],[1,1862,171,45,"Math"],[1,1867,171,50,"abs"],[1,1871,171,54,"dOffset"],[1,1875,172,4],[1,1879,172,10,"scrollSpeed"],[1,1881,172,24,"Math"],[1,1886,172,29,"round"],[1,1892,172,56],[1,1896,172,35,"Math"],[1,1901,172,40,"abs"],[1,1905,172,44,"velocity"],[1,1909,175,10,"now"],[1,1911,175,16,"performanceNow"],[1,1915,176,35],[1,1921,176,8,"this"],[1,1926,176,13,"_anyBlankStartTime"],[1,1947,177,6,"this"],[1,1952,177,11,"_info"],[1,1958,177,17,"any_blank_ms"],[1,1972,177,33,"now"],[1,1974,177,39,"this"],[1,1979,177,44,"_anyBlankStartTime"],[1,1999,179,4,"this"],[1,2004,179,9,"_anyBlankStartTime"],[1,2023,179,30],[1,2028,180,38],[1,2034,180,8,"this"],[1,2039,180,13,"_mostlyBlankStartTime"],[1,2063,181,6,"this"],[1,2068,181,11,"_info"],[1,2074,181,17,"mostly_blank_ms"],[1,2091,181,36,"now"],[1,2093,181,42,"this"],[1,2098,181,47,"_mostlyBlankStartTime"],[1,2121,183,4,"this"],[1,2126,183,9,"_mostlyBlankStartTime"],[1,2148,183,33],[1,2153,188,4],[1,2157,185,4],[1,2161,185,8,"blankTop"],[1,2163,185,19],[1,2165,186,8,"first"],[1,2167,186,16,"state"],[1,2169,186,22,"first"],[1,2175,187,8,"firstFrame"],[1,2177,187,21,"this"],[1,2182,187,26,"_getFrameMetrics"],[1,2199,187,43,"first"],[1,2202,188,11,"first"],[1,2205,188,20,"state"],[1,2207,188,26,"last"],[1,2215,188,36,"firstFrame"],[1,2219,188,51,"firstFrame"],[1,2221,188,62,"inLayout"],[1,2232,189,6,"firstFrame"],[1,2234,189,19,"this"],[1,2239,189,24,"_getFrameMetrics"],[1,2256,189,41,"first"],[1,2259,190,6,"first"],[1,2263,194,8,"firstFrame"],[1,2266,194,22,"first"],[1,2268,194,30],[1,2272,195,6,"blankTop"],[1,2274,195,17,"Math"],[1,2279,195,22,"min"],[1,2283,196,8,"visibleLength"],[1,2285,197,8,"Math"],[1,2290,197,13,"max"],[1,2294,197,17],[1,2296,197,20,"firstFrame"],[1,2298,197,31,"offset"],[1,2305,197,40,"offset"],[1,2310,203,4],[1,2314,200,4],[1,2318,200,8,"blankBottom"],[1,2320,200,22],[1,2322,201,8,"last"],[1,2324,201,15,"state"],[1,2326,201,21,"last"],[1,2331,202,8,"lastFrame"],[1,2333,202,20,"this"],[1,2338,202,25,"_getFrameMetrics"],[1,2355,202,42,"last"],[1,2358,203,11,"last"],[1,2361,203,19,"state"],[1,2363,203,25,"first"],[1,2372,203,36,"lastFrame"],[1,2376,203,50,"lastFrame"],[1,2378,203,60,"inLayout"],[1,2389,204,6,"lastFrame"],[1,2391,204,18,"this"],[1,2396,204,23,"_getFrameMetrics"],[1,2413,204,40,"last"],[1,2416,205,6,"last"],[1,2420,209,4],[1,2423,209,8,"lastFrame"],[1,2426,209,21,"last"],[1,2428,209,28,"props"],[1,2430,209,34,"getItemCount"],[1,2443,209,47,"props"],[1,2445,209,53,"data"],[1,2451,209,61],[1,2453,209,64],[1,2454,210,6],[1,2458,210,12,"bottomEdge"],[1,2460,210,25,"lastFrame"],[1,2462,210,35,"offset"],[1,2469,210,44,"lastFrame"],[1,2471,210,54,"length"],[1,2478,211,6,"blankBottom"],[1,2480,211,20,"Math"],[1,2485,211,25,"min"],[1,2489,212,8,"visibleLength"],[1,2491,213,8,"Math"],[1,2496,213,13,"max"],[1,2500,213,17],[1,2502,213,20,"offset"],[1,2504,213,29,"visibleLength"],[1,2506,213,45,"bottomEdge"],[1,2510,216,4],[1,2514,216,10,"pixels_blank"],[1,2516,216,25,"Math"],[1,2521,216,30,"round"],[1,2527,216,36,"blankTop"],[1,2529,216,47,"blankBottom"],[1,2532,217,10,"blankness"],[1,2534,217,22,"pixels_blank"],[1,2536,217,37,"visibleLength"],[1,2538,230,4],[1,2545,218,8,"blankness"],[1,2547,218,20],[1,2550,219,6,"this"],[1,2555,219,11,"_anyBlankStartTime"],[1,2574,219,32,"now"],[1,2576,220,6,"this"],[1,2581,220,11,"_info"],[1,2587,220,17,"any_blank_speed_sum"],[1,2608,220,40,"scrollSpeed"],[1,2610,221,6,"this"],[1,2615,221,11,"_info"],[1,2621,221,17,"any_blank_count"],[1,2639,222,6,"this"],[1,2644,222,11,"_info"],[1,2650,222,17,"pixels_blank"],[1,2664,222,33,"pixels_blank"],[1,2666,223,10,"blankness"],[1,2668,223,22],[1,2673,224,8,"this"],[1,2678,224,13,"_mostlyBlankStartTime"],[1,2700,224,37,"now"],[1,2702,225,8,"this"],[1,2707,225,13,"_info"],[1,2713,225,19,"mostly_blank_count"],[1,2737,227,15,"scrollSpeed"],[1,2739,227,29],[1,2744,227,37,"Math"],[1,2749,227,42,"abs"],[1,2753,227,46,"dOffset"],[1,2756,227,57],[1,2760,228,6,"this"],[1,2765,228,11,"deactivateAndFlush"],[1,2786,230,11,"blankness"],[1,2811,233,2],[1,2822,234,4],[1,2829,234,11,"this"],[1,2834,234,16,"_enabled"],[1,2869,237,2],[1,2880,238,4,"this"],[1,2885,238,9,"_anyBlankStartTime"],[1,2904,238,30],[1,2909,239,4,"this"],[1,2914,239,9,"_info"],[1,2920,239,17],[1,2924,239,21,"Info"],[1,2926,240,4,"this"],[1,2931,240,9,"_mostlyBlankStartTime"],[1,2953,240,33],[1,2958,241,4,"this"],[1,2963,241,9,"_samplesStartTime"],[1,2981,241,29],[1,3015,60,2],[1,3024,61,4,"callback"],[1,3027,68,4],[1,3034,63,4,"warning"],[1,3036,64,22],[1,3043,64,6,"_sampleRate"],[1,3045,65,6],[1,3106,67,4,"_listeners"],[1,3108,67,15,"push"],[1,3113,67,20,"callback"],[1,3117,69,6,"remove"],[1,3124,69,14],[1,3135,70,8,"_listeners"],[1,3137,70,21,"_listeners"],[1,3139,70,32,"filter"],[1,3146,70,39],[1,3155,70,39,"listener"],[1,3158,70,47],[1,3165,70,51,"callback"],[1,3169,70,64,"listener"],[1,3204,75,2],[1,3213,75,23,"sampleRate"],[1,3216,76,4,"_sampleRate"],[1,3218,76,18,"sampleRate"],[1,3253,79,2],[1,3262,79,27,"minSampleCount"],[1,3265,80,4,"_minSampleCount"],[1,3267,80,22,"minSampleCount"],[1,3279,245,0,"module"],[1,3281,245,7,"exports"],[1,3289,245,17,"FillRateHelper"]],"functionMap":{"names":["<global>","Info","FillRateHelper","addListener","remove","_listeners.filter$argument_0","setSampleRate","setMinSampleCount","constructor","activate","deactivateAndFlush","_listeners.forEach$argument_0","computeBlankness","enabled","_resetData"],"mappings":"AAA;ACiB;CDW;AEuB;ECQ;cCS;uCCC,iCD;ODC;GDE;EIE;GJE;EKE;GLE;EME;GNI;EOE;GPK;EQE;uBCsC,0BD;GRE;EUE;GV6F;EWE;GXE;EYE;GZK;CFC"}},"type":"js/module"}]}