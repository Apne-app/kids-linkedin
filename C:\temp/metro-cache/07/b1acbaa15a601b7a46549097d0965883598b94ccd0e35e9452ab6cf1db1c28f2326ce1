{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/assertThisInitialized","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.ensureModuleIsLoaded=L,e.captureRef=S,e.releaseCapture=k,e.captureScreen=function(t){L();var o=M(t),n=o.options;o.errors;return C.captureScreen(n)},e.default=void 0;var n=o(r(d[2])),u=o(r(d[3])),s=o(r(d[4])),p=o(r(d[5])),c=o(r(d[6])),f=o(r(d[7])),l=o(r(d[8])),h=t(r(d[9])),y=r(d[10]);function v(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function b(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);o&&(u=u.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,u)}return n}function w(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?b(Object(n),!0).forEach(function(o){(0,l.default)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var C=y.NativeModules.RNViewShot,O=new Promise(function(){});C||console.warn(\"react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.\");var j=[\"png\",\"jpg\"].concat(\"android\"===y.Platform.OS?[\"webm\",\"raw\"]:[]),P=[\"tmpfile\",\"base64\",\"data-uri\"].concat(\"android\"===y.Platform.OS?[\"zip-base64\"]:[]),R={format:\"png\",quality:1,result:\"tmpfile\",snapshotContentContainer:!1};function M(t){var o=w(w({},R),t),n=[];return\"width\"in o&&(\"number\"!=typeof o.width||o.width<=0)&&(n.push(\"option width should be a positive number\"),delete o.width),\"height\"in o&&(\"number\"!=typeof o.height||o.height<=0)&&(n.push(\"option height should be a positive number\"),delete o.height),(\"number\"!=typeof o.quality||o.quality<0||o.quality>1)&&(n.push(\"option quality should be a number between 0.0 and 1.0\"),o.quality=R.quality),\"boolean\"!=typeof o.snapshotContentContainer&&n.push(\"option snapshotContentContainer should be a boolean\"),-1===j.indexOf(o.format)&&(o.format=R.format,n.push(\"option format '\"+o.format+\"' is not in valid formats: \"+j.join(\" | \"))),-1===P.indexOf(o.result)&&(o.result=R.result,n.push(\"option result '\"+o.result+\"' is not in valid formats: \"+P.join(\" | \"))),{options:o,errors:n}}function L(){if(!C)throw new Error(\"react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.\")}function S(t,o){if(L(),t&&\"object\"==typeof t&&\"current\"in t&&t.current&&!(t=t.current))return Promise.reject(new Error(\"ref.current is null\"));if(\"number\"!=typeof t){var n=(0,y.findNodeHandle)(t);if(!n)return Promise.reject(new Error(\"findNodeHandle failed to resolve view=\"+String(t)));t=n}var u=M(o),s=u.options;u.errors;return C.captureRef(t,s)}function k(t){\"string\"!=typeof t||C.releaseCapture(t)}var q=(function(t){(0,p.default)(w,t);var o,l,b=(o=w,l=v(),function(){var t,n=(0,f.default)(o);if(l){var u=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function w(){var t;(0,n.default)(this,w);for(var o=arguments.length,u=new Array(o),p=0;p<o;p++)u[p]=arguments[p];return(t=b.call.apply(b,[this].concat(u))).firstLayoutPromise=new Promise(function(o){t.resolveFirstLayout=o}),t.capture=function(){return t.firstLayoutPromise.then(function(){var o=(0,s.default)(t).root;return o?S(o,t.props.options):O}).then(function(o){return t.onCapture(o),o},function(o){throw t.onCaptureFailure(o),o})},t.onCapture=function(o){if(t.root){t.lastCapturedURI&&setTimeout(k,500,t.lastCapturedURI),t.lastCapturedURI=o;var n=t.props.onCapture;n&&n(o)}},t.onCaptureFailure=function(o){if(t.root){var n=t.props.onCaptureFailure;n&&n(o)}},t.syncCaptureLoop=function(o){if(cancelAnimationFrame(t._raf),\"continuous\"===o){var n=\"-\";t._raf=requestAnimationFrame(function o(){t._raf=requestAnimationFrame(o),n!==t.lastCapturedURI&&(n=t.lastCapturedURI,t.capture())})}},t.onRef=function(o){t.root=o},t.onLayout=function(o){var n=t.props.onLayout;t.resolveFirstLayout(o.nativeEvent.layout),n&&n(o)},t}return(0,u.default)(w,[{key:\"componentDidMount\",value:function(){\"mount\"===this.props.captureMode?this.capture():this.syncCaptureLoop(this.props.captureMode)}},{key:\"componentDidUpdate\",value:function(t){void 0!==this.props.captureMode&&this.props.captureMode!==t.captureMode&&this.syncCaptureLoop(this.props.captureMode),\"update\"===this.props.captureMode&&this.capture()}},{key:\"componentWillUnmount\",value:function(){this.syncCaptureLoop(null)}},{key:\"render\",value:function(){var t=this.props.children;return h.default.createElement(y.View,{ref:this.onRef,collapsable:!1,onLayout:this.onLayout,style:this.props.style},t)}}]),w})(h.Component);e.default=q,q.captureRef=S,q.releaseCapture=k});","lineCount":1,"map":[[1,176,150,7],[1,185,150,30,"optionsObject"],[1,188,151,2,"ensureModuleIsLoaded"],[1,192,150,72],[1,196,150,72,"_validateOptions2"],[1,198,152,30,"validateOptions"],[1,200,152,46,"optionsObject"],[1,203,152,10,"options"],[1,205,150,72,"_validateOptions2"],[1,207,152,10,"options"],[1,215,150,72,"_validateOptions2"],[1,217,152,19,"errors"],[1,224,159,2],[1,231,159,9,"RNViewShot"],[1,233,159,20,"captureScreen"],[1,247,159,34,"options"],[1,363,2,0,"_react"],[1,365,2,0,"_interopRequireWildcard"],[1,367,2,0,"r"],[1,369,2,0,"d"],[1,371,2,0],[1,376,3,0,"_reactNative"],[1,378,3,0,"r"],[1,380,3,0,"d"],[1,382,3,0],[1,1220,4,8,"RNViewShot"],[1,1222,4,23,"NativeModules"],[1,1224,4,23,"NativeModules"],[1,1238,4,8,"RNViewShot"],[1,1249,8,6,"neverEndingPromise"],[1,1251,8,27],[1,1255,8,31,"Promise"],[1,1263,8,39],[1,1277,19,5,"RNViewShot"],[1,1280,20,2,"console"],[1,1288,20,10,"warn"],[1,1293,21,4],[1,1411,25,0],[1,1415,25,6,"acceptedFormats"],[1,1418,25,25],[1,1424,25,32],[1,1431,25,39,"concat"],[1,1438,26,18],[1,1450,26,2,"Platform"],[1,1452,26,2,"Platform"],[1,1461,26,11,"OS"],[1,1465,26,31],[1,1472,26,39],[1,1483,29,6,"acceptedResults"],[1,1486,29,25],[1,1496,29,36],[1,1505,29,46],[1,1517,29,58,"concat"],[1,1524,30,18],[1,1536,30,2,"Platform"],[1,1538,30,2,"Platform"],[1,1547,30,11,"OS"],[1,1551,30,31],[1,1569,33,6,"defaultOptions"],[1,1572,34,2,"format"],[1,1579,34,10],[1,1585,35,2,"quality"],[1,1593,35,11],[1,1595,36,2,"result"],[1,1602,36,10],[1,1612,37,2,"snapshotContentContainer"],[1,1638,37,28],[1,1641,41,0],[1,1650,41,9,"validateOptions"],[1,1652,42,2,"input"],[1,1655,44,2],[1,1659,44,8,"options"],[1,1661,44,24,"_objectSpread"],[1,1663,44,24,"_objectSpread"],[1,1668,45,7,"defaultOptions"],[1,1671,46,7,"input"],[1,1674,48,8,"errors"],[1,1679,92,2],[1,1685,50,4],[1,1695,50,15,"options"],[1,1699,51,30],[1,1716,51,12,"options"],[1,1718,51,20,"width"],[1,1725,51,42,"options"],[1,1727,51,50,"width"],[1,1734,51,59],[1,1739,53,4,"errors"],[1,1741,53,11,"push"],[1,1746,53,16],[1,1797,54,11,"options"],[1,1799,54,19,"width"],[1,1806,57,4],[1,1817,57,16,"options"],[1,1821,58,31],[1,1838,58,12,"options"],[1,1840,58,20,"height"],[1,1848,58,43,"options"],[1,1850,58,51,"height"],[1,1858,58,61],[1,1863,60,4,"errors"],[1,1865,60,11,"push"],[1,1870,60,16],[1,1922,61,11,"options"],[1,1924,61,19,"height"],[1,1933,64,31],[1,1950,64,11,"options"],[1,1952,64,19,"quality"],[1,1961,65,4,"options"],[1,1963,65,12,"quality"],[1,1971,65,22],[1,1974,66,4,"options"],[1,1976,66,12,"quality"],[1,1984,66,22],[1,1989,68,4,"errors"],[1,1991,68,11,"push"],[1,1996,68,16],[1,2053,69,4,"options"],[1,2055,69,12,"quality"],[1,2063,69,22,"defaultOptions"],[1,2065,69,37,"quality"],[1,2074,71,50],[1,2092,71,13,"options"],[1,2094,71,21,"snapshotContentContainer"],[1,2120,72,4,"errors"],[1,2122,72,11,"push"],[1,2127,72,16],[1,2183,74,6],[1,2187,74,6,"acceptedFormats"],[1,2189,74,22,"indexOf"],[1,2197,74,30,"options"],[1,2199,74,38,"format"],[1,2209,75,4,"options"],[1,2211,75,12,"format"],[1,2218,75,21,"defaultOptions"],[1,2220,75,36,"format"],[1,2227,76,4,"errors"],[1,2229,76,11,"push"],[1,2234,77,6],[1,2252,78,8,"options"],[1,2254,78,16,"format"],[1,2261,79,8],[1,2291,80,8,"acceptedFormats"],[1,2293,80,24,"join"],[1,2298,80,29],[1,2308,83,6],[1,2312,83,6,"acceptedResults"],[1,2314,83,22,"indexOf"],[1,2322,83,30,"options"],[1,2324,83,38,"result"],[1,2334,84,4,"options"],[1,2336,84,12,"result"],[1,2343,84,21,"defaultOptions"],[1,2345,84,36,"result"],[1,2352,85,4,"errors"],[1,2354,85,11,"push"],[1,2359,86,6],[1,2377,87,8,"options"],[1,2379,87,16,"result"],[1,2386,88,8],[1,2416,89,8,"acceptedResults"],[1,2418,89,24,"join"],[1,2423,89,29],[1,2433,92,11,"options"],[1,2441,92,11,"options"],[1,2443,92,20,"errors"],[1,2450,92,20,"errors"],[1,2453,95,7],[1,2462,95,16,"ensureModuleIsLoaded"],[1,2466,96,2],[1,2470,96,7,"RNViewShot"],[1,2472,97,4],[1,2478,97,10],[1,2482,97,14,"Error"],[1,2488,98,6],[1,2606,103,7],[1,2615,103,16,"captureRef"],[1,2617,104,2,"view"],[1,2619,105,2,"optionsObject"],[1,2622,108,2],[1,2625,107,2,"ensureModuleIsLoaded"],[1,2629,109,4,"view"],[1,2632,110,20],[1,2649,110,11,"view"],[1,2652,111,4],[1,2664,111,17,"view"],[1,2667,113,4,"view"],[1,2669,113,9,"current"],[1,2680,116,4,"view"],[1,2682,116,11,"view"],[1,2684,116,16,"current"],[1,2693,118,6],[1,2700,118,13,"Promise"],[1,2708,118,21,"reject"],[1,2715,118,28],[1,2719,118,32,"Error"],[1,2725,118,38],[1,2749,121,2],[1,2752,121,22],[1,2769,121,13,"view"],[1,2771,121,32],[1,2772,122,4],[1,2776,122,10,"node"],[1,2779,122,17],[1,2781,122,17,"_reactNative"],[1,2783,122,17,"findNodeHandle"],[1,2799,122,32,"view"],[1,2802,123,4],[1,2806,123,9,"node"],[1,2808,124,6],[1,2815,124,13,"Promise"],[1,2823,124,21,"reject"],[1,2830,125,8],[1,2834,125,12,"Error"],[1,2840,125,18],[1,2881,125,61,"String"],[1,2888,125,68,"view"],[1,2893,128,4,"view"],[1,2895,128,11,"node"],[1,2897,106,19],[1,2901,106,19,"_validateOptions"],[1,2903,130,30,"validateOptions"],[1,2905,130,46,"optionsObject"],[1,2908,130,10,"options"],[1,2910,106,19,"_validateOptions"],[1,2912,130,10,"options"],[1,2920,106,19,"_validateOptions"],[1,2922,130,19,"errors"],[1,2929,137,2],[1,2936,137,9,"RNViewShot"],[1,2938,137,20,"captureRef"],[1,2949,137,31,"view"],[1,2951,137,37,"options"],[1,2954,140,7],[1,2963,140,16,"releaseCapture"],[1,2965,140,31,"uri"],[1,2968,141,21],[1,2985,141,13,"uri"],[1,2988,146,4,"RNViewShot"],[1,2990,146,15,"releaseCapture"],[1,3005,146,30,"uri"],[1,3012,192,21,"ViewShot"],[1,3399,202,2,"firstLayoutPromise"],[1,3418,202,40],[1,3422,202,44,"Promise"],[1,3430,202,52],[1,3439,202,52,"resolve"],[1,3442,203,4,"_this"],[1,3444,203,9,"resolveFirstLayout"],[1,3463,203,30,"resolve"],[1,3469,206,2,"capture"],[1,3477,206,12],[1,3488,206,12],[1,3495,207,4,"_this"],[1,3497,207,9,"firstLayoutPromise"],[1,3516,208,7,"then"],[1,3521,208,12],[1,3532,208,18],[1,3536,209,16,"root"],[1,3539,208,18],[1,3541,208,18,"_assertThisInitialized2"],[1,3543,208,18,"default"],[1,3552,208,18,"_this"],[1,3555,209,16,"root"],[1,3560,210,8],[1,3567,210,13,"root"],[1,3569,211,15,"captureRef"],[1,3571,211,26,"root"],[1,3573,211,32,"_this"],[1,3575,211,37,"props"],[1,3581,211,43,"options"],[1,3590,210,26,"neverEndingPromise"],[1,3594,213,7,"then"],[1,3599,214,8],[1,3608,214,9,"uri"],[1,3611,216,10],[1,3618,215,10,"_this"],[1,3620,215,15,"onCapture"],[1,3630,215,25,"uri"],[1,3633,216,17,"uri"],[1,3636,218,8],[1,3645,218,9,"e"],[1,3648,220,10],[1,3654,219,10,"_this"],[1,3656,219,15,"onCaptureFailure"],[1,3673,219,32,"e"],[1,3676,220,16,"e"],[1,3683,224,2,"onCapture"],[1,3693,224,14],[1,3702,224,15,"uri"],[1,3705,225,4],[1,3708,225,9,"_this"],[1,3710,225,14,"root"],[1,3715,225,4],[1,3716,226,8,"_this"],[1,3718,226,13,"lastCapturedURI"],[1,3735,228,6,"setTimeout"],[1,3746,228,17,"releaseCapture"],[1,3748,228,33],[1,3752,228,38,"_this"],[1,3754,228,43,"lastCapturedURI"],[1,3771,230,4,"_this"],[1,3773,230,9,"lastCapturedURI"],[1,3789,230,27,"uri"],[1,3791,224,31],[1,3795,231,12,"onCapture"],[1,3797,231,26,"_this"],[1,3799,231,31,"props"],[1,3805,231,12,"onCapture"],[1,3815,232,8,"onCapture"],[1,3818,232,19,"onCapture"],[1,3820,232,29,"uri"],[1,3827,235,2,"onCaptureFailure"],[1,3844,235,21],[1,3853,235,22,"e"],[1,3856,236,4],[1,3859,236,9,"_this"],[1,3861,236,14,"root"],[1,3866,236,4],[1,3867,235,35],[1,3871,237,12,"onCaptureFailure"],[1,3873,237,33,"_this"],[1,3875,237,38,"props"],[1,3881,237,12,"onCaptureFailure"],[1,3898,238,8,"onCaptureFailure"],[1,3901,238,26,"onCaptureFailure"],[1,3903,238,43,"e"],[1,3910,241,2,"syncCaptureLoop"],[1,3926,241,20],[1,3935,241,21,"captureMode"],[1,3938,243,4],[1,3941,242,4,"cancelAnimationFrame"],[1,3962,242,25,"_this"],[1,3964,242,30,"_raf"],[1,3970,243,24],[1,3985,243,8,"captureMode"],[1,3987,243,38],[1,3988,244,6],[1,3992,244,10,"previousCaptureURI"],[1,3994,244,31],[1,3998,251,6,"_this"],[1,4000,251,11,"_raf"],[1,4005,251,18,"requestAnimationFrame"],[1,4027,245,19],[1,4036,245,12,"loop"],[1,4040,246,8,"_this"],[1,4042,246,13,"_raf"],[1,4047,246,20,"requestAnimationFrame"],[1,4069,246,42,"loop"],[1,4072,247,12,"previousCaptureURI"],[1,4076,247,35,"_this"],[1,4078,247,40,"lastCapturedURI"],[1,4096,248,8,"previousCaptureURI"],[1,4098,248,29,"_this"],[1,4100,248,34,"lastCapturedURI"],[1,4116,249,8,"_this"],[1,4118,249,13,"capture"],[1,4135,255,2,"onRef"],[1,4141,255,10],[1,4150,255,11,"ref"],[1,4153,256,4,"_this"],[1,4155,256,9,"root"],[1,4160,256,16,"ref"],[1,4165,259,2,"onLayout"],[1,4174,259,13],[1,4183,259,14,"e"],[1,4186,259,33],[1,4190,260,12,"onLayout"],[1,4192,260,25,"_this"],[1,4194,260,30,"props"],[1,4200,260,12,"onLayout"],[1,4209,261,4,"_this"],[1,4211,261,9,"resolveFirstLayout"],[1,4230,261,28,"e"],[1,4232,261,30,"nativeEvent"],[1,4244,261,42,"layout"],[1,4252,262,8,"onLayout"],[1,4255,262,18,"onLayout"],[1,4257,262,27,"e"],[1,4328,267,35],[1,4338,267,8,"this"],[1,4343,267,13,"props"],[1,4349,267,19,"captureMode"],[1,4361,268,6,"this"],[1,4366,268,11,"capture"],[1,4376,270,6,"this"],[1,4381,270,11,"syncCaptureLoop"],[1,4397,270,27,"this"],[1,4402,270,32,"props"],[1,4408,270,38,"captureMode"],[1,4464,274,21,"prevProps"],[1,4472,275,35,"undefined"],[1,4476,275,8,"this"],[1,4481,275,13,"props"],[1,4487,275,19,"captureMode"],[1,4500,276,10,"this"],[1,4505,276,15,"props"],[1,4511,276,21,"captureMode"],[1,4525,276,37,"prevProps"],[1,4527,276,47,"captureMode"],[1,4540,277,8,"this"],[1,4545,277,13,"syncCaptureLoop"],[1,4561,277,29,"this"],[1,4566,277,34,"props"],[1,4572,277,40,"captureMode"],[1,4585,280,35],[1,4596,280,8,"this"],[1,4601,280,13,"props"],[1,4607,280,19,"captureMode"],[1,4620,281,6,"this"],[1,4625,281,11,"capture"],[1,4682,286,4,"this"],[1,4687,286,9,"syncCaptureLoop"],[1,4703,286,25],[1,4742,289,11],[1,4746,290,12,"children"],[1,4748,290,25,"this"],[1,4753,290,30,"props"],[1,4759,290,12,"children"],[1,4768,291,4],[1,4775,292,6,"_react"],[1,4777,292,6,"default"],[1,4785,292,6,"createElement"],[1,4799,292,7,"_reactNative"],[1,4801,292,7,"View"],[1,4807,293,8,"ref"],[1,4811,293,13,"this"],[1,4816,293,18,"onRef"],[1,4822,294,8,"collapsable"],[1,4835,294,21],[1,4837,295,8,"onLayout"],[1,4846,295,18,"this"],[1,4851,295,23,"onLayout"],[1,4860,296,8,"style"],[1,4866,296,15,"this"],[1,4871,296,20,"props"],[1,4877,296,26,"style"],[1,4884,298,9,"children"],[1,4895,192,38,"Component"],[1,4897,192,38,"Component"],[1,4920,192,21,"ViewShot"],[1,4922,193,9,"captureRef"],[1,4933,193,22,"captureRef"],[1,4935,192,21,"ViewShot"],[1,4937,194,9,"releaseCapture"],[1,4952,194,26,"releaseCapture"]],"functionMap":{"names":["<global>","Promise$argument_0","validateOptions","ensureModuleIsLoaded","captureRef","errors.map$argument_0","releaseCapture","captureScreen","checkCompatibleProps","ViewShot","ViewShot#capture","firstLayoutPromise.then$argument_0","firstLayoutPromise.then.then$argument_0","firstLayoutPromise.then.then$argument_1","ViewShot#onCapture","ViewShot#onCaptureFailure","ViewShot#syncCaptureLoop","loop","ViewShot#onRef","ViewShot#onLayout","ViewShot#componentDidMount","ViewShot#componentDidUpdate","ViewShot#componentWillUnmount","ViewShot#render"],"mappings":"AAA;uCCO,QD;AEiC;CFoD;OGE;CHM;OIE;mBC+B,aD;CJI;OME;CNQ;OOE;mBFM,aE;CPI;AQY;CRkB;eSE;oDRU;GQE;YCE;YCE;ODI;QEE;SFG;QGC;SHG;ODC;cKE;GLS;qBME;GNI;oBOE;mBCI;ODK;GPG;USE;GTE;aUE;GVI;EWE;GXO;EYE;GZS;EaE;GbE;EcE;GdY;CTC"}},"type":"js/module"}]}