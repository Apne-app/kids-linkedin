{"dependencies":[{"name":"../util/assign","data":{"isAsync":false}},{"name":"../util/event_emitter","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var assign = _$$_REQUIRE(_dependencyMap[0], \"../util/assign\"),\n      EventEmitter = _$$_REQUIRE(_dependencyMap[1], \"../util/event_emitter\");\n\n  var Publisher = {\n    countListeners: function countListeners(eventType) {\n      return this.listeners(eventType).length;\n    },\n    bind: function bind(eventType, listener, context) {\n      var slice = Array.prototype.slice,\n          handler = function handler() {\n        listener.apply(context, slice.call(arguments));\n      };\n\n      this._listeners = this._listeners || [];\n\n      this._listeners.push([eventType, listener, context, handler]);\n\n      return this.on(eventType, handler);\n    },\n    unbind: function unbind(eventType, listener, context) {\n      this._listeners = this._listeners || [];\n      var n = this._listeners.length,\n          tuple;\n\n      while (n--) {\n        tuple = this._listeners[n];\n        if (tuple[0] !== eventType) continue;\n        if (listener && (tuple[1] !== listener || tuple[2] !== context)) continue;\n\n        this._listeners.splice(n, 1);\n\n        this.removeListener(eventType, tuple[3]);\n      }\n    }\n  };\n  assign(Publisher, EventEmitter.prototype);\n  Publisher.trigger = Publisher.emit;\n  module.exports = Publisher;\n});","lineCount":42,"map":[[2,0,1,0],[4,0,3,0],[4,6,3,4,"assign"],[4,12,3,10],[4,15,3,19,"require"],[4,26,3,26],[4,63,3,0],[5,0,3,0],[5,6,4,4,"EventEmitter"],[5,18,4,16],[5,21,4,19,"require"],[5,32,4,26],[5,76,3,0],[7,0,6,0],[7,6,6,4,"Publisher"],[7,15,6,13],[7,18,6,16],[8,0,7,2,"countListeners"],[8,4,7,2,"countListeners"],[8,18,7,16],[8,20,7,18],[8,44,7,27,"eventType"],[8,53,7,18],[8,55,7,38],[9,0,8,4],[9,13,8,11],[9,18,8,16,"listeners"],[9,27,8,11],[9,28,8,26,"eventType"],[9,37,8,11],[9,39,8,37,"length"],[9,45,8,4],[10,0,9,3],[10,5,6,16],[11,0,11,2,"bind"],[11,4,11,2,"bind"],[11,8,11,6],[11,10,11,8],[11,24,11,17,"eventType"],[11,33,11,8],[11,35,11,28,"listener"],[11,43,11,8],[11,45,11,38,"context"],[11,52,11,8],[11,54,11,47],[12,0,12,4],[12,10,12,8,"slice"],[12,15,12,13],[12,18,12,18,"Array"],[12,23,12,23],[12,24,12,24,"prototype"],[12,33,12,18],[12,34,12,34,"slice"],[12,39,12,4],[13,0,12,4],[13,10,13,8,"handler"],[13,17,13,15],[13,20,13,18],[13,29,13,8,"handler"],[13,36,13,18],[13,39,13,29],[14,0,13,31,"listener"],[14,8,13,31,"listener"],[14,16,13,39],[14,17,13,40,"apply"],[14,22,13,31],[14,23,13,46,"context"],[14,30,13,31],[14,32,13,55,"slice"],[14,37,13,60],[14,38,13,61,"call"],[14,42,13,55],[14,43,13,66,"arguments"],[14,52,13,55],[14,53,13,31],[15,0,13,79],[15,7,12,4],[17,0,15,4],[17,11,15,9,"_listeners"],[17,21,15,4],[17,24,15,22],[17,29,15,27,"_listeners"],[17,39,15,22],[17,43,15,41],[17,45,15,4],[19,0,16,4],[19,11,16,9,"_listeners"],[19,21,16,4],[19,22,16,20,"push"],[19,26,16,4],[19,27,16,25],[19,28,16,26,"eventType"],[19,37,16,25],[19,39,16,37,"listener"],[19,47,16,25],[19,49,16,47,"context"],[19,56,16,25],[19,58,16,56,"handler"],[19,65,16,25],[19,66,16,4],[21,0,17,4],[21,13,17,11],[21,18,17,16,"on"],[21,20,17,11],[21,21,17,19,"eventType"],[21,30,17,11],[21,32,17,30,"handler"],[21,39,17,11],[21,40,17,4],[22,0,18,3],[22,5,6,16],[23,0,20,2,"unbind"],[23,4,20,2,"unbind"],[23,10,20,8],[23,12,20,10],[23,28,20,19,"eventType"],[23,37,20,10],[23,39,20,30,"listener"],[23,47,20,10],[23,49,20,40,"context"],[23,56,20,10],[23,58,20,49],[24,0,21,4],[24,11,21,9,"_listeners"],[24,21,21,4],[24,24,21,22],[24,29,21,27,"_listeners"],[24,39,21,22],[24,43,21,41],[24,45,21,4],[25,0,22,4],[25,10,22,8,"n"],[25,11,22,9],[25,14,22,12],[25,19,22,17,"_listeners"],[25,29,22,12],[25,30,22,28,"length"],[25,36,22,4],[26,0,22,4],[26,10,22,36,"tuple"],[26,15,22,4],[28,0,24,4],[28,13,24,11,"n"],[28,14,24,12],[28,16,24,4],[28,18,24,16],[29,0,25,6,"tuple"],[29,8,25,6,"tuple"],[29,13,25,11],[29,16,25,14],[29,21,25,19,"_listeners"],[29,31,25,14],[29,32,25,30,"n"],[29,33,25,14],[29,34,25,6],[30,0,26,6],[30,12,26,10,"tuple"],[30,17,26,15],[30,18,26,16],[30,19,26,15],[30,20,26,10],[30,25,26,23,"eventType"],[30,34,26,6],[30,36,26,34],[31,0,27,6],[31,12,27,10,"listener"],[31,20,27,18],[31,25,27,23,"tuple"],[31,30,27,28],[31,31,27,29],[31,32,27,28],[31,33,27,23],[31,38,27,36,"listener"],[31,46,27,23],[31,50,27,48,"tuple"],[31,55,27,53],[31,56,27,54],[31,57,27,53],[31,58,27,48],[31,63,27,61,"context"],[31,70,27,18],[31,71,27,6],[31,73,27,71],[33,0,28,6],[33,13,28,11,"_listeners"],[33,23,28,6],[33,24,28,22,"splice"],[33,30,28,6],[33,31,28,29,"n"],[33,32,28,6],[33,34,28,32],[33,35,28,6],[35,0,29,6],[35,13,29,11,"removeListener"],[35,27,29,6],[35,28,29,26,"eventType"],[35,37,29,6],[35,39,29,37,"tuple"],[35,44,29,42],[35,45,29,43],[35,46,29,42],[35,47,29,6],[36,0,30,5],[37,0,31,3],[38,0,6,16],[38,3,6,0],[39,0,34,0,"assign"],[39,2,34,0,"assign"],[39,8,34,6],[39,9,34,7,"Publisher"],[39,18,34,6],[39,20,34,18,"EventEmitter"],[39,32,34,30],[39,33,34,31,"prototype"],[39,42,34,6],[39,43,34,0],[40,0,35,0,"Publisher"],[40,2,35,0,"Publisher"],[40,11,35,9],[40,12,35,10,"trigger"],[40,19,35,0],[40,22,35,20,"Publisher"],[40,31,35,29],[40,32,35,30,"emit"],[40,36,35,0],[41,0,37,0,"module"],[41,2,37,0,"module"],[41,8,37,6],[41,9,37,7,"exports"],[41,16,37,0],[41,19,37,17,"Publisher"],[41,28,37,0]],"functionMap":{"names":["<global>","Publisher.countListeners","Publisher.bind","handler","Publisher.unbind"],"mappings":"AAA;kBCM;GDE;QEE;kBCE,6DD;GFK;UIE;GJW"}},"type":"js/module"}]}