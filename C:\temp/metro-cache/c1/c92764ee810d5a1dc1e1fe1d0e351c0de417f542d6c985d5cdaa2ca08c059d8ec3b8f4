{"dependencies":[{"name":"@babel/runtime/helpers/extends","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/typeof","data":{"isAsync":false}},{"name":"./errors","data":{"isAsync":false}},{"name":"./utils","data":{"isAsync":false}},{"name":"lodash/isObject","data":{"isAsync":false}},{"name":"lodash/isPlainObject","data":{"isAsync":false}},{"name":"./user","data":{"isAsync":false}},{"name":"./signing","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),l=r(d[4]),f=r(d[5]),u=r(d[6]),c=r(d[7]),h=function(){this.initialize.apply(this,arguments)};function p(t){var n=t;if(Array.isArray(t))n=t.map(function(t){return p(t)});else if(f(t))for(var s in n={},t)n[s]=p(t[s]);else l(t)&&void 0!==t._streamRef&&(n=t._streamRef());return n}h.prototype={initialize:function(t,n,l,f){if(!n||!l)throw new s.FeedError('Please provide a feed slug and user id, ie client.feed(\"user\", \"1\")');if(-1!==n.indexOf(':'))throw new s.FeedError('Please initialize the feed using client.feed(\"user\", \"1\") not client.feed(\"user:1\")');if(o.validateFeedSlug(n),o.validateUserId(l),!this.apiSecret&&!f)throw new s.FeedError('Missing token, in client side mode please provide a feed secret');this.client=t,this.slug=n,this.userId=l,this.id=this.slug+':'+this.userId,this.token=f,this.feedUrl=this.id.replace(':','/'),this.feedTogether=this.id.replace(':',''),this.signature=this.feedTogether+' '+this.token,this.notificationChannel='site-'+this.client.appId+'-feed-'+this.feedTogether,this.enrichByDefault=!1},addActivity:function(t,n){return!(t=p(t)).actor&&this.client.currentUser&&(t.actor=this.client.currentUser._streamRef()),this.client.post({url:'feed/'+this.feedUrl+'/',body:t,signature:this.signature},n)},removeActivity:function(t,n){var s=t.foreignId?t.foreignId:t,o={};return t.foreignId&&(o.foreign_id='1'),this.client.delete({url:'feed/'+this.feedUrl+'/'+s+'/',qs:o,signature:this.signature},n)},addActivities:function(t,n){var s={activities:t=p(t)};return this.client.post({url:'feed/'+this.feedUrl+'/',body:s,signature:this.signature},n)},follow:function(t,n,s,l){var f;n instanceof u&&(n=n.id),o.validateFeedSlug(t),o.validateUserId(n);var c=arguments[arguments.length-1];l=c.call?c:void 0;var h=t+':'+n;s&&!s.call&&void 0!==s.limit&&null!==s.limit&&(f=s.limit);var p={target:h};return void 0!==f&&null!==f&&(p.activity_copy_limit=f),this.client.post({url:'feed/'+this.feedUrl+'/following/',body:p,signature:this.signature},l)},unfollow:function(t,s,l,f){var u={},c={};'function'==typeof l&&(f=l),'object'===n(l)&&(u=l),'boolean'==typeof u.keepHistory&&u.keepHistory&&(c.keep_history='1'),o.validateFeedSlug(t),o.validateUserId(s);var h=t+':'+s;return this.client.delete({url:'feed/'+this.feedUrl+'/following/'+h+'/',qs:c,signature:this.signature},f)},following:function(t,n){return void 0!==t&&t.filter&&(t.filter=t.filter.join(',')),this.client.get({url:'feed/'+this.feedUrl+'/following/',qs:t,signature:this.signature},n)},followers:function(t,n){return void 0!==t&&t.filter&&(t.filter=t.filter.join(',')),this.client.get({url:'feed/'+this.feedUrl+'/followers/',qs:t,signature:this.signature},n)},get:function(t,n){var s;return t&&t.mark_read&&t.mark_read.join&&(t.mark_read=t.mark_read.join(',')),t&&t.mark_seen&&t.mark_seen.join&&(t.mark_seen=t.mark_seen.join(',')),this.client.replaceReactionOptions(t),s=this.client.shouldUseEnrichEndpoint(t)?'enrich/feed/':'feed/',this.client.get({url:s+this.feedUrl+'/',qs:t,signature:this.signature},n)},getReadOnlyToken:function(){var t=''+this.slug+this.userId;return c.JWTScopeToken(this.client.apiSecret,'*','read',{feedId:t,expireTokens:this.client.expireTokens})},getReadWriteToken:function(){var t=''+this.slug+this.userId;return c.JWTScopeToken(this.client.apiSecret,'*','*',{feedId:t,expireTokens:this.client.expireTokens})},getActivityDetail:function(n,s,o){return this.get(t({id_lte:n,id_gte:n,limit:1},s||{}),o)},getFayeClient:function(){return this.client.getFayeClient()},subscribe:function(t){if(!this.client.appId)throw new s.SiteError('Missing app id, which is needed to subscribe, use var client = stream.connect(key, secret, appId);');var n=this.getFayeClient().subscribe('/'+this.notificationChannel,t);return this.client.subscriptions['/'+this.notificationChannel]={token:this.token,userId:this.notificationChannel,fayeSubscription:n},n},unsubscribe:function(){var t=this.client.subscriptions['/'+this.notificationChannel];t&&(delete this.client.subscriptions['/'+this.notificationChannel],t.fayeSubscription.cancel())},updateActivityToTargets:function(t,n,s,o,l){if(!t)throw new Error('Missing `foreign_id` parameter!');if(!n)throw new Error('Missing `time` parameter!');if(!s&&!o&&!l)throw new Error('Requires you to provide at least one parameter for `new_targets`, `added_targets`, or `removed_targets` - example: `updateActivityToTargets(\"foreignID:1234\", new Date(), [new_targets...], [added_targets...], [removed_targets...])`');if(s&&(o||l))throw new Error(\"Can't include add_targets or removed_targets if you're also including new_targets\");if(o&&l)for(var f=0;f<o.length;f++)for(var u=0;u<l.length;u++)if(l[u]==o[f])throw new Error(\"Can't have the same feed ID in added_targets and removed_targets.\");var c={foreign_id:t,time:n};return s&&(c.new_targets=s),o&&(c.added_targets=o),l&&(c.removed_targets=l),this.client.post({url:'feed_targets/'+this.feedUrl+'/activity_to_targets/',signature:this.signature,body:c})}},m.exports=h});","lineCount":1,"map":[[1,28,1,0],[1,32,1,4,"_extends"],[1,34,1,15,"require"],[1,36,1,22,"d"],[1,38,1,22],[1,42,3,4,"_typeof"],[1,44,3,14,"require"],[1,46,3,21,"d"],[1,48,3,21],[1,52,5,4,"errors"],[1,54,5,13,"require"],[1,56,5,20,"d"],[1,58,5,20],[1,62,7,4,"utils"],[1,64,7,12,"require"],[1,66,7,19,"d"],[1,68,7,19],[1,72,9,4,"isObject"],[1,74,9,15,"require"],[1,76,9,22,"d"],[1,78,9,22],[1,82,11,4,"isPlainObject"],[1,84,11,20,"require"],[1,86,11,27,"d"],[1,88,11,27],[1,92,13,4,"StreamUser"],[1,94,13,17,"require"],[1,96,13,24,"d"],[1,98,13,24],[1,102,15,4,"signing"],[1,104,15,14,"require"],[1,106,15,21,"d"],[1,108,15,21],[1,112,17,4,"StreamFeed"],[1,114,17,17],[1,125,23,2,"this"],[1,130,23,7,"initialize"],[1,141,23,18,"apply"],[1,147,23,24,"this"],[1,152,23,30,"arguments"],[1,164,26,0],[1,173,26,9,"replaceStreamObjects"],[1,175,26,30,"obj"],[1,178,27,2],[1,182,27,6,"cloned"],[1,184,27,15,"obj"],[1,186,29,2],[1,189,29,6,"Array"],[1,195,29,12,"isArray"],[1,203,29,20,"obj"],[1,206,30,4,"cloned"],[1,208,30,13,"obj"],[1,210,30,17,"map"],[1,214,30,21],[1,223,30,31,"v"],[1,226,31,6],[1,233,31,13,"replaceStreamObjects"],[1,235,31,34,"v"],[1,245,33,9],[1,248,33,13,"isPlainObject"],[1,250,33,27,"obj"],[1,253,36,4],[1,257,36,9],[1,261,36,13,"k"],[1,266,34,4,"cloned"],[1,271,36,18,"obj"],[1,273,37,6,"cloned"],[1,275,37,13,"k"],[1,278,37,18,"replaceStreamObjects"],[1,280,37,39,"obj"],[1,282,37,43,"k"],[1,291,39,13,"isObject"],[1,293,39,22,"obj"],[1,302,39,49,"undefined"],[1,306,39,30,"obj"],[1,308,39,34,"_streamRef"],[1,321,40,4,"cloned"],[1,323,40,13,"obj"],[1,325,40,17,"_streamRef"],[1,339,43,2],[1,346,43,9,"cloned"],[1,348,46,0,"StreamFeed"],[1,350,46,11,"prototype"],[1,361,47,2,"initialize"],[1,372,47,14],[1,381,47,34,"client"],[1,383,47,42,"feedSlug"],[1,385,47,52,"userId"],[1,387,47,60,"token"],[1,390,57,4],[1,394,57,9,"feedSlug"],[1,398,57,22,"userId"],[1,400,58,6],[1,406,58,12],[1,410,58,16,"errors"],[1,412,58,23,"FeedError"],[1,422,58,33],[1,493,61,4],[1,497,61,8],[1,501,61,8,"feedSlug"],[1,503,61,17,"indexOf"],[1,511,61,25],[1,516,62,6],[1,522,62,12],[1,526,62,16,"errors"],[1,528,62,23,"FeedError"],[1,538,62,33],[1,625,68,4],[1,628,65,4,"utils"],[1,630,65,10,"validateFeedSlug"],[1,647,65,27,"feedSlug"],[1,650,66,4,"utils"],[1,652,66,10,"validateUserId"],[1,667,66,25,"userId"],[1,671,68,9,"this"],[1,676,68,14,"apiSecret"],[1,688,68,28,"token"],[1,690,69,6],[1,696,69,12],[1,700,69,16,"errors"],[1,702,69,23,"FeedError"],[1,712,69,33],[1,779,72,4,"this"],[1,784,72,9,"client"],[1,791,72,18,"client"],[1,793,73,4,"this"],[1,798,73,9,"slug"],[1,803,73,16,"feedSlug"],[1,805,74,4,"this"],[1,810,74,9,"userId"],[1,817,74,18,"userId"],[1,819,75,4,"this"],[1,824,75,9,"id"],[1,827,75,14,"this"],[1,832,75,19,"slug"],[1,837,75,26],[1,841,75,32,"this"],[1,846,75,37,"userId"],[1,853,76,4,"this"],[1,858,76,9,"token"],[1,864,76,17,"token"],[1,866,77,4,"this"],[1,871,77,9,"feedUrl"],[1,879,77,19,"this"],[1,884,77,24,"id"],[1,887,77,27,"replace"],[1,895,77,35],[1,899,77,40],[1,904,78,4,"this"],[1,909,78,9,"feedTogether"],[1,922,78,24,"this"],[1,927,78,29,"id"],[1,930,78,32,"replace"],[1,938,78,40],[1,942,78,45],[1,946,79,4,"this"],[1,951,79,9,"signature"],[1,961,79,21,"this"],[1,966,79,26,"feedTogether"],[1,979,79,41],[1,983,79,47,"this"],[1,988,79,52,"token"],[1,994,81,4,"this"],[1,999,81,9,"notificationChannel"],[1,1019,81,31],[1,1027,81,41,"this"],[1,1032,81,46,"client"],[1,1039,81,53,"appId"],[1,1045,81,61],[1,1054,81,72,"this"],[1,1059,81,77,"feedTogether"],[1,1072,82,4,"this"],[1,1077,82,9,"enrichByDefault"],[1,1094,82,27],[1,1097,84,2,"addActivity"],[1,1109,84,15],[1,1118,84,36,"activity"],[1,1120,84,46,"callback"],[1,1123,100,4],[1,1131,94,4,"activity"],[1,1133,94,15,"replaceStreamObjects"],[1,1135,94,36,"activity"],[1,1139,96,18,"actor"],[1,1146,96,27,"this"],[1,1151,96,32,"client"],[1,1158,96,39,"currentUser"],[1,1172,97,6,"activity"],[1,1174,97,15,"actor"],[1,1180,97,23,"this"],[1,1185,97,28,"client"],[1,1192,97,35,"currentUser"],[1,1204,97,47,"_streamRef"],[1,1218,100,11,"this"],[1,1223,100,16,"client"],[1,1230,100,23,"post"],[1,1236,101,6,"url"],[1,1240,101,11],[1,1248,101,21,"this"],[1,1253,101,26,"feedUrl"],[1,1261,101,36],[1,1265,102,6,"body"],[1,1270,102,12,"activity"],[1,1272,103,6,"signature"],[1,1282,103,17,"this"],[1,1287,103,22,"signature"],[1,1298,104,7,"callback"],[1,1302,106,2,"removeActivity"],[1,1317,106,18],[1,1326,106,42,"activityId"],[1,1328,106,54,"callback"],[1,1331,119,4],[1,1335,119,8,"identifier"],[1,1337,119,21,"activityId"],[1,1339,119,32,"foreignId"],[1,1349,119,44,"activityId"],[1,1351,119,55,"foreignId"],[1,1361,119,67,"activityId"],[1,1363,120,8,"params"],[1,1368,126,4],[1,1375,122,8,"activityId"],[1,1377,122,19,"foreignId"],[1,1389,123,6,"params"],[1,1391,123,12],[1,1402,123,29],[1,1407,126,11,"this"],[1,1412,126,16,"client"],[1,1419,126,11],[1,1427,127,6,"url"],[1,1431,127,11],[1,1439,127,21,"this"],[1,1444,127,26,"feedUrl"],[1,1452,127,36],[1,1456,127,42,"identifier"],[1,1458,127,55],[1,1462,128,6,"qs"],[1,1465,128,10,"params"],[1,1467,129,6,"signature"],[1,1477,129,17,"this"],[1,1482,129,22,"signature"],[1,1493,130,7,"callback"],[1,1497,132,2,"addActivities"],[1,1511,132,17],[1,1520,132,40,"activities"],[1,1522,132,52,"callback"],[1,1525,142,4],[1,1529,142,8,"data"],[1,1532,143,6,"activities"],[1,1543,141,4,"activities"],[1,1545,141,17,"replaceStreamObjects"],[1,1547,141,38,"activities"],[1,1551,150,4],[1,1558,145,14,"this"],[1,1563,145,19,"client"],[1,1570,145,26,"post"],[1,1576,146,6,"url"],[1,1580,146,11],[1,1588,146,21,"this"],[1,1593,146,26,"feedUrl"],[1,1601,146,36],[1,1605,147,6,"body"],[1,1610,147,12,"data"],[1,1612,148,6,"signature"],[1,1622,148,17,"this"],[1,1627,148,22,"signature"],[1,1638,149,7,"callback"],[1,1642,152,2,"follow"],[1,1649,152,10],[1,1658,152,26,"targetSlug"],[1,1660,152,38,"targetUserId"],[1,1662,152,52,"options"],[1,1664,152,61,"callback"],[1,1667,173,4],[1,1671,173,8,"activityCopyLimit"],[1,1673,167,8,"targetUserId"],[1,1686,167,32,"StreamUser"],[1,1690,168,6,"targetUserId"],[1,1692,168,21,"targetUserId"],[1,1694,168,34,"id"],[1,1698,171,4,"utils"],[1,1700,171,10,"validateFeedSlug"],[1,1717,171,27,"targetSlug"],[1,1720,172,4,"utils"],[1,1722,172,10,"validateUserId"],[1,1737,172,25,"targetUserId"],[1,1740,174,4],[1,1744,174,8,"last"],[1,1746,174,15,"arguments"],[1,1756,174,25,"arguments"],[1,1766,174,35,"length"],[1,1773,174,44],[1,1776,176,4,"callback"],[1,1778,176,15,"last"],[1,1780,176,20,"call"],[1,1785,176,27,"last"],[1,1792,176,34,"undefined"],[1,1794,177,4],[1,1798,177,8,"target"],[1,1800,177,17,"targetSlug"],[1,1802,177,30],[1,1806,177,36,"targetUserId"],[1,1808,179,8,"options"],[1,1812,179,20,"options"],[1,1814,179,28,"call"],[1,1825,180,35],[1,1829,180,17,"options"],[1,1831,180,25,"limit"],[1,1838,180,68],[1,1845,180,50,"options"],[1,1847,180,58,"limit"],[1,1855,181,8,"activityCopyLimit"],[1,1857,181,28,"options"],[1,1859,181,36,"limit"],[1,1866,185,4],[1,1870,185,8,"body"],[1,1873,186,6,"target"],[1,1880,186,14,"target"],[1,1883,193,4],[1,1895,189,37],[1,1899,189,15,"activityCopyLimit"],[1,1902,189,74],[1,1909,189,52,"activityCopyLimit"],[1,1913,190,6,"body"],[1,1915,190,10],[1,1935,190,36,"activityCopyLimit"],[1,1938,193,11,"this"],[1,1943,193,16,"client"],[1,1950,193,23,"post"],[1,1956,194,6,"url"],[1,1960,194,11],[1,1968,194,21,"this"],[1,1973,194,26,"feedUrl"],[1,1981,194,36],[1,1995,195,6,"body"],[1,2000,195,12,"body"],[1,2002,196,6,"signature"],[1,2012,196,17,"this"],[1,2017,196,22,"signature"],[1,2028,197,7,"callback"],[1,2032,199,2,"unfollow"],[1,2041,199,12],[1,2050,199,30,"targetSlug"],[1,2052,199,42,"targetUserId"],[1,2054,199,56,"optionsOrCallback"],[1,2056,199,75,"callback"],[1,2059,213,4],[1,2063,213,8,"options"],[1,2068,214,8,"qs"],[1,2073,215,37],[1,2092,215,15,"optionsOrCallback"],[1,2096,215,49,"callback"],[1,2098,215,60,"optionsOrCallback"],[1,2101,216,39],[1,2112,216,8,"_typeof"],[1,2114,216,16,"optionsOrCallback"],[1,2119,216,49,"options"],[1,2121,216,59,"optionsOrCallback"],[1,2124,217,39],[1,2142,217,15,"options"],[1,2144,217,23,"keepHistory"],[1,2157,217,52,"options"],[1,2159,217,60,"keepHistory"],[1,2173,217,73,"qs"],[1,2175,217,75],[1,2188,217,94],[1,2193,218,4,"utils"],[1,2195,218,10,"validateFeedSlug"],[1,2212,218,27,"targetSlug"],[1,2215,219,4,"utils"],[1,2217,219,10,"validateUserId"],[1,2232,219,25,"targetUserId"],[1,2235,220,4],[1,2239,220,8,"targetFeedId"],[1,2241,220,23,"targetSlug"],[1,2243,220,36],[1,2247,220,42,"targetUserId"],[1,2249,226,4],[1,2256,221,14,"this"],[1,2261,221,19,"client"],[1,2268,221,14],[1,2276,222,6,"url"],[1,2280,222,11],[1,2288,222,21,"this"],[1,2293,222,26,"feedUrl"],[1,2301,222,36],[1,2315,222,52,"targetFeedId"],[1,2317,222,67],[1,2321,223,6,"qs"],[1,2324,223,10,"qs"],[1,2326,224,6,"signature"],[1,2336,224,17,"this"],[1,2341,224,22,"signature"],[1,2352,225,7,"callback"],[1,2356,228,2,"following"],[1,2366,228,13],[1,2375,228,32,"options"],[1,2377,228,41,"callback"],[1,2380,243,4],[1,2392,239,20,"undefined"],[1,2396,239,8,"options"],[1,2399,239,33,"options"],[1,2401,239,41,"filter"],[1,2410,240,6,"options"],[1,2412,240,14,"filter"],[1,2419,240,23,"options"],[1,2421,240,31,"filter"],[1,2428,240,38,"join"],[1,2433,240,43],[1,2439,243,11,"this"],[1,2444,243,16,"client"],[1,2451,243,23,"get"],[1,2456,244,6,"url"],[1,2460,244,11],[1,2468,244,21,"this"],[1,2473,244,26,"feedUrl"],[1,2481,244,36],[1,2495,245,6,"qs"],[1,2498,245,10,"options"],[1,2500,246,6,"signature"],[1,2510,246,17,"this"],[1,2515,246,22,"signature"],[1,2526,247,7,"callback"],[1,2530,249,2,"followers"],[1,2540,249,13],[1,2549,249,32,"options"],[1,2551,249,41,"callback"],[1,2554,265,4],[1,2566,261,20,"undefined"],[1,2570,261,8,"options"],[1,2573,261,33,"options"],[1,2575,261,41,"filter"],[1,2584,262,6,"options"],[1,2586,262,14,"filter"],[1,2593,262,23,"options"],[1,2595,262,31,"filter"],[1,2602,262,38,"join"],[1,2607,262,43],[1,2613,265,11,"this"],[1,2618,265,16,"client"],[1,2625,265,23,"get"],[1,2630,266,6,"url"],[1,2634,266,11],[1,2642,266,21,"this"],[1,2647,266,26,"feedUrl"],[1,2655,266,36],[1,2669,267,6,"qs"],[1,2672,267,10,"options"],[1,2674,268,6,"signature"],[1,2684,268,17,"this"],[1,2689,268,22,"signature"],[1,2700,269,7,"callback"],[1,2704,271,2,"get"],[1,2708,271,7],[1,2717,271,20,"options"],[1,2719,271,29,"callback"],[1,2722,282,4],[1,2726,282,8,"path"],[1,2728,300,4],[1,2735,284,8,"options"],[1,2738,284,19,"options"],[1,2740,284,26],[1,2751,284,43,"options"],[1,2753,284,50],[1,2763,284,64,"join"],[1,2770,285,6,"options"],[1,2772,285,13],[1,2782,285,29,"options"],[1,2784,285,36],[1,2794,285,50,"join"],[1,2799,285,55],[1,2805,288,8,"options"],[1,2808,288,19,"options"],[1,2810,288,26],[1,2821,288,43,"options"],[1,2823,288,50],[1,2833,288,64,"join"],[1,2840,289,6,"options"],[1,2842,289,13],[1,2852,289,29,"options"],[1,2854,289,36],[1,2864,289,50,"join"],[1,2869,289,55],[1,2875,292,4,"this"],[1,2880,292,9,"client"],[1,2887,292,16,"replaceReactionOptions"],[1,2910,292,39,"options"],[1,2913,295,6,"path"],[1,2915,294,8,"this"],[1,2920,294,13,"client"],[1,2927,294,20,"shouldUseEnrichEndpoint"],[1,2951,294,44,"options"],[1,2954,295,13],[1,2969,297,13],[1,2977,300,11,"this"],[1,2982,300,16,"client"],[1,2989,300,23,"get"],[1,2994,301,6,"url"],[1,2998,301,11,"path"],[1,3000,301,18,"this"],[1,3005,301,23,"feedUrl"],[1,3013,301,33],[1,3017,302,6,"qs"],[1,3020,302,10,"options"],[1,3022,303,6,"signature"],[1,3032,303,17,"this"],[1,3037,303,22,"signature"],[1,3048,304,7,"callback"],[1,3052,306,2,"getReadOnlyToken"],[1,3069,306,20],[1,3080,319,4],[1,3084,319,8,"feedId"],[1,3086,319,17],[1,3089,319,22,"this"],[1,3094,319,27,"slug"],[1,3099,319,34,"this"],[1,3104,319,39,"userId"],[1,3111,320,4],[1,3118,320,11,"signing"],[1,3120,320,19,"JWTScopeToken"],[1,3134,320,33,"this"],[1,3139,320,38,"client"],[1,3146,320,45,"apiSecret"],[1,3156,320,56],[1,3160,320,61],[1,3168,321,6,"feedId"],[1,3175,321,14,"feedId"],[1,3177,322,6,"expireTokens"],[1,3190,322,20,"this"],[1,3195,322,25,"client"],[1,3202,322,32,"expireTokens"],[1,3218,325,2,"getReadWriteToken"],[1,3236,325,21],[1,3247,337,4],[1,3251,337,8,"feedId"],[1,3253,337,17],[1,3256,337,22,"this"],[1,3261,337,27,"slug"],[1,3266,337,34,"this"],[1,3271,337,39,"userId"],[1,3278,338,4],[1,3285,338,11,"signing"],[1,3287,338,19,"JWTScopeToken"],[1,3301,338,33,"this"],[1,3306,338,38,"client"],[1,3313,338,45,"apiSecret"],[1,3323,338,56],[1,3327,338,61],[1,3332,339,6,"feedId"],[1,3339,339,14,"feedId"],[1,3341,340,6,"expireTokens"],[1,3354,340,20,"this"],[1,3359,340,25,"client"],[1,3366,340,32,"expireTokens"],[1,3382,343,2,"getActivityDetail"],[1,3400,343,21],[1,3409,343,48,"activityId"],[1,3411,343,60,"options"],[1,3413,343,69,"callback"],[1,3416,357,4],[1,3423,357,11,"this"],[1,3428,357,16,"get"],[1,3432,357,20,"_extends"],[1,3435,358,6,"id_lte"],[1,3442,358,14,"activityId"],[1,3444,359,6,"id_gte"],[1,3451,359,14,"activityId"],[1,3453,360,6,"limit"],[1,3459,360,13],[1,3462,361,7,"options"],[1,3469,361,23,"callback"],[1,3473,363,2,"getFayeClient"],[1,3487,363,17],[1,3498,371,4],[1,3505,371,11,"this"],[1,3510,371,16,"client"],[1,3517,371,23,"getFayeClient"],[1,3534,373,2,"subscribe"],[1,3544,373,13],[1,3553,373,32,"callback"],[1,3556,385,4],[1,3560,385,9,"this"],[1,3565,385,14,"client"],[1,3572,385,21,"appId"],[1,3578,386,6],[1,3584,386,12],[1,3588,386,16,"errors"],[1,3590,386,23,"SiteError"],[1,3600,386,33],[1,3702,389,4],[1,3706,389,8,"subscription"],[1,3708,389,23,"this"],[1,3713,389,28,"getFayeClient"],[1,3729,389,44,"subscribe"],[1,3739,389,54],[1,3743,389,60,"this"],[1,3748,389,65,"notificationChannel"],[1,3768,389,86,"callback"],[1,3771,395,4],[1,3778,390,4,"this"],[1,3783,390,9,"client"],[1,3790,390,16,"subscriptions"],[1,3804,390,30],[1,3808,390,36,"this"],[1,3813,390,41,"notificationChannel"],[1,3835,391,6,"token"],[1,3841,391,13,"this"],[1,3846,391,18,"token"],[1,3852,392,6,"userId"],[1,3859,392,14,"this"],[1,3864,392,19,"notificationChannel"],[1,3884,393,6,"fayeSubscription"],[1,3901,393,24,"subscription"],[1,3904,395,11,"subscription"],[1,3907,397,2,"unsubscribe"],[1,3919,397,15],[1,3930,402,4],[1,3934,402,8,"streamSubscription"],[1,3936,402,29,"this"],[1,3941,402,34,"client"],[1,3948,402,41,"subscriptions"],[1,3962,402,55],[1,3966,402,61,"this"],[1,3971,402,66,"notificationChannel"],[1,3992,404,8,"streamSubscription"],[1,4003,405,13,"this"],[1,4008,405,18,"client"],[1,4015,405,25,"subscriptions"],[1,4029,405,39],[1,4033,405,45,"this"],[1,4038,405,50,"notificationChannel"],[1,4059,406,6,"streamSubscription"],[1,4061,406,25,"fayeSubscription"],[1,4078,406,42,"cancel"],[1,4089,409,2,"updateActivityToTargets"],[1,4113,409,27],[1,4122,409,60,"foreign_id"],[1,4124,409,72,"time"],[1,4126,409,78,"new_targets"],[1,4128,409,91,"added_targets"],[1,4130,409,106,"removed_targets"],[1,4133,419,4],[1,4137,419,9,"foreign_id"],[1,4139,420,6],[1,4145,420,12],[1,4149,420,16,"Error"],[1,4155,420,22],[1,4190,421,11],[1,4194,421,16,"time"],[1,4196,422,6],[1,4202,422,12],[1,4206,422,16,"Error"],[1,4212,422,22],[1,4241,425,4],[1,4245,425,9,"new_targets"],[1,4249,425,25,"added_targets"],[1,4253,425,43,"removed_targets"],[1,4255,426,6],[1,4261,426,12],[1,4265,426,16,"Error"],[1,4271,426,22],[1,4505,429,4],[1,4508,429,8,"new_targets"],[1,4512,430,10,"added_targets"],[1,4515,430,27,"removed_targets"],[1,4518,431,8],[1,4524,431,14],[1,4528,431,18,"Error"],[1,4534,431,24],[1,4619,435,4],[1,4622,435,8,"added_targets"],[1,4625,435,25,"removed_targets"],[1,4627,437,6],[1,4631,437,11],[1,4635,437,15,"i"],[1,4637,437,19],[1,4639,437,22,"i"],[1,4641,437,26,"added_targets"],[1,4643,437,40,"length"],[1,4650,437,48,"i"],[1,4654,439,8],[1,4658,439,13],[1,4662,439,17,"j"],[1,4664,439,21],[1,4666,439,24,"j"],[1,4668,439,28,"removed_targets"],[1,4670,439,44,"length"],[1,4677,439,52,"j"],[1,4681,440,10],[1,4684,440,14,"removed_targets"],[1,4686,440,30,"j"],[1,4690,440,36,"added_targets"],[1,4692,440,50,"i"],[1,4695,441,12],[1,4701,441,18],[1,4705,441,22,"Error"],[1,4711,441,28],[1,4780,447,4],[1,4784,447,8,"body"],[1,4787,448,6,"foreign_id"],[1,4798,448,18,"foreign_id"],[1,4800,449,6,"time"],[1,4805,449,12,"time"],[1,4808,464,4],[1,4815,452,8,"new_targets"],[1,4819,453,6,"body"],[1,4821,453,10],[1,4833,453,28,"new_targets"],[1,4836,456,8,"added_targets"],[1,4840,457,6,"body"],[1,4842,457,10],[1,4856,457,30,"added_targets"],[1,4859,460,8,"removed_targets"],[1,4863,461,6,"body"],[1,4865,461,10],[1,4881,461,32,"removed_targets"],[1,4884,464,11,"this"],[1,4889,464,16,"client"],[1,4896,464,23,"post"],[1,4902,465,6,"url"],[1,4906,465,11],[1,4922,465,29,"this"],[1,4927,465,34,"feedUrl"],[1,4935,465,44],[1,4959,466,6,"signature"],[1,4969,466,17,"this"],[1,4974,466,22,"signature"],[1,4984,467,6,"body"],[1,4989,467,12,"body"],[1,4995,471,0,"module"],[1,4997,471,7,"exports"],[1,5005,471,17,"StreamFeed"]],"functionMap":{"names":["<global>","StreamFeed","replaceStreamObjects","obj.map$argument_0","initialize","addActivity","removeActivity","addActivities","follow","unfollow","following","followers","get","getReadOnlyToken","getReadWriteToken","getActivityDetail","getFayeClient","subscribe","unsubscribe","updateActivityToTargets"],"mappings":"AAA;iBCgB;CDO;AEE;qBCI;KDE;CFY;cIG;GJoC;eKC;GLqB;kBMC;GNyB;iBOC;GPmB;UQC;GR8C;YSC;GT4B;aUC;GVoB;aWC;GXqB;OYC;GZkC;oBaC;GbkB;qBcC;GdiB;qBeC;GfmB;iBgBC;GhBS;aiBC;GjBuB;ekBC;GlBW;2BmBC;GnB4D"}},"type":"js/module"}]}