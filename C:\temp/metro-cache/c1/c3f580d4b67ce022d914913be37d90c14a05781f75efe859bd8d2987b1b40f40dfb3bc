{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[{"start":{"line":3,"column":29},"end":{"line":3,"column":84}}]}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"isAsync":false,"locs":[{"start":{"line":10,"column":45},"end":{"line":10,"column":92}}]}},{"name":"@babel/runtime/helpers/typeof","data":{"isAsync":false,"locs":[{"start":{"line":12,"column":38},"end":{"line":12,"column":78}}]}},{"name":"form-data","data":{"isAsync":false,"locs":[{"start":{"line":14,"column":39},"end":{"line":14,"column":59}}]}},{"name":"./errors","data":{"isAsync":false,"locs":[{"start":{"line":16,"column":14},"end":{"line":16,"column":33}}]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=r(d[4]),f=/^[\\w]+$/,l=/^[\\w-]+$/;function s(t){if(!f.test(t))throw new c.FeedError(\"Invalid feedSlug, please use letters, numbers or _: \".concat(t));return t}function p(t){if(!l.test(t))throw new c.FeedError(\"Invalid userId, please use letters, numbers, - or _: \".concat(t));return t}function v(t){return null!==t&&'object'===(0,o.default)(t)&&(t.readable||'function'==typeof t._read)}function w(t){return'undefined'!=typeof window&&'File'in window&&t instanceof File}var b={validateFeedId:function(t){var o=t.split(':');if(2!==o.length)throw new c.FeedError(\"Invalid feedId, expected something like user:1 got \".concat(t));var u=(0,n.default)(o,2),f=u[0],l=u[1];return s(f),p(l),t},validateFeedSlug:s,validateUserId:p,rfc3986:function(t){return t.replace(/[!'()*]/g,function(t){return\"%\".concat(t.charCodeAt(0).toString(16).toUpperCase())})},isReadableStream:v,addFileToFormData:function(t,n,o){var c,f=new u.default;return v(t)||null!=(c=t)&&null!=c.constructor&&'function'==typeof c.constructor.isBuffer&&c.constructor.isBuffer(c)||w(t)?n?f.append('file',t,n):f.append('file',t):f.append('file',{uri:t,name:n||t.split('/').reverse()[0],type:o||void 0,contentType:o||void 0}),f},replaceStreamObjects:function t(n){if(Array.isArray(n))return n.map(function(n){return t(n)});if('[object Object]'!==Object.prototype.toString.call(n))return n;if('function'==typeof n.ref)return n.ref();var o={};return Object.keys(n).forEach(function(u){o[u]=t(n[u])}),o}};e.default=b});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0],[1,45,3,4,"_interopRequireDefault"],[1,47,3,29,"require"],[1,49,3,36,"d"],[1,51,3,36],[1,55,5,0,"Object"],[1,62,5,7,"defineProperty"],[1,77,5,22,"exports"],[1,79,5,31],[1,93,6,2,"value"],[1,100,6,9],[1,104,8,0,"exports"],[1,106,8,8,"default"],[1,119,8,0,"undefined"],[1,121,10,0],[1,125,10,4,"_slicedToArray2"],[1,127,10,22,"_interopRequireDefault"],[1,129,10,45,"require"],[1,131,10,52,"d"],[1,133,10,52],[1,138,12,4,"_typeof2"],[1,140,12,15,"_interopRequireDefault"],[1,142,12,38,"require"],[1,144,12,45,"d"],[1,146,12,45],[1,151,14,4,"_formData"],[1,153,14,16,"_interopRequireDefault"],[1,155,14,39,"require"],[1,157,14,46,"d"],[1,159,14,46],[1,164,16,4,"_errors"],[1,166,16,14,"require"],[1,168,16,21,"d"],[1,170,16,21],[1,174,18,4,"validFeedSlugRe"],[1,176,18,22],[1,186,19,4,"validUserIdRe"],[1,188,19,20],[1,199,24,0],[1,208,24,9,"validateFeedSlug"],[1,210,24,26,"feedSlug"],[1,213,25,2],[1,217,25,7,"validFeedSlugRe"],[1,219,25,23,"test"],[1,224,25,28,"feedSlug"],[1,227,26,4],[1,233,26,10],[1,237,26,14,"_errors"],[1,239,26,22,"FeedError"],[1,249,26,32],[1,304,26,87,"concat"],[1,311,26,94,"feedSlug"],[1,315,29,2],[1,322,29,9,"feedSlug"],[1,324,36,0],[1,333,36,9,"validateUserId"],[1,335,36,24,"userId"],[1,338,37,2],[1,342,37,7,"validUserIdRe"],[1,344,37,21,"test"],[1,349,37,26,"userId"],[1,352,38,4],[1,358,38,10],[1,362,38,14,"_errors"],[1,364,38,22,"FeedError"],[1,374,38,32],[1,430,38,88,"concat"],[1,437,38,95,"userId"],[1,441,41,2],[1,448,41,9,"userId"],[1,450,50,0],[1,459,50,9,"isReadableStream"],[1,461,50,26,"obj"],[1,464,51,2],[1,471,51,17],[1,478,51,9,"obj"],[1,481,51,56],[1,493,51,25],[1,495,51,29,"_typeof2"],[1,497,51,38,"default"],[1,506,51,47,"obj"],[1,511,51,69,"obj"],[1,513,51,73,"readable"],[1,523,51,106],[1,542,51,92,"obj"],[1,544,51,96,"_read"],[1,551,60,0],[1,560,60,9,"isFileWebAPI"],[1,562,60,22,"uri"],[1,565,61,2],[1,571,61,27],[1,591,61,16,"window"],[1,599,61,42],[1,608,61,52,"window"],[1,616,61,62,"uri"],[1,629,61,77,"File"],[1,634,120,0],[1,638,120,4,"_default"],[1,641,121,2,"validateFeedId"],[1,656,68,0],[1,665,68,24,"feedId"],[1,668,69,2],[1,672,69,6,"parts"],[1,674,69,14,"feedId"],[1,676,69,21,"split"],[1,682,69,27],[1,687,71,2],[1,690,71,23],[1,694,71,6,"parts"],[1,696,71,12,"length"],[1,703,72,4],[1,709,72,10],[1,713,72,14,"_errors"],[1,715,72,22,"FeedError"],[1,725,72,32],[1,779,72,86,"concat"],[1,786,72,93,"feedId"],[1,790,75,2],[1,794,75,6,"_parts"],[1,797,75,15],[1,799,75,19,"_slicedToArray2"],[1,801,75,35,"default"],[1,810,75,44,"parts"],[1,812,75,51],[1,815,76,6,"feedSlug"],[1,817,76,17,"_parts"],[1,819,76,24],[1,822,77,6,"userId"],[1,824,77,15,"_parts"],[1,826,77,22],[1,829,81,2],[1,836,79,2,"validateFeedSlug"],[1,838,79,19,"feedSlug"],[1,841,80,2,"validateUserId"],[1,843,80,17,"userId"],[1,846,81,9,"feedId"],[1,849,122,2,"validateFeedSlug"],[1,866,122,20,"validateFeedSlug"],[1,868,123,2,"validateUserId"],[1,883,123,18,"validateUserId"],[1,885,124,2,"rfc3986"],[1,893,44,0],[1,902,44,17,"str"],[1,905,45,2],[1,912,45,9,"str"],[1,914,45,13,"replace"],[1,922,45,21],[1,933,45,33],[1,942,45,43,"c"],[1,945,46,4],[1,951,46,11],[1,955,46,15,"concat"],[1,962,46,22,"c"],[1,964,46,24,"charCodeAt"],[1,975,46,35],[1,978,46,38,"toString"],[1,987,46,47],[1,991,46,51,"toUpperCase"],[1,1009,125,2,"isReadableStream"],[1,1026,125,20,"isReadableStream"],[1,1028,126,2,"addFileToFormData"],[1,1046,84,0],[1,1055,84,27,"uri"],[1,1057,84,32,"name"],[1,1059,84,38,"contentType"],[1,1062,85,2],[1,1066,54,18,"obj"],[1,1068,85,6,"data"],[1,1070,85,13],[1,1074,85,17,"_formData"],[1,1076,85,27,"default"],[1,1084,98,2],[1,1091,87,6,"isReadableStream"],[1,1093,87,23,"uri"],[1,1097,55,16],[1,1104,54,18,"obj"],[1,1106,87,40,"uri"],[1,1110,55,43],[1,1116,55,24,"obj"],[1,1118,55,28,"constructor"],[1,1131,56,38],[1,1150,56,9,"obj"],[1,1152,56,13,"constructor"],[1,1164,56,25,"isBuffer"],[1,1174,57,2,"obj"],[1,1176,57,6,"constructor"],[1,1188,57,18,"isBuffer"],[1,1197,57,27,"obj"],[1,1201,87,48,"isFileWebAPI"],[1,1203,87,61,"uri"],[1,1206,88,8,"name"],[1,1208,88,14,"data"],[1,1210,88,19,"append"],[1,1217,88,26],[1,1224,88,34,"uri"],[1,1226,88,39,"name"],[1,1229,88,50,"data"],[1,1231,88,55,"append"],[1,1238,88,62],[1,1245,88,70,"uri"],[1,1248,90,4,"data"],[1,1250,90,9,"append"],[1,1257,90,16],[1,1265,91,6,"uri"],[1,1269,91,11,"uri"],[1,1271,92,6,"name"],[1,1276,92,12,"name"],[1,1279,92,20,"uri"],[1,1281,92,24,"split"],[1,1287,92,30],[1,1292,92,35,"reverse"],[1,1302,92,45],[1,1305,93,6,"type"],[1,1310,93,12,"contentType"],[1,1318,93,27,"undefined"],[1,1320,94,6,"contentType"],[1,1332,94,19,"contentType"],[1,1340,94,34,"undefined"],[1,1344,98,9,"data"],[1,1347,127,2,"replaceStreamObjects"],[1,1368,102,0],[1,1377,102,9,"replaceStreamObjects"],[1,1379,102,30,"obj"],[1,1382,104,2],[1,1385,104,6,"Array"],[1,1391,104,12,"isArray"],[1,1399,104,20,"obj"],[1,1402,104,26],[1,1409,104,33,"obj"],[1,1411,104,37,"map"],[1,1415,104,41],[1,1424,104,51,"v"],[1,1427,105,4],[1,1434,105,11,"replaceStreamObjects"],[1,1436,105,32,"v"],[1,1441,108,2],[1,1444,108,46],[1,1464,108,6,"Object"],[1,1471,108,13,"prototype"],[1,1481,108,23,"toString"],[1,1490,108,32,"call"],[1,1495,108,37,"obj"],[1,1498,108,65],[1,1505,108,72,"obj"],[1,1507,110,2],[1,1510,110,25],[1,1529,110,13,"obj"],[1,1531,110,17,"ref"],[1,1535,110,37],[1,1542,110,44,"obj"],[1,1544,110,48,"ref"],[1,1550,111,2],[1,1554,111,6,"cloned"],[1,1559,117,2],[1,1566,112,2,"Object"],[1,1573,112,9,"keys"],[1,1578,112,14,"obj"],[1,1581,112,19,"forEach"],[1,1589,112,27],[1,1598,112,37,"k"],[1,1601,114,4,"cloned"],[1,1603,114,11,"k"],[1,1606,114,16,"replaceStreamObjects"],[1,1608,114,37,"obj"],[1,1610,114,41,"k"],[1,1616,117,9,"cloned"],[1,1620,129,0,"exports"],[1,1622,129,8,"default"],[1,1630,129,18,"_default"]],"functionMap":{"names":["<global>","validateFeedSlug","validateUserId","rfc3986","str.replace$argument_1","isReadableStream","isBuffer","isFileWebAPI","validateFeedId","addFileToFormData","replaceStreamObjects","obj.map$argument_0","Object.keys.forEach$argument_0"],"mappings":"AAA;ACuB;CDM;AEM;CFM;AGE;iCCC;GDE;CHC;AKE;CLE;AME;CNI;AOE;CPE;AQM;CRc;ASE;CTe;AUG;yCCE;GDE;2BEM;GFG;CVG"}},"type":"js/module"}]}