{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/assertThisInitialized","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false,"locs":[]}},{"name":"react","data":{"isAsync":false,"locs":[]}},{"name":"react-native","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.ensureModuleIsLoaded=L,e.captureRef=S,e.releaseCapture=k,e.captureScreen=function(t){L();var o=M(t),n=o.options;o.errors;return C.captureScreen(n)},e.default=void 0;var n=o(r(d[2])),u=o(r(d[3])),s=o(r(d[4])),p=o(r(d[5])),c=o(r(d[6])),f=o(r(d[7])),l=o(r(d[8])),h=t(r(d[9])),y=r(d[10]);function v(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function b(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);o&&(u=u.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,u)}return n}function w(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?b(Object(n),!0).forEach(function(o){(0,l.default)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var C=y.NativeModules.RNViewShot,O=new Promise(function(){});C||console.warn(\"react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.\");var j=[\"png\",\"jpg\"].concat(\"android\"===y.Platform.OS?[\"webm\",\"raw\"]:[]),P=[\"tmpfile\",\"base64\",\"data-uri\"].concat(\"android\"===y.Platform.OS?[\"zip-base64\"]:[]),R={format:\"png\",quality:1,result:\"tmpfile\",snapshotContentContainer:!1};function M(t){var o=w(w({},R),t),n=[];return\"width\"in o&&(\"number\"!=typeof o.width||o.width<=0)&&(n.push(\"option width should be a positive number\"),delete o.width),\"height\"in o&&(\"number\"!=typeof o.height||o.height<=0)&&(n.push(\"option height should be a positive number\"),delete o.height),(\"number\"!=typeof o.quality||o.quality<0||o.quality>1)&&(n.push(\"option quality should be a number between 0.0 and 1.0\"),o.quality=R.quality),\"boolean\"!=typeof o.snapshotContentContainer&&n.push(\"option snapshotContentContainer should be a boolean\"),-1===j.indexOf(o.format)&&(o.format=R.format,n.push(\"option format '\"+o.format+\"' is not in valid formats: \"+j.join(\" | \"))),-1===P.indexOf(o.result)&&(o.result=R.result,n.push(\"option result '\"+o.result+\"' is not in valid formats: \"+P.join(\" | \"))),{options:o,errors:n}}function L(){if(!C)throw new Error(\"react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.\")}function S(t,o){if(L(),t&&\"object\"==typeof t&&\"current\"in t&&t.current&&!(t=t.current))return Promise.reject(new Error(\"ref.current is null\"));if(\"number\"!=typeof t){var n=(0,y.findNodeHandle)(t);if(!n)return Promise.reject(new Error(\"findNodeHandle failed to resolve view=\"+String(t)));t=n}var u=M(o),s=u.options;u.errors;return C.captureRef(t,s)}function k(t){\"string\"!=typeof t||C.releaseCapture(t)}var q=(function(t){(0,p.default)(w,t);var o,l,b=(o=w,l=v(),function(){var t,n=(0,f.default)(o);if(l){var u=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function w(){var t;(0,n.default)(this,w);for(var o=arguments.length,u=new Array(o),p=0;p<o;p++)u[p]=arguments[p];return(t=b.call.apply(b,[this].concat(u))).firstLayoutPromise=new Promise(function(o){t.resolveFirstLayout=o}),t.capture=function(){return t.firstLayoutPromise.then(function(){var o=(0,s.default)(t).root;return o?S(o,t.props.options):O}).then(function(o){return t.onCapture(o),o},function(o){throw t.onCaptureFailure(o),o})},t.onCapture=function(o){if(t.root){t.lastCapturedURI&&setTimeout(k,500,t.lastCapturedURI),t.lastCapturedURI=o;var n=t.props.onCapture;n&&n(o)}},t.onCaptureFailure=function(o){if(t.root){var n=t.props.onCaptureFailure;n&&n(o)}},t.syncCaptureLoop=function(o){if(cancelAnimationFrame(t._raf),\"continuous\"===o){var n=\"-\";t._raf=requestAnimationFrame(function o(){t._raf=requestAnimationFrame(o),n!==t.lastCapturedURI&&(n=t.lastCapturedURI,t.capture())})}},t.onRef=function(o){t.root=o},t.onLayout=function(o){var n=t.props.onLayout;t.resolveFirstLayout(o.nativeEvent.layout),n&&n(o)},t}return(0,u.default)(w,[{key:\"componentDidMount\",value:function(){\"mount\"===this.props.captureMode?this.capture():this.syncCaptureLoop(this.props.captureMode)}},{key:\"componentDidUpdate\",value:function(t){void 0!==this.props.captureMode&&this.props.captureMode!==t.captureMode&&this.syncCaptureLoop(this.props.captureMode),\"update\"===this.props.captureMode&&this.capture()}},{key:\"componentWillUnmount\",value:function(){this.syncCaptureLoop(null)}},{key:\"render\",value:function(){var t=this.props.children;return h.default.createElement(y.View,{ref:this.onRef,collapsable:!1,onLayout:this.onLayout,style:this.props.style},t)}}]),w})(h.Component);e.default=q,q.captureRef=S,q.releaseCapture=k});","lineCount":1,"map":[[1,176,150,7],[1,185,150,30,"optionsObject"],[1,188,151,2,"ensureModuleIsLoaded"],[1,192,150,72],[1,196,150,72,"_validateOptions2"],[1,198,152,30,"validateOptions"],[1,200,152,46,"optionsObject"],[1,203,152,10,"options"],[1,205,150,72,"_validateOptions2"],[1,207,152,10,"options"],[1,215,150,72,"_validateOptions2"],[1,217,152,19,"errors"],[1,224,159,2],[1,231,159,9,"RNViewShot"],[1,233,159,20,"captureScreen"],[1,247,159,34,"options"],[1,363,2,0,"_react"],[1,365,2,0,"_interopRequireWildcard"],[1,367,2,0,"r"],[1,369,2,0,"d"],[1,371,2,0],[1,376,3,0,"_reactNative"],[1,378,3,0,"r"],[1,380,3,0,"d"],[1,382,3,0],[1,1225,4,8,"RNViewShot"],[1,1227,4,23,"NativeModules"],[1,1229,4,23,"NativeModules"],[1,1243,4,8,"RNViewShot"],[1,1254,8,6,"neverEndingPromise"],[1,1256,8,27],[1,1260,8,31,"Promise"],[1,1268,8,39],[1,1282,19,5,"RNViewShot"],[1,1285,20,2,"console"],[1,1293,20,10,"warn"],[1,1298,21,4],[1,1416,25,0],[1,1420,25,6,"acceptedFormats"],[1,1423,25,25],[1,1429,25,32],[1,1436,25,39,"concat"],[1,1443,26,18],[1,1455,26,2,"Platform"],[1,1457,26,2,"Platform"],[1,1466,26,11,"OS"],[1,1470,26,31],[1,1477,26,39],[1,1488,29,6,"acceptedResults"],[1,1491,29,25],[1,1501,29,36],[1,1510,29,46],[1,1522,29,58,"concat"],[1,1529,30,18],[1,1541,30,2,"Platform"],[1,1543,30,2,"Platform"],[1,1552,30,11,"OS"],[1,1556,30,31],[1,1574,33,6,"defaultOptions"],[1,1577,34,2,"format"],[1,1584,34,10],[1,1590,35,2,"quality"],[1,1598,35,11],[1,1600,36,2,"result"],[1,1607,36,10],[1,1617,37,2,"snapshotContentContainer"],[1,1643,37,28],[1,1646,41,0],[1,1655,41,9,"validateOptions"],[1,1657,42,2,"input"],[1,1660,44,2],[1,1664,44,8,"options"],[1,1666,44,24,"_objectSpread"],[1,1668,44,24,"_objectSpread"],[1,1673,45,7,"defaultOptions"],[1,1676,46,7,"input"],[1,1679,48,8,"errors"],[1,1684,92,2],[1,1690,50,4],[1,1700,50,15,"options"],[1,1704,51,30],[1,1721,51,12,"options"],[1,1723,51,20,"width"],[1,1730,51,42,"options"],[1,1732,51,50,"width"],[1,1739,51,59],[1,1744,53,4,"errors"],[1,1746,53,11,"push"],[1,1751,53,16],[1,1802,54,11,"options"],[1,1804,54,19,"width"],[1,1811,57,4],[1,1822,57,16,"options"],[1,1826,58,31],[1,1843,58,12,"options"],[1,1845,58,20,"height"],[1,1853,58,43,"options"],[1,1855,58,51,"height"],[1,1863,58,61],[1,1868,60,4,"errors"],[1,1870,60,11,"push"],[1,1875,60,16],[1,1927,61,11,"options"],[1,1929,61,19,"height"],[1,1938,64,31],[1,1955,64,11,"options"],[1,1957,64,19,"quality"],[1,1966,65,4,"options"],[1,1968,65,12,"quality"],[1,1976,65,22],[1,1979,66,4,"options"],[1,1981,66,12,"quality"],[1,1989,66,22],[1,1994,68,4,"errors"],[1,1996,68,11,"push"],[1,2001,68,16],[1,2058,69,4,"options"],[1,2060,69,12,"quality"],[1,2068,69,22,"defaultOptions"],[1,2070,69,37,"quality"],[1,2079,71,50],[1,2097,71,13,"options"],[1,2099,71,21,"snapshotContentContainer"],[1,2125,72,4,"errors"],[1,2127,72,11,"push"],[1,2132,72,16],[1,2188,74,6],[1,2192,74,6,"acceptedFormats"],[1,2194,74,22,"indexOf"],[1,2202,74,30,"options"],[1,2204,74,38,"format"],[1,2214,75,4,"options"],[1,2216,75,12,"format"],[1,2223,75,21,"defaultOptions"],[1,2225,75,36,"format"],[1,2232,76,4,"errors"],[1,2234,76,11,"push"],[1,2239,77,6],[1,2257,78,8,"options"],[1,2259,78,16,"format"],[1,2266,79,8],[1,2296,80,8,"acceptedFormats"],[1,2298,80,24,"join"],[1,2303,80,29],[1,2313,83,6],[1,2317,83,6,"acceptedResults"],[1,2319,83,22,"indexOf"],[1,2327,83,30,"options"],[1,2329,83,38,"result"],[1,2339,84,4,"options"],[1,2341,84,12,"result"],[1,2348,84,21,"defaultOptions"],[1,2350,84,36,"result"],[1,2357,85,4,"errors"],[1,2359,85,11,"push"],[1,2364,86,6],[1,2382,87,8,"options"],[1,2384,87,16,"result"],[1,2391,88,8],[1,2421,89,8,"acceptedResults"],[1,2423,89,24,"join"],[1,2428,89,29],[1,2438,92,11,"options"],[1,2446,92,11,"options"],[1,2448,92,20,"errors"],[1,2455,92,20,"errors"],[1,2458,95,7],[1,2467,95,16,"ensureModuleIsLoaded"],[1,2471,96,2],[1,2475,96,7,"RNViewShot"],[1,2477,97,4],[1,2483,97,10],[1,2487,97,14,"Error"],[1,2493,98,6],[1,2611,103,7],[1,2620,103,16,"captureRef"],[1,2622,104,2,"view"],[1,2624,105,2,"optionsObject"],[1,2627,108,2],[1,2630,107,2,"ensureModuleIsLoaded"],[1,2634,109,4,"view"],[1,2637,110,20],[1,2654,110,11,"view"],[1,2657,111,4],[1,2669,111,17,"view"],[1,2672,113,4,"view"],[1,2674,113,9,"current"],[1,2685,116,4,"view"],[1,2687,116,11,"view"],[1,2689,116,16,"current"],[1,2698,118,6],[1,2705,118,13,"Promise"],[1,2713,118,21,"reject"],[1,2720,118,28],[1,2724,118,32,"Error"],[1,2730,118,38],[1,2754,121,2],[1,2757,121,22],[1,2774,121,13,"view"],[1,2776,121,32],[1,2777,122,4],[1,2781,122,10,"node"],[1,2784,122,17],[1,2786,122,17,"_reactNative"],[1,2788,122,17,"findNodeHandle"],[1,2804,122,32,"view"],[1,2807,123,4],[1,2811,123,9,"node"],[1,2813,124,6],[1,2820,124,13,"Promise"],[1,2828,124,21,"reject"],[1,2835,125,8],[1,2839,125,12,"Error"],[1,2845,125,18],[1,2886,125,61,"String"],[1,2893,125,68,"view"],[1,2898,128,4,"view"],[1,2900,128,11,"node"],[1,2902,106,19],[1,2906,106,19,"_validateOptions"],[1,2908,130,30,"validateOptions"],[1,2910,130,46,"optionsObject"],[1,2913,130,10,"options"],[1,2915,106,19,"_validateOptions"],[1,2917,130,10,"options"],[1,2925,106,19,"_validateOptions"],[1,2927,130,19,"errors"],[1,2934,137,2],[1,2941,137,9,"RNViewShot"],[1,2943,137,20,"captureRef"],[1,2954,137,31,"view"],[1,2956,137,37,"options"],[1,2959,140,7],[1,2968,140,16,"releaseCapture"],[1,2970,140,31,"uri"],[1,2973,141,21],[1,2990,141,13,"uri"],[1,2993,146,4,"RNViewShot"],[1,2995,146,15,"releaseCapture"],[1,3010,146,30,"uri"],[1,3017,192,21,"ViewShot"],[1,3404,202,2,"firstLayoutPromise"],[1,3423,202,40],[1,3427,202,44,"Promise"],[1,3435,202,52],[1,3444,202,52,"resolve"],[1,3447,203,4,"_this"],[1,3449,203,9,"resolveFirstLayout"],[1,3468,203,30,"resolve"],[1,3474,206,2,"capture"],[1,3482,206,12],[1,3493,206,12],[1,3500,207,4,"_this"],[1,3502,207,9,"firstLayoutPromise"],[1,3521,208,7,"then"],[1,3526,208,12],[1,3537,208,18],[1,3541,209,16,"root"],[1,3544,208,18],[1,3546,208,18,"_assertThisInitialized2"],[1,3548,208,18,"default"],[1,3557,208,18,"_this"],[1,3560,209,16,"root"],[1,3565,210,8],[1,3572,210,13,"root"],[1,3574,211,15,"captureRef"],[1,3576,211,26,"root"],[1,3578,211,32,"_this"],[1,3580,211,37,"props"],[1,3586,211,43,"options"],[1,3595,210,26,"neverEndingPromise"],[1,3599,213,7,"then"],[1,3604,214,8],[1,3613,214,9,"uri"],[1,3616,216,10],[1,3623,215,10,"_this"],[1,3625,215,15,"onCapture"],[1,3635,215,25,"uri"],[1,3638,216,17,"uri"],[1,3641,218,8],[1,3650,218,9,"e"],[1,3653,220,10],[1,3659,219,10,"_this"],[1,3661,219,15,"onCaptureFailure"],[1,3678,219,32,"e"],[1,3681,220,16,"e"],[1,3688,224,2,"onCapture"],[1,3698,224,14],[1,3707,224,15,"uri"],[1,3710,225,4],[1,3713,225,9,"_this"],[1,3715,225,14,"root"],[1,3720,225,4],[1,3721,226,8,"_this"],[1,3723,226,13,"lastCapturedURI"],[1,3740,228,6,"setTimeout"],[1,3751,228,17,"releaseCapture"],[1,3753,228,33],[1,3757,228,38,"_this"],[1,3759,228,43,"lastCapturedURI"],[1,3776,230,4,"_this"],[1,3778,230,9,"lastCapturedURI"],[1,3794,230,27,"uri"],[1,3796,224,31],[1,3800,231,12,"onCapture"],[1,3802,231,26,"_this"],[1,3804,231,31,"props"],[1,3810,231,12,"onCapture"],[1,3820,232,8,"onCapture"],[1,3823,232,19,"onCapture"],[1,3825,232,29,"uri"],[1,3832,235,2,"onCaptureFailure"],[1,3849,235,21],[1,3858,235,22,"e"],[1,3861,236,4],[1,3864,236,9,"_this"],[1,3866,236,14,"root"],[1,3871,236,4],[1,3872,235,35],[1,3876,237,12,"onCaptureFailure"],[1,3878,237,33,"_this"],[1,3880,237,38,"props"],[1,3886,237,12,"onCaptureFailure"],[1,3903,238,8,"onCaptureFailure"],[1,3906,238,26,"onCaptureFailure"],[1,3908,238,43,"e"],[1,3915,241,2,"syncCaptureLoop"],[1,3931,241,20],[1,3940,241,21,"captureMode"],[1,3943,243,4],[1,3946,242,4,"cancelAnimationFrame"],[1,3967,242,25,"_this"],[1,3969,242,30,"_raf"],[1,3975,243,24],[1,3990,243,8,"captureMode"],[1,3992,243,38],[1,3993,244,6],[1,3997,244,10,"previousCaptureURI"],[1,3999,244,31],[1,4003,251,6,"_this"],[1,4005,251,11,"_raf"],[1,4010,251,18,"requestAnimationFrame"],[1,4032,245,19],[1,4041,245,12,"loop"],[1,4045,246,8,"_this"],[1,4047,246,13,"_raf"],[1,4052,246,20,"requestAnimationFrame"],[1,4074,246,42,"loop"],[1,4077,247,12,"previousCaptureURI"],[1,4081,247,35,"_this"],[1,4083,247,40,"lastCapturedURI"],[1,4101,248,8,"previousCaptureURI"],[1,4103,248,29,"_this"],[1,4105,248,34,"lastCapturedURI"],[1,4121,249,8,"_this"],[1,4123,249,13,"capture"],[1,4140,255,2,"onRef"],[1,4146,255,10],[1,4155,255,11,"ref"],[1,4158,256,4,"_this"],[1,4160,256,9,"root"],[1,4165,256,16,"ref"],[1,4170,259,2,"onLayout"],[1,4179,259,13],[1,4188,259,14,"e"],[1,4191,259,33],[1,4195,260,12,"onLayout"],[1,4197,260,25,"_this"],[1,4199,260,30,"props"],[1,4205,260,12,"onLayout"],[1,4214,261,4,"_this"],[1,4216,261,9,"resolveFirstLayout"],[1,4235,261,28,"e"],[1,4237,261,30,"nativeEvent"],[1,4249,261,42,"layout"],[1,4257,262,8,"onLayout"],[1,4260,262,18,"onLayout"],[1,4262,262,27,"e"],[1,4322,265,2],[1,4333,267,35],[1,4343,267,8,"this"],[1,4348,267,13,"props"],[1,4354,267,19,"captureMode"],[1,4366,268,6,"this"],[1,4371,268,11,"capture"],[1,4381,270,6,"this"],[1,4386,270,11,"syncCaptureLoop"],[1,4402,270,27,"this"],[1,4407,270,32,"props"],[1,4413,270,38,"captureMode"],[1,4460,274,2],[1,4469,274,21,"prevProps"],[1,4477,275,35,"undefined"],[1,4481,275,8,"this"],[1,4486,275,13,"props"],[1,4492,275,19,"captureMode"],[1,4505,276,10,"this"],[1,4510,276,15,"props"],[1,4516,276,21,"captureMode"],[1,4530,276,37,"prevProps"],[1,4532,276,47,"captureMode"],[1,4545,277,8,"this"],[1,4550,277,13,"syncCaptureLoop"],[1,4566,277,29,"this"],[1,4571,277,34,"props"],[1,4577,277,40,"captureMode"],[1,4590,280,35],[1,4601,280,8,"this"],[1,4606,280,13,"props"],[1,4612,280,19,"captureMode"],[1,4625,281,6,"this"],[1,4630,281,11,"capture"],[1,4676,285,2],[1,4687,286,4,"this"],[1,4692,286,9,"syncCaptureLoop"],[1,4708,286,25],[1,4736,289,2],[1,4747,289,11],[1,4751,290,12,"children"],[1,4753,290,25,"this"],[1,4758,290,30,"props"],[1,4764,290,12,"children"],[1,4773,291,4],[1,4780,292,6,"_react"],[1,4782,292,6,"default"],[1,4790,292,6,"createElement"],[1,4804,292,7,"_reactNative"],[1,4806,292,7,"View"],[1,4812,293,8,"ref"],[1,4816,293,13,"this"],[1,4821,293,18,"onRef"],[1,4827,294,8,"collapsable"],[1,4840,294,21],[1,4842,295,8,"onLayout"],[1,4851,295,18,"this"],[1,4856,295,23,"onLayout"],[1,4865,296,8,"style"],[1,4871,296,15,"this"],[1,4876,296,20,"props"],[1,4882,296,26,"style"],[1,4889,298,9,"children"],[1,4900,192,38,"Component"],[1,4902,192,38,"Component"],[1,4925,192,21,"ViewShot"],[1,4927,193,9,"captureRef"],[1,4938,193,22,"captureRef"],[1,4940,192,21,"ViewShot"],[1,4942,194,9,"releaseCapture"],[1,4957,194,26,"releaseCapture"]],"functionMap":{"names":["<global>","Promise$argument_0","validateOptions","ensureModuleIsLoaded","captureRef","errors.map$argument_0","releaseCapture","captureScreen","checkCompatibleProps","ViewShot","ViewShot#capture","firstLayoutPromise.then$argument_0","firstLayoutPromise.then.then$argument_0","firstLayoutPromise.then.then$argument_1","ViewShot#onCapture","ViewShot#onCaptureFailure","ViewShot#syncCaptureLoop","loop","ViewShot#onRef","ViewShot#onLayout","ViewShot#componentDidMount","ViewShot#componentDidUpdate","ViewShot#componentWillUnmount","ViewShot#render"],"mappings":"AAA;uCCO,QD;AEiC;CFoD;OGE;CHM;OIE;mBC+B,aD;CJI;OME;CNQ;OOE;mBFM,aE;CPI;AQY;CRkB;eSE;oDRU;GQE;YCE;YCE;ODI;QEE;SFG;QGC;SHG;ODC;cKE;GLS;qBME;GNI;oBOE;mBCI;ODK;GPG;USE;GTE;aUE;GVI;EWE;GXO;EYE;GZS;EaE;GbE;EcE;GdY;CTC"}},"type":"js/module"}]}