{"dependencies":[{"name":"./validate","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.promiseDefer = promiseDefer;\n  exports.promiseWithOptionalCallback = promiseWithOptionalCallback;\n\n  var _validate = _$$_REQUIRE(_dependencyMap[0], \"./validate\");\n\n  function promiseDefer() {\n    var deferred = {\n      resolve: null,\n      reject: null\n    };\n    deferred.promise = new Promise(function (resolve, reject) {\n      deferred.resolve = resolve;\n      deferred.reject = reject;\n    });\n    return deferred;\n  }\n\n  function promiseWithOptionalCallback(promise, callback) {\n    if (!(0, _validate.isFunction)(callback)) {\n      return promise;\n    }\n\n    return promise.then(function (result) {\n      if (callback && callback.length === 1) {\n        callback(null);\n      } else if (callback) {\n        callback(null, result);\n      }\n\n      return result;\n    }).catch(function (error) {\n      if (callback) {\n        callback(error);\n      }\n\n      return Promise.reject(error);\n    });\n  }\n});","lineCount":43,"map":[[8,0,18,0],[10,0,23,7],[10,11,23,16,"promiseDefer"],[10,23,23,7],[10,26,23,31],[11,0,24,2],[11,8,24,8,"deferred"],[11,16,24,16],[11,19,24,19],[12,0,25,4,"resolve"],[12,6,25,4,"resolve"],[12,13,25,11],[12,15,25,13],[12,19,24,19],[13,0,26,4,"reject"],[13,6,26,4,"reject"],[13,12,26,10],[13,14,26,12],[14,0,24,19],[14,5,24,2],[15,0,29,2,"deferred"],[15,4,29,2,"deferred"],[15,12,29,10],[15,13,29,11,"promise"],[15,20,29,2],[15,23,29,21],[15,27,29,25,"Promise"],[15,34,29,21],[15,35,29,33],[15,45,29,34,"resolve"],[15,52,29,33],[15,54,29,43,"reject"],[15,60,29,33],[15,62,29,54],[16,0,30,4,"deferred"],[16,6,30,4,"deferred"],[16,14,30,12],[16,15,30,13,"resolve"],[16,22,30,4],[16,25,30,23,"resolve"],[16,32,30,4],[17,0,31,4,"deferred"],[17,6,31,4,"deferred"],[17,14,31,12],[17,15,31,13,"reject"],[17,21,31,4],[17,24,31,22,"reject"],[17,30,31,4],[18,0,32,3],[18,5,29,21],[18,6,29,2],[19,0,34,2],[19,11,34,9,"deferred"],[19,19,34,2],[20,0,35,1],[22,0,41,7],[22,11,41,16,"promiseWithOptionalCallback"],[22,38,41,7],[22,39,41,44,"promise"],[22,46,41,7],[22,48,41,53,"callback"],[22,56,41,7],[22,58,41,63],[23,0,42,2],[23,8,42,6],[23,9,42,7],[23,35,42,18,"callback"],[23,43,42,7],[23,44,42,2],[23,46,42,29],[24,0,43,4],[24,13,43,11,"promise"],[24,20,43,4],[25,0,44,3],[27,0,46,2],[27,11,46,9,"promise"],[27,18,46,16],[27,19,47,5,"then"],[27,23,46,9],[27,24,47,10],[27,34,47,10,"result"],[27,40,47,16],[27,42,47,20],[28,0,48,6],[28,10,48,10,"callback"],[28,18,48,18],[28,22,48,22,"callback"],[28,30,48,30],[28,31,48,31,"length"],[28,37,48,22],[28,42,48,42],[28,43,48,6],[28,45,48,45],[29,0,49,8,"callback"],[29,8,49,8,"callback"],[29,16,49,16],[29,17,49,17],[29,21,49,16],[29,22,49,8],[30,0,50,7],[30,7,48,6],[30,13,50,13],[30,17,50,17,"callback"],[30,25,50,13],[30,27,50,27],[31,0,51,8,"callback"],[31,8,51,8,"callback"],[31,16,51,16],[31,17,51,17],[31,21,51,16],[31,23,51,23,"result"],[31,29,51,16],[31,30,51,8],[32,0,52,7],[34,0,54,6],[34,13,54,13,"result"],[34,19,54,6],[35,0,55,5],[35,5,46,9],[35,7,56,5,"catch"],[35,12,46,9],[35,13,56,11],[35,23,56,11,"error"],[35,28,56,16],[35,30,56,20],[36,0,57,6],[36,10,57,10,"callback"],[36,18,57,6],[36,20,57,20],[37,0,58,8,"callback"],[37,8,58,8,"callback"],[37,16,58,16],[37,17,58,17,"error"],[37,22,58,16],[37,23,58,8],[38,0,59,7],[40,0,60,6],[40,13,60,13,"Promise"],[40,20,60,20],[40,21,60,21,"reject"],[40,27,60,13],[40,28,60,28,"error"],[40,33,60,13],[40,34,60,6],[41,0,61,5],[41,5,46,9],[41,6,46,2],[42,0,62,1]],"functionMap":{"names":["<global>","promiseDefer","Promise$argument_0","promiseWithOptionalCallback","then$argument_0","then._catch$argument_0"],"mappings":"AAA;OCsB;iCCM;GDG;CDG;OGM;UCM;KDQ;WEC;KFK;CHC"}},"type":"js/module"}]}