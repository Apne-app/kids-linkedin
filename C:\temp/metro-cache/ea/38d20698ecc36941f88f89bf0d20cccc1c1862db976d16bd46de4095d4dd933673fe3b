{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"getstream","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.fallbackErrorMessage = exports.getErrorMessage = exports.handleError = void 0;\n\n  var _getstream = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"getstream\"));\n\n  var handleError = function handleError(error, type, detail) {\n    console.warn(error);\n    alert(getErrorMessage(error, type, detail));\n  };\n\n  exports.handleError = handleError;\n\n  var getErrorMessage = function getErrorMessage(error, type, detail) {\n    console.warn(error);\n\n    if (!(error instanceof _getstream[\"default\"].errors.StreamApiError)) {\n      return fallbackErrorMessage(error, type, detail);\n    }\n\n    var response = error.response;\n\n    if (!response.statusCode || !response.body || !response.body.detail) {\n      return fallbackErrorMessage(error, type, detail);\n    }\n\n    var statusCode = response.statusCode;\n    var text = response.body.detail;\n\n    if (statusCode >= 400 && statusCode < 500) {\n      return text;\n    } else if (statusCode >= 500 && statusCode < 600) {\n      return text;\n    }\n\n    return fallbackErrorMessage(error, type, detail);\n  };\n\n  exports.getErrorMessage = getErrorMessage;\n\n  var fallbackErrorMessage = function fallbackErrorMessage(error, type, detail) {\n    var text = 'Something went wrong';\n    var suffix = '';\n\n    switch (type) {\n      case 'get-user-info':\n        text += ' when loading user info';\n        break;\n\n      case 'get-feed':\n        text += ' when loading the feed';\n        break;\n\n      case 'get-feed-next-page':\n        text += ' when loading the next page of the feed';\n        break;\n\n      case 'get-notification-counts':\n        text += ' when loading your unread notification counts';\n        break;\n\n      case 'upload-image':\n        text += ' when uploading your image';\n        suffix = ' If it is, the image is probably too big';\n        break;\n\n      case 'add-activity':\n        text += ' when submitting your post';\n        break;\n\n      case 'add-reaction':\n        text += ' when submitting your ' + detail.kind;\n        break;\n\n      case 'delete-reaction':\n        text += ' when removing your ' + detail.kind;\n        break;\n\n      default:\n        break;\n    }\n\n    text += '. Is your internet working?' + suffix;\n    return text;\n  };\n\n  exports.fallbackErrorMessage = fallbackErrorMessage;\n});","lineCount":94,"map":[[2,0,1,0],[4,0,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,42,3,36],[4,109,3,0],[6,0,5,0,"Object"],[6,2,5,0,"Object"],[6,8,5,6],[6,9,5,7,"defineProperty"],[6,23,5,0],[6,24,5,22,"exports"],[6,31,5,0],[6,33,5,31],[6,45,5,0],[6,47,5,45],[7,0,6,2,"value"],[7,4,6,2,"value"],[7,9,6,7],[7,11,6,9],[8,0,5,45],[8,3,5,0],[9,0,8,0,"exports"],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"fallbackErrorMessage"],[9,30,8,0],[9,33,8,31,"exports"],[9,40,8,38],[9,41,8,39,"getErrorMessage"],[9,56,8,31],[9,59,8,57,"exports"],[9,66,8,64],[9,67,8,65,"handleError"],[9,78,8,57],[9,81,8,79],[9,86,8,84],[9,87,8,0],[11,0,10,0],[11,6,10,4,"_getstream"],[11,16,10,14],[11,19,10,17,"_interopRequireDefault"],[11,41,10,39],[11,42,10,40,"require"],[11,53,10,47],[11,85,10,39],[11,86,10,0],[13,0,12,0],[13,6,12,4,"handleError"],[13,17,12,15],[13,20,12,18],[13,29,12,27,"handleError"],[13,40,12,18],[13,41,12,39,"error"],[13,46,12,18],[13,48,12,46,"type"],[13,52,12,18],[13,54,12,52,"detail"],[13,60,12,18],[13,62,12,60],[14,0,13,2,"console"],[14,4,13,2,"console"],[14,11,13,9],[14,12,13,10,"warn"],[14,16,13,2],[14,17,13,15,"error"],[14,22,13,2],[15,0,14,2,"alert"],[15,4,14,2,"alert"],[15,9,14,7],[15,10,14,8,"getErrorMessage"],[15,25,14,23],[15,26,14,24,"error"],[15,31,14,23],[15,33,14,31,"type"],[15,37,14,23],[15,39,14,37,"detail"],[15,45,14,23],[15,46,14,7],[15,47,14,2],[16,0,15,1],[16,3,12,0],[18,0,17,0,"exports"],[18,2,17,0,"exports"],[18,9,17,7],[18,10,17,8,"handleError"],[18,21,17,0],[18,24,17,22,"handleError"],[18,35,17,0],[20,0,19,0],[20,6,19,4,"getErrorMessage"],[20,21,19,19],[20,24,19,22],[20,33,19,31,"getErrorMessage"],[20,48,19,22],[20,49,19,47,"error"],[20,54,19,22],[20,56,19,54,"type"],[20,60,19,22],[20,62,19,60,"detail"],[20,68,19,22],[20,70,19,68],[21,0,20,2,"console"],[21,4,20,2,"console"],[21,11,20,9],[21,12,20,10,"warn"],[21,16,20,2],[21,17,20,15,"error"],[21,22,20,2],[23,0,22,2],[23,8,22,6],[23,10,22,8,"error"],[23,15,22,13],[23,27,22,25,"_getstream"],[23,37,22,35],[23,38,22,36],[23,47,22,35],[23,48,22,25],[23,49,22,47,"errors"],[23,55,22,25],[23,56,22,54,"StreamApiError"],[23,70,22,6],[23,71,22,2],[23,73,22,71],[24,0,23,4],[24,13,23,11,"fallbackErrorMessage"],[24,33,23,31],[24,34,23,32,"error"],[24,39,23,31],[24,41,23,39,"type"],[24,45,23,31],[24,47,23,45,"detail"],[24,53,23,31],[24,54,23,4],[25,0,24,3],[27,0,26,2],[27,8,26,6,"response"],[27,16,26,14],[27,19,26,17,"error"],[27,24,26,22],[27,25,26,23,"response"],[27,33,26,2],[29,0,28,2],[29,8,28,6],[29,9,28,7,"response"],[29,17,28,15],[29,18,28,16,"statusCode"],[29,28,28,6],[29,32,28,30],[29,33,28,31,"response"],[29,41,28,39],[29,42,28,40,"body"],[29,46,28,6],[29,50,28,48],[29,51,28,49,"response"],[29,59,28,57],[29,60,28,58,"body"],[29,64,28,49],[29,65,28,63,"detail"],[29,71,28,2],[29,73,28,71],[30,0,29,4],[30,13,29,11,"fallbackErrorMessage"],[30,33,29,31],[30,34,29,32,"error"],[30,39,29,31],[30,41,29,39,"type"],[30,45,29,31],[30,47,29,45,"detail"],[30,53,29,31],[30,54,29,4],[31,0,30,3],[33,0,32,2],[33,8,32,6,"statusCode"],[33,18,32,16],[33,21,32,19,"response"],[33,29,32,27],[33,30,32,28,"statusCode"],[33,40,32,2],[34,0,33,2],[34,8,33,6,"text"],[34,12,33,10],[34,15,33,13,"response"],[34,23,33,21],[34,24,33,22,"body"],[34,28,33,13],[34,29,33,27,"detail"],[34,35,33,2],[36,0,35,2],[36,8,35,6,"statusCode"],[36,18,35,16],[36,22,35,20],[36,25,35,6],[36,29,35,27,"statusCode"],[36,39,35,37],[36,42,35,40],[36,45,35,2],[36,47,35,45],[37,0,36,4],[37,13,36,11,"text"],[37,17,36,4],[38,0,37,3],[38,5,35,2],[38,11,37,9],[38,15,37,13,"statusCode"],[38,25,37,23],[38,29,37,27],[38,32,37,13],[38,36,37,34,"statusCode"],[38,46,37,44],[38,49,37,47],[38,52,37,9],[38,54,37,52],[39,0,38,4],[39,13,38,11,"text"],[39,17,38,4],[40,0,39,3],[42,0,41,2],[42,11,41,9,"fallbackErrorMessage"],[42,31,41,29],[42,32,41,30,"error"],[42,37,41,29],[42,39,41,37,"type"],[42,43,41,29],[42,45,41,43,"detail"],[42,51,41,29],[42,52,41,2],[43,0,42,1],[43,3,19,0],[45,0,44,0,"exports"],[45,2,44,0,"exports"],[45,9,44,7],[45,10,44,8,"getErrorMessage"],[45,25,44,0],[45,28,44,26,"getErrorMessage"],[45,43,44,0],[47,0,46,0],[47,6,46,4,"fallbackErrorMessage"],[47,26,46,24],[47,29,46,27],[47,38,46,36,"fallbackErrorMessage"],[47,58,46,27],[47,59,46,57,"error"],[47,64,46,27],[47,66,46,64,"type"],[47,70,46,27],[47,72,46,70,"detail"],[47,78,46,27],[47,80,46,78],[48,0,47,2],[48,8,47,6,"text"],[48,12,47,10],[48,15,47,13],[48,37,47,2],[49,0,48,2],[49,8,48,6,"suffix"],[49,14,48,12],[49,17,48,15],[49,19,48,2],[51,0,50,2],[51,12,50,10,"type"],[51,16,50,2],[52,0,51,4],[52,11,51,9],[52,26,51,4],[53,0,52,6,"text"],[53,8,52,6,"text"],[53,12,52,10],[53,16,52,14],[53,41,52,6],[54,0,53,6],[56,0,55,4],[56,11,55,9],[56,21,55,4],[57,0,56,6,"text"],[57,8,56,6,"text"],[57,12,56,10],[57,16,56,14],[57,40,56,6],[58,0,57,6],[60,0,59,4],[60,11,59,9],[60,31,59,4],[61,0,60,6,"text"],[61,8,60,6,"text"],[61,12,60,10],[61,16,60,14],[61,57,60,6],[62,0,61,6],[64,0,63,4],[64,11,63,9],[64,36,63,4],[65,0,64,6,"text"],[65,8,64,6,"text"],[65,12,64,10],[65,16,64,14],[65,63,64,6],[66,0,65,6],[68,0,67,4],[68,11,67,9],[68,25,67,4],[69,0,68,6,"text"],[69,8,68,6,"text"],[69,12,68,10],[69,16,68,14],[69,44,68,6],[70,0,69,6,"suffix"],[70,8,69,6,"suffix"],[70,14,69,12],[70,17,69,15],[70,59,69,6],[71,0,70,6],[73,0,72,4],[73,11,72,9],[73,25,72,4],[74,0,73,6,"text"],[74,8,73,6,"text"],[74,12,73,10],[74,16,73,14],[74,44,73,6],[75,0,74,6],[77,0,76,4],[77,11,76,9],[77,25,76,4],[78,0,77,6,"text"],[78,8,77,6,"text"],[78,12,77,10],[78,16,77,14],[78,43,77,41,"detail"],[78,49,77,47],[78,50,77,48,"kind"],[78,54,77,6],[79,0,78,6],[81,0,80,4],[81,11,80,9],[81,28,80,4],[82,0,81,6,"text"],[82,8,81,6,"text"],[82,12,81,10],[82,16,81,14],[82,41,81,39,"detail"],[82,47,81,45],[82,48,81,46,"kind"],[82,52,81,6],[83,0,82,6],[85,0,84,4],[86,0,85,6],[87,0,50,2],[89,0,88,2,"text"],[89,4,88,2,"text"],[89,8,88,6],[89,12,88,10],[89,44,88,42,"suffix"],[89,50,88,2],[90,0,89,2],[90,11,89,9,"text"],[90,15,89,2],[91,0,90,1],[91,3,46,0],[93,0,92,0,"exports"],[93,2,92,0,"exports"],[93,9,92,7],[93,10,92,8,"fallbackErrorMessage"],[93,30,92,0],[93,33,92,31,"fallbackErrorMessage"],[93,53,92,0]],"functionMap":{"names":["<global>","handleError","getErrorMessage","fallbackErrorMessage"],"mappings":"AAA;kBCW;CDG;sBEI;CFuB;2BGI;CH4C"}},"type":"js/module"}]}