{"dependencies":[{"name":"../util/class","data":{"isAsync":false}},{"name":"../util/uri","data":{"isAsync":false}},{"name":"../util/cookies","data":{"isAsync":false}},{"name":"../util/assign","data":{"isAsync":false}},{"name":"../mixins/logging","data":{"isAsync":false}},{"name":"../mixins/publisher","data":{"isAsync":false}},{"name":"../transport","data":{"isAsync":false}},{"name":"./scheduler","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var Class = _$$_REQUIRE(_dependencyMap[0], \"../util/class\"),\n      URI = _$$_REQUIRE(_dependencyMap[1], \"../util/uri\"),\n      cookies = _$$_REQUIRE(_dependencyMap[2], \"../util/cookies\"),\n      assign = _$$_REQUIRE(_dependencyMap[3], \"../util/assign\"),\n      Logging = _$$_REQUIRE(_dependencyMap[4], \"../mixins/logging\"),\n      Publisher = _$$_REQUIRE(_dependencyMap[5], \"../mixins/publisher\"),\n      Transport = _$$_REQUIRE(_dependencyMap[6], \"../transport\"),\n      Scheduler = _$$_REQUIRE(_dependencyMap[7], \"./scheduler\");\n\n  var Dispatcher = Class({\n    className: 'Dispatcher',\n    MAX_REQUEST_SIZE: 2048,\n    DEFAULT_RETRY: 5,\n    UP: 1,\n    DOWN: 2,\n    initialize: function initialize(client, endpoint, options) {\n      this._client = client;\n      this.endpoint = URI.parse(endpoint);\n      this._alternates = options.endpoints || {};\n      this.cookies = cookies.CookieJar && new cookies.CookieJar();\n      this._disabled = [];\n      this._envelopes = {};\n      this.headers = {};\n      this.retry = options.retry || this.DEFAULT_RETRY;\n      this._scheduler = options.scheduler || Scheduler;\n      this._state = 0;\n      this.transports = {};\n      this.wsExtensions = [];\n      this.proxy = options.proxy || {};\n      if (typeof this._proxy === 'string') this._proxy = {\n        origin: this._proxy\n      };\n      var exts = options.websocketExtensions;\n\n      if (exts) {\n        exts = [].concat(exts);\n\n        for (var i = 0, n = exts.length; i < n; i++) {\n          this.addWebsocketExtension(exts[i]);\n        }\n      }\n\n      this.tls = options.tls || {};\n      this.tls.ca = this.tls.ca || options.ca;\n\n      for (var type in this._alternates) {\n        this._alternates[type] = URI.parse(this._alternates[type]);\n      }\n\n      this.maxRequestSize = this.MAX_REQUEST_SIZE;\n    },\n    endpointFor: function endpointFor(connectionType) {\n      return this._alternates[connectionType] || this.endpoint;\n    },\n    addWebsocketExtension: function addWebsocketExtension(extension) {\n      this.wsExtensions.push(extension);\n    },\n    disable: function disable(feature) {\n      this._disabled.push(feature);\n\n      Transport.disable(feature);\n    },\n    setHeader: function setHeader(name, value) {\n      this.headers[name] = value;\n    },\n    close: function close() {\n      var transport = this._transport;\n      delete this._transport;\n      if (transport) transport.close();\n    },\n    getConnectionTypes: function getConnectionTypes() {\n      return Transport.getConnectionTypes();\n    },\n    selectTransport: function selectTransport(transportTypes) {\n      Transport.get(this, transportTypes, this._disabled, function (transport) {\n        this.debug('Selected ? transport for ?', transport.connectionType, transport.endpoint.href);\n        if (transport === this._transport) return;\n        if (this._transport) this._transport.close();\n        this._transport = transport;\n        this.connectionType = transport.connectionType;\n      }, this);\n    },\n    sendMessage: function sendMessage(message, timeout, options) {\n      options = options || {};\n      var id = message.id,\n          attempts = options.attempts,\n          deadline = options.deadline && new Date().getTime() + options.deadline * 1000,\n          envelope = this._envelopes[id],\n          scheduler;\n\n      if (!envelope) {\n        scheduler = new this._scheduler(message, {\n          timeout: timeout,\n          interval: this.retry,\n          attempts: attempts,\n          deadline: deadline\n        });\n        envelope = this._envelopes[id] = {\n          message: message,\n          scheduler: scheduler\n        };\n      }\n\n      this._sendEnvelope(envelope);\n    },\n    _sendEnvelope: function _sendEnvelope(envelope) {\n      if (!this._transport) return;\n      if (envelope.request || envelope.timer) return;\n      var message = envelope.message,\n          scheduler = envelope.scheduler,\n          self = this;\n\n      if (!scheduler.isDeliverable()) {\n        scheduler.abort();\n        delete this._envelopes[message.id];\n        return;\n      }\n\n      envelope.timer = global.setTimeout(function () {\n        self.handleError(message);\n      }, scheduler.getTimeout() * 1000);\n      scheduler.send();\n      envelope.request = this._transport.sendMessage(message);\n    },\n    handleResponse: function handleResponse(reply) {\n      var envelope = this._envelopes[reply.id];\n\n      if (reply.successful !== undefined && envelope) {\n        envelope.scheduler.succeed();\n        delete this._envelopes[reply.id];\n        global.clearTimeout(envelope.timer);\n      }\n\n      this.trigger('message', reply);\n      if (this._state === this.UP) return;\n      this._state = this.UP;\n\n      this._client.trigger('transport:up');\n    },\n    handleError: function handleError(message, immediate) {\n      var envelope = this._envelopes[message.id],\n          request = envelope && envelope.request,\n          self = this;\n      if (!request) return;\n      request.then(function (req) {\n        if (req && req.abort) req.abort();\n      });\n      var scheduler = envelope.scheduler;\n      scheduler.fail();\n      global.clearTimeout(envelope.timer);\n      envelope.request = envelope.timer = null;\n\n      if (immediate) {\n        this._sendEnvelope(envelope);\n      } else {\n        envelope.timer = global.setTimeout(function () {\n          envelope.timer = null;\n\n          self._sendEnvelope(envelope);\n        }, scheduler.getInterval() * 1000);\n      }\n\n      if (this._state === this.DOWN) return;\n      this._state = this.DOWN;\n\n      this._client.trigger('transport:down');\n    }\n  });\n\n  Dispatcher.create = function (client, endpoint, options) {\n    return new Dispatcher(client, endpoint, options);\n  };\n\n  assign(Dispatcher.prototype, Publisher);\n  assign(Dispatcher.prototype, Logging);\n  module.exports = Dispatcher;\n});","lineCount":180,"map":[[2,0,1,0],[4,0,3,0],[4,6,3,4,"Class"],[4,11,3,9],[4,14,3,16,"require"],[4,25,3,23],[4,61,3,0],[5,0,3,0],[5,6,4,4,"URI"],[5,9,4,7],[5,12,4,16,"require"],[5,23,4,23],[5,57,3,0],[6,0,3,0],[6,6,5,4,"cookies"],[6,13,5,11],[6,16,5,16,"require"],[6,27,5,23],[6,65,3,0],[7,0,3,0],[7,6,6,4,"assign"],[7,12,6,10],[7,15,6,16,"require"],[7,26,6,23],[7,63,3,0],[8,0,3,0],[8,6,7,4,"Logging"],[8,13,7,11],[8,16,7,16,"require"],[8,27,7,23],[8,67,3,0],[9,0,3,0],[9,6,8,4,"Publisher"],[9,15,8,13],[9,18,8,16,"require"],[9,29,8,23],[9,71,3,0],[10,0,3,0],[10,6,9,4,"Transport"],[10,15,9,13],[10,18,9,16,"require"],[10,29,9,23],[10,64,3,0],[11,0,3,0],[11,6,10,4,"Scheduler"],[11,15,10,13],[11,18,10,16,"require"],[11,29,10,23],[11,63,3,0],[13,0,12,0],[13,6,12,4,"Dispatcher"],[13,16,12,14],[13,19,12,17,"Class"],[13,24,12,22],[13,25,12,23],[14,0,12,25,"className"],[14,4,12,25,"className"],[14,13,12,34],[14,15,12,36],[14,27,12,23],[15,0,13,2,"MAX_REQUEST_SIZE"],[15,4,13,2,"MAX_REQUEST_SIZE"],[15,20,13,18],[15,22,13,20],[15,26,12,23],[16,0,14,2,"DEFAULT_RETRY"],[16,4,14,2,"DEFAULT_RETRY"],[16,17,14,15],[16,19,14,20],[16,20,12,23],[17,0,16,2,"UP"],[17,4,16,2,"UP"],[17,6,16,4],[17,8,16,8],[17,9,12,23],[18,0,17,2,"DOWN"],[18,4,17,2,"DOWN"],[18,8,17,6],[18,10,17,8],[18,11,12,23],[19,0,19,2,"initialize"],[19,4,19,2,"initialize"],[19,14,19,12],[19,16,19,14],[19,36,19,23,"client"],[19,42,19,14],[19,44,19,31,"endpoint"],[19,52,19,14],[19,54,19,41,"options"],[19,61,19,14],[19,63,19,50],[20,0,20,4],[20,11,20,9,"_client"],[20,18,20,4],[20,21,20,23,"client"],[20,27,20,4],[21,0,21,4],[21,11,21,9,"endpoint"],[21,19,21,4],[21,22,21,23,"URI"],[21,25,21,26],[21,26,21,27,"parse"],[21,31,21,23],[21,32,21,33,"endpoint"],[21,40,21,23],[21,41,21,4],[22,0,22,4],[22,11,22,9,"_alternates"],[22,22,22,4],[22,25,22,23,"options"],[22,32,22,30],[22,33,22,31,"endpoints"],[22,42,22,23],[22,46,22,44],[22,48,22,4],[23,0,24,4],[23,11,24,9,"cookies"],[23,18,24,4],[23,21,24,24,"cookies"],[23,28,24,31],[23,29,24,32,"CookieJar"],[23,38,24,24],[23,42,24,45],[23,46,24,49,"cookies"],[23,53,24,56],[23,54,24,57,"CookieJar"],[23,63,24,45],[23,65,24,4],[24,0,25,4],[24,11,25,9,"_disabled"],[24,20,25,4],[24,23,25,24],[24,25,25,4],[25,0,26,4],[25,11,26,9,"_envelopes"],[25,21,26,4],[25,24,26,24],[25,26,26,4],[26,0,27,4],[26,11,27,9,"headers"],[26,18,27,4],[26,21,27,24],[26,23,27,4],[27,0,28,4],[27,11,28,9,"retry"],[27,16,28,4],[27,19,28,24,"options"],[27,26,28,31],[27,27,28,32,"retry"],[27,32,28,24],[27,36,28,41],[27,41,28,46,"DEFAULT_RETRY"],[27,54,28,4],[28,0,29,4],[28,11,29,9,"_scheduler"],[28,21,29,4],[28,24,29,24,"options"],[28,31,29,31],[28,32,29,32,"scheduler"],[28,41,29,24],[28,45,29,45,"Scheduler"],[28,54,29,4],[29,0,30,4],[29,11,30,9,"_state"],[29,17,30,4],[29,20,30,24],[29,21,30,4],[30,0,31,4],[30,11,31,9,"transports"],[30,21,31,4],[30,24,31,24],[30,26,31,4],[31,0,32,4],[31,11,32,9,"wsExtensions"],[31,23,32,4],[31,26,32,24],[31,28,32,4],[32,0,34,4],[32,11,34,9,"proxy"],[32,16,34,4],[32,19,34,17,"options"],[32,26,34,24],[32,27,34,25,"proxy"],[32,32,34,17],[32,36,34,34],[32,38,34,4],[33,0,35,4],[33,10,35,8],[33,17,35,15],[33,22,35,20,"_proxy"],[33,28,35,8],[33,33,35,31],[33,41,35,4],[33,43,35,41],[33,48,35,46,"_proxy"],[33,54,35,41],[33,57,35,55],[34,0,35,57,"origin"],[34,8,35,57,"origin"],[34,14,35,63],[34,16,35,65],[34,21,35,70,"_proxy"],[35,0,35,55],[35,7,35,41],[36,0,37,4],[36,10,37,8,"exts"],[36,14,37,12],[36,17,37,15,"options"],[36,24,37,22],[36,25,37,23,"websocketExtensions"],[36,44,37,4],[38,0,38,4],[38,10,38,8,"exts"],[38,14,38,4],[38,16,38,14],[39,0,39,6,"exts"],[39,8,39,6,"exts"],[39,12,39,10],[39,15,39,13],[39,18,39,16,"concat"],[39,24,39,13],[39,25,39,23,"exts"],[39,29,39,13],[39,30,39,6],[41,0,40,6],[41,13,40,11],[41,17,40,15,"i"],[41,18,40,16],[41,21,40,19],[41,22,40,11],[41,24,40,22,"n"],[41,25,40,23],[41,28,40,26,"exts"],[41,32,40,30],[41,33,40,31,"length"],[41,39,40,6],[41,41,40,39,"i"],[41,42,40,40],[41,45,40,43,"n"],[41,46,40,6],[41,48,40,46,"i"],[41,49,40,47],[41,51,40,6],[42,0,41,8],[42,15,41,13,"addWebsocketExtension"],[42,36,41,8],[42,37,41,35,"exts"],[42,41,41,39],[42,42,41,40,"i"],[42,43,41,39],[42,44,41,8],[43,0,40,6],[44,0,42,5],[46,0,44,4],[46,11,44,9,"tls"],[46,14,44,4],[46,17,44,15,"options"],[46,24,44,22],[46,25,44,23,"tls"],[46,28,44,15],[46,32,44,30],[46,34,44,4],[47,0,45,4],[47,11,45,9,"tls"],[47,14,45,4],[47,15,45,13,"ca"],[47,17,45,4],[47,20,45,18],[47,25,45,23,"tls"],[47,28,45,18],[47,29,45,27,"ca"],[47,31,45,18],[47,35,45,33,"options"],[47,42,45,40],[47,43,45,41,"ca"],[47,45,45,4],[49,0,47,4],[49,11,47,9],[49,15,47,13,"type"],[49,19,47,4],[49,23,47,21],[49,28,47,26,"_alternates"],[49,39,47,4],[50,0,48,6],[50,13,48,11,"_alternates"],[50,24,48,6],[50,25,48,23,"type"],[50,29,48,6],[50,33,48,31,"URI"],[50,36,48,34],[50,37,48,35,"parse"],[50,42,48,31],[50,43,48,41],[50,48,48,46,"_alternates"],[50,59,48,41],[50,60,48,58,"type"],[50,64,48,41],[50,65,48,31],[50,66,48,6],[51,0,47,4],[53,0,50,4],[53,11,50,9,"maxRequestSize"],[53,25,50,4],[53,28,50,26],[53,33,50,31,"MAX_REQUEST_SIZE"],[53,49,50,4],[54,0,51,3],[54,5,12,23],[55,0,53,2,"endpointFor"],[55,4,53,2,"endpointFor"],[55,15,53,13],[55,17,53,15],[55,38,53,24,"connectionType"],[55,52,53,15],[55,54,53,40],[56,0,54,4],[56,13,54,11],[56,18,54,16,"_alternates"],[56,29,54,11],[56,30,54,28,"connectionType"],[56,44,54,11],[56,49,54,47],[56,54,54,52,"endpoint"],[56,62,54,4],[57,0,55,3],[57,5,12,23],[58,0,57,2,"addWebsocketExtension"],[58,4,57,2,"addWebsocketExtension"],[58,25,57,23],[58,27,57,25],[58,58,57,34,"extension"],[58,67,57,25],[58,69,57,45],[59,0,58,4],[59,11,58,9,"wsExtensions"],[59,23,58,4],[59,24,58,22,"push"],[59,28,58,4],[59,29,58,27,"extension"],[59,38,58,4],[60,0,59,3],[60,5,12,23],[61,0,61,2,"disable"],[61,4,61,2,"disable"],[61,11,61,9],[61,13,61,11],[61,30,61,20,"feature"],[61,37,61,11],[61,39,61,29],[62,0,62,4],[62,11,62,9,"_disabled"],[62,20,62,4],[62,21,62,19,"push"],[62,25,62,4],[62,26,62,24,"feature"],[62,33,62,4],[64,0,63,4,"Transport"],[64,6,63,4,"Transport"],[64,15,63,13],[64,16,63,14,"disable"],[64,23,63,4],[64,24,63,22,"feature"],[64,31,63,4],[65,0,64,3],[65,5,12,23],[66,0,66,2,"setHeader"],[66,4,66,2,"setHeader"],[66,13,66,11],[66,15,66,13],[66,34,66,22,"name"],[66,38,66,13],[66,40,66,28,"value"],[66,45,66,13],[66,47,66,35],[67,0,67,4],[67,11,67,9,"headers"],[67,18,67,4],[67,19,67,17,"name"],[67,23,67,4],[67,27,67,25,"value"],[67,32,67,4],[68,0,68,3],[68,5,12,23],[69,0,70,2,"close"],[69,4,70,2,"close"],[69,9,70,7],[69,11,70,9],[69,28,70,20],[70,0,71,4],[70,10,71,8,"transport"],[70,19,71,17],[70,22,71,20],[70,27,71,25,"_transport"],[70,37,71,4],[71,0,72,4],[71,13,72,11],[71,18,72,16,"_transport"],[71,28,72,4],[72,0,73,4],[72,10,73,8,"transport"],[72,19,73,4],[72,21,73,19,"transport"],[72,30,73,28],[72,31,73,29,"close"],[72,36,73,19],[73,0,74,3],[73,5,12,23],[74,0,76,2,"getConnectionTypes"],[74,4,76,2,"getConnectionTypes"],[74,22,76,20],[74,24,76,22],[74,54,76,33],[75,0,77,4],[75,13,77,11,"Transport"],[75,22,77,20],[75,23,77,21,"getConnectionTypes"],[75,41,77,11],[75,43,77,4],[76,0,78,3],[76,5,12,23],[77,0,80,2,"selectTransport"],[77,4,80,2,"selectTransport"],[77,19,80,17],[77,21,80,19],[77,46,80,28,"transportTypes"],[77,60,80,19],[77,62,80,44],[78,0,81,4,"Transport"],[78,6,81,4,"Transport"],[78,15,81,13],[78,16,81,14,"get"],[78,19,81,4],[78,20,81,18],[78,24,81,4],[78,26,81,24,"transportTypes"],[78,40,81,4],[78,42,81,40],[78,47,81,45,"_disabled"],[78,56,81,4],[78,58,81,56],[78,68,81,65,"transport"],[78,77,81,56],[78,79,81,76],[79,0,82,6],[79,13,82,11,"debug"],[79,18,82,6],[79,19,82,17],[79,47,82,6],[79,49,82,47,"transport"],[79,58,82,56],[79,59,82,57,"connectionType"],[79,73,82,6],[79,75,82,73,"transport"],[79,84,82,82],[79,85,82,83,"endpoint"],[79,93,82,73],[79,94,82,92,"href"],[79,98,82,6],[80,0,84,6],[80,12,84,10,"transport"],[80,21,84,19],[80,26,84,24],[80,31,84,29,"_transport"],[80,41,84,6],[80,43,84,41],[81,0,85,6],[81,12,85,10],[81,17,85,15,"_transport"],[81,27,85,6],[81,29,85,27],[81,34,85,32,"_transport"],[81,44,85,27],[81,45,85,43,"close"],[81,50,85,27],[82,0,87,6],[82,13,87,11,"_transport"],[82,23,87,6],[82,26,87,24,"transport"],[82,35,87,6],[83,0,88,6],[83,13,88,11,"connectionType"],[83,27,88,6],[83,30,88,28,"transport"],[83,39,88,37],[83,40,88,38,"connectionType"],[83,54,88,6],[84,0,89,5],[84,7,81,4],[84,9,89,7],[84,13,81,4],[85,0,90,3],[85,5,12,23],[86,0,92,2,"sendMessage"],[86,4,92,2,"sendMessage"],[86,15,92,13],[86,17,92,15],[86,38,92,24,"message"],[86,45,92,15],[86,47,92,33,"timeout"],[86,54,92,15],[86,56,92,42,"options"],[86,63,92,15],[86,65,92,51],[87,0,93,4,"options"],[87,6,93,4,"options"],[87,13,93,11],[87,16,93,14,"options"],[87,23,93,21],[87,27,93,25],[87,29,93,4],[88,0,95,4],[88,10,95,8,"id"],[88,12,95,10],[88,15,95,19,"message"],[88,22,95,26],[88,23,95,27,"id"],[88,25,95,4],[89,0,95,4],[89,10,96,8,"attempts"],[89,18,96,16],[89,21,96,19,"options"],[89,28,96,26],[89,29,96,27,"attempts"],[89,37,95,4],[90,0,95,4],[90,10,97,8,"deadline"],[90,18,97,16],[90,21,97,19,"options"],[90,28,97,26],[90,29,97,27,"deadline"],[90,37,97,19],[90,41,97,39],[90,45,97,43,"Date"],[90,49,97,39],[90,52,97,50,"getTime"],[90,59,97,39],[90,64,97,63,"options"],[90,71,97,70],[90,72,97,71,"deadline"],[90,80,97,63],[90,83,97,82],[90,87,95,4],[91,0,95,4],[91,10,98,8,"envelope"],[91,18,98,16],[91,21,98,19],[91,26,98,24,"_envelopes"],[91,36,98,19],[91,37,98,35,"id"],[91,39,98,19],[91,40,95,4],[92,0,95,4],[92,10,99,8,"scheduler"],[92,19,95,4],[94,0,101,4],[94,10,101,8],[94,11,101,9,"envelope"],[94,19,101,4],[94,21,101,19],[95,0,102,6,"scheduler"],[95,8,102,6,"scheduler"],[95,17,102,15],[95,20,102,18],[95,24,102,22],[95,29,102,27,"_scheduler"],[95,39,102,18],[95,40,102,38,"message"],[95,47,102,18],[95,49,102,47],[96,0,102,49,"timeout"],[96,10,102,49,"timeout"],[96,17,102,56],[96,19,102,58,"timeout"],[96,26,102,47],[97,0,102,67,"interval"],[97,10,102,67,"interval"],[97,18,102,75],[97,20,102,77],[97,25,102,82,"retry"],[97,30,102,47],[98,0,102,89,"attempts"],[98,10,102,89,"attempts"],[98,18,102,97],[98,20,102,99,"attempts"],[98,28,102,47],[99,0,102,109,"deadline"],[99,10,102,109,"deadline"],[99,18,102,117],[99,20,102,119,"deadline"],[100,0,102,47],[100,9,102,18],[100,10,102,6],[101,0,103,6,"envelope"],[101,8,103,6,"envelope"],[101,16,103,14],[101,19,103,18],[101,24,103,23,"_envelopes"],[101,34,103,18],[101,35,103,34,"id"],[101,37,103,18],[101,41,103,40],[102,0,103,42,"message"],[102,10,103,42,"message"],[102,17,103,49],[102,19,103,51,"message"],[102,26,103,40],[103,0,103,60,"scheduler"],[103,10,103,60,"scheduler"],[103,19,103,69],[103,21,103,71,"scheduler"],[104,0,103,40],[104,9,103,6],[105,0,104,5],[107,0,106,4],[107,11,106,9,"_sendEnvelope"],[107,24,106,4],[107,25,106,23,"envelope"],[107,33,106,4],[108,0,107,3],[108,5,12,23],[109,0,109,2,"_sendEnvelope"],[109,4,109,2,"_sendEnvelope"],[109,17,109,15],[109,19,109,17],[109,42,109,26,"envelope"],[109,50,109,17],[109,52,109,36],[110,0,110,4],[110,10,110,8],[110,11,110,9],[110,16,110,14,"_transport"],[110,26,110,4],[110,28,110,26],[111,0,111,4],[111,10,111,8,"envelope"],[111,18,111,16],[111,19,111,17,"request"],[111,26,111,8],[111,30,111,28,"envelope"],[111,38,111,36],[111,39,111,37,"timer"],[111,44,111,4],[111,46,111,44],[112,0,113,4],[112,10,113,8,"message"],[112,17,113,15],[112,20,113,20,"envelope"],[112,28,113,28],[112,29,113,29,"message"],[112,36,113,4],[113,0,113,4],[113,10,114,8,"scheduler"],[113,19,114,17],[113,22,114,20,"envelope"],[113,30,114,28],[113,31,114,29,"scheduler"],[113,40,113,4],[114,0,113,4],[114,10,115,8,"self"],[114,14,115,12],[114,17,115,20],[114,21,113,4],[116,0,117,4],[116,10,117,8],[116,11,117,9,"scheduler"],[116,20,117,18],[116,21,117,19,"isDeliverable"],[116,34,117,9],[116,36,117,4],[116,38,117,36],[117,0,118,6,"scheduler"],[117,8,118,6,"scheduler"],[117,17,118,15],[117,18,118,16,"abort"],[117,23,118,6],[118,0,119,6],[118,15,119,13],[118,20,119,18,"_envelopes"],[118,30,119,13],[118,31,119,29,"message"],[118,38,119,36],[118,39,119,37,"id"],[118,41,119,13],[118,42,119,6],[119,0,120,6],[120,0,121,5],[122,0,123,4,"envelope"],[122,6,123,4,"envelope"],[122,14,123,12],[122,15,123,13,"timer"],[122,20,123,4],[122,23,123,21,"global"],[122,29,123,27],[122,30,123,28,"setTimeout"],[122,40,123,21],[122,41,123,39],[122,53,123,50],[123,0,124,6,"self"],[123,8,124,6,"self"],[123,12,124,10],[123,13,124,11,"handleError"],[123,24,124,6],[123,25,124,23,"message"],[123,32,124,6],[124,0,125,5],[124,7,123,21],[124,9,125,7,"scheduler"],[124,18,125,16],[124,19,125,17,"getTimeout"],[124,29,125,7],[124,34,125,32],[124,38,123,21],[124,39,123,4],[125,0,127,4,"scheduler"],[125,6,127,4,"scheduler"],[125,15,127,13],[125,16,127,14,"send"],[125,20,127,4],[126,0,128,4,"envelope"],[126,6,128,4,"envelope"],[126,14,128,12],[126,15,128,13,"request"],[126,22,128,4],[126,25,128,23],[126,30,128,28,"_transport"],[126,40,128,23],[126,41,128,39,"sendMessage"],[126,52,128,23],[126,53,128,51,"message"],[126,60,128,23],[126,61,128,4],[127,0,129,3],[127,5,12,23],[128,0,131,2,"handleResponse"],[128,4,131,2,"handleResponse"],[128,18,131,16],[128,20,131,18],[128,44,131,27,"reply"],[128,49,131,18],[128,51,131,34],[129,0,132,4],[129,10,132,8,"envelope"],[129,18,132,16],[129,21,132,19],[129,26,132,24,"_envelopes"],[129,36,132,19],[129,37,132,35,"reply"],[129,42,132,40],[129,43,132,41,"id"],[129,45,132,19],[129,46,132,4],[131,0,134,4],[131,10,134,8,"reply"],[131,15,134,13],[131,16,134,14,"successful"],[131,26,134,8],[131,31,134,29,"undefined"],[131,40,134,8],[131,44,134,42,"envelope"],[131,52,134,4],[131,54,134,52],[132,0,135,6,"envelope"],[132,8,135,6,"envelope"],[132,16,135,14],[132,17,135,15,"scheduler"],[132,26,135,6],[132,27,135,25,"succeed"],[132,34,135,6],[133,0,136,6],[133,15,136,13],[133,20,136,18,"_envelopes"],[133,30,136,13],[133,31,136,29,"reply"],[133,36,136,34],[133,37,136,35,"id"],[133,39,136,13],[133,40,136,6],[134,0,137,6,"global"],[134,8,137,6,"global"],[134,14,137,12],[134,15,137,13,"clearTimeout"],[134,27,137,6],[134,28,137,26,"envelope"],[134,36,137,34],[134,37,137,35,"timer"],[134,42,137,6],[135,0,138,5],[137,0,140,4],[137,11,140,9,"trigger"],[137,18,140,4],[137,19,140,17],[137,28,140,4],[137,30,140,28,"reply"],[137,35,140,4],[138,0,142,4],[138,10,142,8],[138,15,142,13,"_state"],[138,21,142,8],[138,26,142,24],[138,31,142,29,"UP"],[138,33,142,4],[138,35,142,33],[139,0,143,4],[139,11,143,9,"_state"],[139,17,143,4],[139,20,143,18],[139,25,143,23,"UP"],[139,27,143,4],[141,0,144,4],[141,11,144,9,"_client"],[141,18,144,4],[141,19,144,17,"trigger"],[141,26,144,4],[141,27,144,25],[141,41,144,4],[142,0,145,3],[142,5,12,23],[143,0,147,2,"handleError"],[143,4,147,2,"handleError"],[143,15,147,13],[143,17,147,15],[143,38,147,24,"message"],[143,45,147,15],[143,47,147,33,"immediate"],[143,56,147,15],[143,58,147,44],[144,0,148,4],[144,10,148,8,"envelope"],[144,18,148,16],[144,21,148,19],[144,26,148,24,"_envelopes"],[144,36,148,19],[144,37,148,35,"message"],[144,44,148,42],[144,45,148,43,"id"],[144,47,148,19],[144,48,148,4],[145,0,148,4],[145,10,149,8,"request"],[145,17,149,15],[145,20,149,19,"envelope"],[145,28,149,27],[145,32,149,31,"envelope"],[145,40,149,39],[145,41,149,40,"request"],[145,48,148,4],[146,0,148,4],[146,10,150,8,"self"],[146,14,150,12],[146,17,150,19],[146,21,148,4],[147,0,152,4],[147,10,152,8],[147,11,152,9,"request"],[147,18,152,4],[147,20,152,18],[148,0,154,4,"request"],[148,6,154,4,"request"],[148,13,154,11],[148,14,154,12,"then"],[148,18,154,4],[148,19,154,17],[148,29,154,26,"req"],[148,32,154,17],[148,34,154,31],[149,0,155,6],[149,12,155,10,"req"],[149,15,155,13],[149,19,155,17,"req"],[149,22,155,20],[149,23,155,21,"abort"],[149,28,155,6],[149,30,155,28,"req"],[149,33,155,31],[149,34,155,32,"abort"],[149,39,155,28],[150,0,156,5],[150,7,154,4],[151,0,158,4],[151,10,158,8,"scheduler"],[151,19,158,17],[151,22,158,20,"envelope"],[151,30,158,28],[151,31,158,29,"scheduler"],[151,40,158,4],[152,0,159,4,"scheduler"],[152,6,159,4,"scheduler"],[152,15,159,13],[152,16,159,14,"fail"],[152,20,159,4],[153,0,161,4,"global"],[153,6,161,4,"global"],[153,12,161,10],[153,13,161,11,"clearTimeout"],[153,25,161,4],[153,26,161,24,"envelope"],[153,34,161,32],[153,35,161,33,"timer"],[153,40,161,4],[154,0,162,4,"envelope"],[154,6,162,4,"envelope"],[154,14,162,12],[154,15,162,13,"request"],[154,22,162,4],[154,25,162,23,"envelope"],[154,33,162,31],[154,34,162,32,"timer"],[154,39,162,23],[154,42,162,40],[154,46,162,4],[156,0,164,4],[156,10,164,8,"immediate"],[156,19,164,4],[156,21,164,19],[157,0,165,6],[157,13,165,11,"_sendEnvelope"],[157,26,165,6],[157,27,165,25,"envelope"],[157,35,165,6],[158,0,166,5],[158,7,164,4],[158,13,166,11],[159,0,167,6,"envelope"],[159,8,167,6,"envelope"],[159,16,167,14],[159,17,167,15,"timer"],[159,22,167,6],[159,25,167,23,"global"],[159,31,167,29],[159,32,167,30,"setTimeout"],[159,42,167,23],[159,43,167,41],[159,55,167,52],[160,0,168,8,"envelope"],[160,10,168,8,"envelope"],[160,18,168,16],[160,19,168,17,"timer"],[160,24,168,8],[160,27,168,25],[160,31,168,8],[162,0,169,8,"self"],[162,10,169,8,"self"],[162,14,169,12],[162,15,169,13,"_sendEnvelope"],[162,28,169,8],[162,29,169,27,"envelope"],[162,37,169,8],[163,0,170,7],[163,9,167,23],[163,11,170,9,"scheduler"],[163,20,170,18],[163,21,170,19,"getInterval"],[163,32,170,9],[163,37,170,35],[163,41,167,23],[163,42,167,6],[164,0,171,5],[166,0,173,4],[166,10,173,8],[166,15,173,13,"_state"],[166,21,173,8],[166,26,173,24],[166,31,173,29,"DOWN"],[166,35,173,4],[166,37,173,35],[167,0,174,4],[167,11,174,9,"_state"],[167,17,174,4],[167,20,174,18],[167,25,174,23,"DOWN"],[167,29,174,4],[169,0,175,4],[169,11,175,9,"_client"],[169,18,175,4],[169,19,175,17,"trigger"],[169,26,175,4],[169,27,175,25],[169,43,175,4],[170,0,176,3],[171,0,12,23],[171,3,12,22],[171,4,12,0],[173,0,179,0,"Dispatcher"],[173,2,179,0,"Dispatcher"],[173,12,179,10],[173,13,179,11,"create"],[173,19,179,0],[173,22,179,20],[173,32,179,29,"client"],[173,38,179,20],[173,40,179,37,"endpoint"],[173,48,179,20],[173,50,179,47,"options"],[173,57,179,20],[173,59,179,56],[174,0,180,2],[174,11,180,9],[174,15,180,13,"Dispatcher"],[174,25,180,9],[174,26,180,24,"client"],[174,32,180,9],[174,34,180,32,"endpoint"],[174,42,180,9],[174,44,180,42,"options"],[174,51,180,9],[174,52,180,2],[175,0,181,1],[175,3,179,0],[177,0,183,0,"assign"],[177,2,183,0,"assign"],[177,8,183,6],[177,9,183,7,"Dispatcher"],[177,19,183,17],[177,20,183,18,"prototype"],[177,29,183,6],[177,31,183,29,"Publisher"],[177,40,183,6],[177,41,183,0],[178,0,184,0,"assign"],[178,2,184,0,"assign"],[178,8,184,6],[178,9,184,7,"Dispatcher"],[178,19,184,17],[178,20,184,18,"prototype"],[178,29,184,6],[178,31,184,29,"Logging"],[178,38,184,6],[178,39,184,0],[179,0,186,0,"module"],[179,2,186,0,"module"],[179,8,186,6],[179,9,186,7,"exports"],[179,16,186,0],[179,19,186,17,"Dispatcher"],[179,29,186,0]],"functionMap":{"names":["<global>","Class$argument_0.initialize","Class$argument_0.endpointFor","Class$argument_0.addWebsocketExtension","Class$argument_0.disable","Class$argument_0.setHeader","Class$argument_0.close","Class$argument_0.getConnectionTypes","Class$argument_0.selectTransport","Transport.get$argument_3","Class$argument_0.sendMessage","Class$argument_0._sendEnvelope","global.setTimeout$argument_0","Class$argument_0.handleResponse","Class$argument_0.handleError","request.then$argument_0","Dispatcher.create"],"mappings":"AAA;cCkB;GDgC;eEE;GFE;yBGE;GHE;WIE;GJG;aKE;GLE;SME;GNI;sBOE;GPE;mBQE;wDCC;KDQ;GRC;eUE;GVe;iBWE;uCCc;KDE;GXI;kBaE;Gbc;ecE;iBCO;KDE;yCFW;OEG;GdM;oBgBG;ChBE"}},"type":"js/module"}]}