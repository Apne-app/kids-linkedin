{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"./NativeWebSocketModule","data":{"isAsync":false}},{"name":"../Blob/Blob","data":{"isAsync":false}},{"name":"../Blob/BlobManager","data":{"isAsync":false}},{"name":"event-target-shim","data":{"isAsync":false}},{"name":"../EventEmitter/NativeEventEmitter","data":{"isAsync":false}},{"name":"./WebSocketEvent","data":{"isAsync":false}},{"name":"base64-js","data":{"isAsync":false}},{"name":"../Utilities/binaryToBase64","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7]));function h(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var y=r(d[8]),b=r(d[9]),p=r(d[10]),v=r(d[11]),_=r(d[12]),E=r(d[13]),k=r(d[14]),S=r(d[15]),I=0,N=1,w=2,O=3,C=0,L=(function(t){(0,c.default)(A,t);var p,L,T=(p=A,L=h(),function(){var t,s=(0,l.default)(p);if(L){var n=(0,l.default)(this).constructor;t=Reflect.construct(s,arguments,n)}else t=s.apply(this,arguments);return(0,u.default)(this,t)});function A(t,o,c){var u;(0,n.default)(this,A),(u=T.call(this)).CONNECTING=I,u.OPEN=N,u.CLOSING=w,u.CLOSED=O,u.readyState=I,'string'==typeof o&&(o=[o]);var l=c||{},h=l.headers,y=void 0===h?{}:h,b=(0,s.default)(l,[\"headers\"]);return b&&'string'==typeof b.origin&&(console.warn('Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.'),y.origin=b.origin,delete b.origin),Object.keys(b).length>0&&console.warn('Unrecognized WebSocket connection option(s) `'+Object.keys(b).join('`, `')+\"`. Did you mean to put these under `headers`?\"),Array.isArray(o)||(o=null),u._eventEmitter=new v(f.default),u._socketId=C++,u._registerEvents(),f.default.connect(t,o,{headers:y},u._socketId),u}return(0,o.default)(A,[{key:\"close\",value:function(t,s){this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.readyState=this.CLOSING,this._close(t,s))}},{key:\"send\",value:function(t){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');if(t instanceof y)return S(b.isAvailable,'Native module BlobModule is required for blob support'),void b.sendOverSocket(t,this._socketId);if('string'!=typeof t){if(!(t instanceof ArrayBuffer||ArrayBuffer.isView(t)))throw new Error('Unsupported data type');f.default.sendBinary(k(t),this._socketId)}else f.default.send(t,this._socketId)}},{key:\"ping\",value:function(){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');f.default.ping(this._socketId)}},{key:\"_close\",value:function(t,s){var n='number'==typeof t?t:1e3,o='string'==typeof s?s:'';f.default.close(n,o,this._socketId),b.isAvailable&&'blob'===this._binaryType&&b.removeWebSocketHandler(this._socketId)}},{key:\"_unregisterEvents\",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:\"_registerEvents\",value:function(){var t=this;this._subscriptions=[this._eventEmitter.addListener('websocketMessage',function(s){if(s.id===t._socketId){var n=s.data;switch(s.type){case'binary':n=E.toByteArray(s.data).buffer;break;case'blob':n=b.createFromOptions(s.data)}t.dispatchEvent(new _('message',{data:n}))}}),this._eventEmitter.addListener('websocketOpen',function(s){s.id===t._socketId&&(t.readyState=t.OPEN,t.protocol=s.protocol,t.dispatchEvent(new _('open')))}),this._eventEmitter.addListener('websocketClosed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new _('close',{code:s.code,reason:s.reason})),t._unregisterEvents(),t.close())}),this._eventEmitter.addListener('websocketFailed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new _('error',{message:s.message})),t.dispatchEvent(new _('close',{message:s.message})),t._unregisterEvents(),t.close())})]}},{key:\"binaryType\",get:function(){return this._binaryType},set:function(t){if('blob'!==t&&'arraybuffer'!==t)throw new Error(\"binaryType must be either 'blob' or 'arraybuffer'\");'blob'!==this._binaryType&&'blob'!==t||(S(b.isAvailable,'Native module BlobModule is required for blob support'),'blob'===t?b.addWebSocketHandler(this._socketId):b.removeWebSocketHandler(this._socketId)),this._binaryType=t}}]),A})(p.apply(void 0,['close','error','message','open']));L.CONNECTING=I,L.OPEN=N,L.CLOSING=w,L.CLOSED=O,m.exports=L});","lineCount":1,"map":[[1,28,11,0],[1,133,24,0,"_NativeWebSocketModule"],[1,135,24,0,"_interopRequireDefault"],[1,137,24,0,"r"],[1,139,24,0,"d"],[1,141,24,0],[1,394,13,0],[1,398,13,6,"Blob"],[1,400,13,13,"require"],[1,402,13,20,"d"],[1,404,13,20],[1,408,14,6,"BlobManager"],[1,410,14,20,"require"],[1,412,14,27,"d"],[1,414,14,27],[1,418,15,6,"EventTarget"],[1,420,15,20,"require"],[1,422,15,27,"d"],[1,424,15,27],[1,429,16,6,"NativeEventEmitter"],[1,431,16,27,"require"],[1,433,16,34,"d"],[1,435,16,34],[1,440,17,6,"WebSocketEvent"],[1,442,17,23,"require"],[1,444,17,30,"d"],[1,446,17,30],[1,451,19,6,"base64"],[1,453,19,15,"require"],[1,455,19,22,"d"],[1,457,19,22],[1,462,20,6,"binaryToBase64"],[1,464,20,23,"require"],[1,466,20,30,"d"],[1,468,20,30],[1,473,21,6,"invariant"],[1,475,21,18,"require"],[1,477,21,25,"d"],[1,479,21,25],[1,484,40,6,"CONNECTING"],[1,486,40,19],[1,488,41,6,"OPEN"],[1,490,41,13],[1,492,42,6,"CLOSING"],[1,494,42,16],[1,496,43,6,"CLOSED"],[1,498,43,15],[1,500,49,4,"nextWebSocketId"],[1,502,49,22],[1,504,57,6,"WebSocket"],[1,735,84,2],[1,744,84,2,"WebSocket"],[1,746,85,4,"url"],[1,748,86,4,"protocols"],[1,750,87,4,"options"],[1,753,88,4],[1,757,88,4,"_this"],[1,760,88,4],[1,762,88,4,"_classCallCheck2"],[1,764,88,4,"default"],[1,773,88,4,"this"],[1,778,88,4,"WebSocket"],[1,782,89,4,"_this"],[1,784,89,4,"_super"],[1,786,89,4,"call"],[1,791,89,4,"this"],[1,798,63,2,"CONNECTING"],[1,809,63,23,"CONNECTING"],[1,811,88,4,"_this"],[1,813,64,2,"OPEN"],[1,818,64,17,"OPEN"],[1,820,88,4,"_this"],[1,822,65,2,"CLOSING"],[1,830,65,20,"CLOSING"],[1,832,88,4,"_this"],[1,834,66,2,"CLOSED"],[1,841,66,19,"CLOSED"],[1,843,88,4,"_this"],[1,845,81,2,"readyState"],[1,856,81,23,"CONNECTING"],[1,858,90,29],[1,875,90,15,"protocols"],[1,879,91,6,"protocols"],[1,882,91,19,"protocols"],[1,886,88,4],[1,890,88,4,"_ref2"],[1,892,94,44,"options"],[1,898,88,4,"_ref2$headers"],[1,900,88,4,"_ref2"],[1,902,94,11,"headers"],[1,910,94,11,"headers"],[1,917,88,4,"undefined"],[1,921,88,4,"_ref2$headers"],[1,926,88,4,"_ref2$headers"],[1,928,94,28,"unrecognized"],[1,931,88,4],[1,933,88,4,"_objectWithoutProperties2"],[1,935,88,4,"default"],[1,944,88,4,"_ref2"],[1,947,88,4],[1,959,88,4],[1,966,100,8,"unrecognized"],[1,969,100,55],[1,986,100,31,"unrecognized"],[1,988,100,44,"origin"],[1,997,101,6,"console"],[1,1005,101,14,"warn"],[1,1010,102,8],[1,1117,107,6,"headers"],[1,1119,107,14,"origin"],[1,1126,107,23,"unrecognized"],[1,1128,107,36,"origin"],[1,1142,111,13,"unrecognized"],[1,1144,111,26,"origin"],[1,1152,115,8,"Object"],[1,1159,115,15,"keys"],[1,1164,115,20,"unrecognized"],[1,1167,115,34,"length"],[1,1174,115,43],[1,1177,116,6,"console"],[1,1185,116,14,"warn"],[1,1190,117,8],[1,1238,118,10,"Object"],[1,1245,118,17,"keys"],[1,1250,118,22,"unrecognized"],[1,1253,118,36,"join"],[1,1258,118,41],[1,1266,119,10],[1,1315,124,9,"Array"],[1,1321,124,15,"isArray"],[1,1329,124,23,"protocols"],[1,1334,125,6,"protocols"],[1,1336,125,18],[1,1342,128,4,"_this"],[1,1344,128,9,"_eventEmitter"],[1,1358,128,25],[1,1362,128,29,"NativeEventEmitter"],[1,1364,128,48,"NativeWebSocketModule"],[1,1366,128,48,"NativeWebSocketModule"],[1,1375,129,4,"_this"],[1,1377,129,9,"_socketId"],[1,1387,129,21,"nextWebSocketId"],[1,1391,130,4,"_this"],[1,1393,130,9,"_registerEvents"],[1,1411,131,4,"NativeWebSocketModule"],[1,1413,131,4,"NativeWebSocketModule"],[1,1421,131,26,"connect"],[1,1429,131,34,"url"],[1,1431,131,39,"protocols"],[1,1434,131,51,"headers"],[1,1442,131,51,"headers"],[1,1445,131,61,"_this"],[1,1447,131,66,"_socketId"],[1,1458,88,4,"_this"],[1,1511,156,8,"code"],[1,1513,156,23,"reason"],[1,1516,157,8,"this"],[1,1521,157,13,"readyState"],[1,1534,157,28,"this"],[1,1539,157,33,"CLOSING"],[1,1548,157,44,"this"],[1,1553,157,49,"readyState"],[1,1566,157,64,"this"],[1,1571,157,69,"CLOSED"],[1,1580,161,4,"this"],[1,1585,161,9,"readyState"],[1,1596,161,22,"this"],[1,1601,161,27,"CLOSING"],[1,1609,162,4,"this"],[1,1614,162,9,"_close"],[1,1621,162,16,"code"],[1,1623,162,22,"reason"],[1,1656,165,7,"data"],[1,1659,166,4],[1,1662,166,8,"this"],[1,1667,166,13,"readyState"],[1,1680,166,28,"this"],[1,1685,166,33,"CONNECTING"],[1,1696,167,6],[1,1702,167,12],[1,1706,167,16,"Error"],[1,1712,167,22],[1,1733,170,4],[1,1736,170,8,"data"],[1,1749,170,24,"Blob"],[1,1751,176,6],[1,1758,171,6,"invariant"],[1,1760,172,8,"BlobManager"],[1,1762,172,20,"isAvailable"],[1,1774,173,8],[1,1836,175,6,"BlobManager"],[1,1838,175,18,"sendOverSocket"],[1,1853,175,33,"data"],[1,1855,175,39,"this"],[1,1860,175,44,"_socketId"],[1,1871,179,4],[1,1874,179,24],[1,1891,179,15,"data"],[1,1893,179,4],[1,1894,184,4],[1,1899,184,8,"data"],[1,1912,184,24,"ArrayBuffer"],[1,1925,184,39,"ArrayBuffer"],[1,1937,184,51,"isView"],[1,1944,184,58,"data"],[1,1948,189,4],[1,1954,189,10],[1,1958,189,14,"Error"],[1,1964,189,20],[1,1989,185,6,"NativeWebSocketModule"],[1,1991,185,6,"NativeWebSocketModule"],[1,1999,185,28,"sendBinary"],[1,2010,185,39,"binaryToBase64"],[1,2012,185,54,"data"],[1,2015,185,61,"this"],[1,2020,185,66,"_socketId"],[1,2036,180,6,"NativeWebSocketModule"],[1,2038,180,6,"NativeWebSocketModule"],[1,2046,180,28,"send"],[1,2051,180,33,"data"],[1,2053,180,39,"this"],[1,2058,180,44,"_socketId"],[1,2100,193,4],[1,2103,193,8,"this"],[1,2108,193,13,"readyState"],[1,2121,193,28,"this"],[1,2126,193,33,"CONNECTING"],[1,2137,194,6],[1,2143,194,12],[1,2147,194,16,"Error"],[1,2153,194,22],[1,2174,197,4,"NativeWebSocketModule"],[1,2176,197,4,"NativeWebSocketModule"],[1,2184,197,26,"ping"],[1,2189,197,31,"this"],[1,2194,197,36,"_socketId"],[1,2236,200,9,"code"],[1,2238,200,24,"reason"],[1,2241,202,4],[1,2245,202,10,"statusCode"],[1,2247,202,39],[1,2264,202,30,"code"],[1,2266,202,50,"code"],[1,2268,45,21],[1,2272,203,10,"closeReason"],[1,2274,203,42],[1,2291,203,31,"reason"],[1,2293,203,53,"reason"],[1,2295,203,62],[1,2298,204,4,"NativeWebSocketModule"],[1,2300,204,4,"NativeWebSocketModule"],[1,2308,204,26,"close"],[1,2314,204,32,"statusCode"],[1,2316,204,44,"closeReason"],[1,2318,204,57,"this"],[1,2323,204,62,"_socketId"],[1,2334,206,8,"BlobManager"],[1,2336,206,20,"isAvailable"],[1,2349,206,56],[1,2358,206,35,"this"],[1,2363,206,40,"_binaryType"],[1,2376,207,6,"BlobManager"],[1,2378,207,18,"removeWebSocketHandler"],[1,2401,207,41,"this"],[1,2406,207,46,"_socketId"],[1,2461,212,4,"this"],[1,2466,212,9,"_subscriptions"],[1,2481,212,24,"forEach"],[1,2489,212,32],[1,2498,212,32,"e"],[1,2501,212,33],[1,2508,212,37,"e"],[1,2510,212,39,"remove"],[1,2521,213,4,"this"],[1,2526,213,9,"_subscriptions"],[1,2586,216,26],[1,2590,216,26,"_this2"],[1,2592,216,26,"this"],[1,2597,217,4,"this"],[1,2602,217,9,"_subscriptions"],[1,2618,218,6,"this"],[1,2623,218,11,"_eventEmitter"],[1,2637,218,25,"addListener"],[1,2649,218,37],[1,2668,218,57],[1,2677,218,57,"ev"],[1,2680,219,8],[1,2683,219,12,"ev"],[1,2685,219,15,"id"],[1,2690,219,22,"_this2"],[1,2692,219,27,"_socketId"],[1,2702,219,8],[1,2703,222,8],[1,2707,222,12,"data"],[1,2709,222,19,"ev"],[1,2711,222,22,"data"],[1,2716,223,8],[1,2723,223,16,"ev"],[1,2725,223,19,"type"],[1,2731,224,10],[1,2735,224,15],[1,2744,225,12,"data"],[1,2746,225,19,"base64"],[1,2748,225,26,"toByteArray"],[1,2760,225,38,"ev"],[1,2762,225,41,"data"],[1,2768,225,47,"buffer"],[1,2775,226,12],[1,2781,227,10],[1,2785,227,15],[1,2792,228,12,"data"],[1,2794,228,19,"BlobManager"],[1,2796,228,31,"createFromOptions"],[1,2814,228,49,"ev"],[1,2816,228,52,"data"],[1,2822,231,8,"_this2"],[1,2824,231,13,"dispatchEvent"],[1,2838,231,27],[1,2842,231,31,"WebSocketEvent"],[1,2844,231,46],[1,2855,231,58,"data"],[1,2860,231,58,"data"],[1,2868,233,6,"this"],[1,2873,233,11,"_eventEmitter"],[1,2887,233,25,"addListener"],[1,2899,233,37],[1,2915,233,54],[1,2924,233,54,"ev"],[1,2927,234,12,"ev"],[1,2929,234,15,"id"],[1,2934,234,22,"_this2"],[1,2936,234,27,"_socketId"],[1,2948,237,8,"_this2"],[1,2950,237,13,"readyState"],[1,2961,237,26,"_this2"],[1,2963,237,31,"OPEN"],[1,2968,238,8,"_this2"],[1,2970,238,13,"protocol"],[1,2979,238,24,"ev"],[1,2981,238,27,"protocol"],[1,2990,239,8,"_this2"],[1,2992,239,13,"dispatchEvent"],[1,3006,239,27],[1,3010,239,31,"WebSocketEvent"],[1,3012,239,46],[1,3024,241,6,"this"],[1,3029,241,11,"_eventEmitter"],[1,3043,241,25,"addListener"],[1,3055,241,37],[1,3073,241,56],[1,3082,241,56,"ev"],[1,3085,242,12,"ev"],[1,3087,242,15,"id"],[1,3092,242,22,"_this2"],[1,3094,242,27,"_socketId"],[1,3106,245,8,"_this2"],[1,3108,245,13,"readyState"],[1,3119,245,26,"_this2"],[1,3121,245,31,"CLOSED"],[1,3128,246,8,"_this2"],[1,3130,246,13,"dispatchEvent"],[1,3144,247,10],[1,3148,247,14,"WebSocketEvent"],[1,3150,247,29],[1,3159,248,12,"code"],[1,3164,248,18,"ev"],[1,3166,248,21,"code"],[1,3171,249,12,"reason"],[1,3178,249,20,"ev"],[1,3180,249,23,"reason"],[1,3190,252,8,"_this2"],[1,3192,252,13,"_unregisterEvents"],[1,3212,253,8,"_this2"],[1,3214,253,13,"close"],[1,3225,255,6,"this"],[1,3230,255,11,"_eventEmitter"],[1,3244,255,25,"addListener"],[1,3256,255,37],[1,3274,255,56],[1,3283,255,56,"ev"],[1,3286,256,12,"ev"],[1,3288,256,15,"id"],[1,3293,256,22,"_this2"],[1,3295,256,27,"_socketId"],[1,3307,259,8,"_this2"],[1,3309,259,13,"readyState"],[1,3320,259,26,"_this2"],[1,3322,259,31,"CLOSED"],[1,3329,260,8,"_this2"],[1,3331,260,13,"dispatchEvent"],[1,3345,261,10],[1,3349,261,14,"WebSocketEvent"],[1,3351,261,29],[1,3360,262,12,"message"],[1,3368,262,21,"ev"],[1,3370,262,24,"message"],[1,3381,265,8,"_this2"],[1,3383,265,13,"dispatchEvent"],[1,3397,266,10],[1,3401,266,14,"WebSocketEvent"],[1,3403,266,29],[1,3412,267,12,"message"],[1,3420,267,21,"ev"],[1,3422,267,24,"message"],[1,3433,270,8,"_this2"],[1,3435,270,13,"_unregisterEvents"],[1,3455,271,8,"_this2"],[1,3457,271,13,"close"],[1,3504,135,4],[1,3511,135,11,"this"],[1,3516,135,16,"_binaryType"],[1,3542,138,17,"binaryType"],[1,3545,139,4],[1,3548,139,23],[1,3557,139,8,"binaryType"],[1,3560,139,48],[1,3576,139,33,"binaryType"],[1,3578,140,6],[1,3584,140,12],[1,3588,140,16,"Error"],[1,3594,140,22],[1,3647,142,29],[1,3656,142,8,"this"],[1,3661,142,13,"_binaryType"],[1,3674,142,54],[1,3683,142,39,"binaryType"],[1,3687,143,6,"invariant"],[1,3689,144,8,"BlobManager"],[1,3691,144,20,"isAvailable"],[1,3703,145,8],[1,3760,147,25],[1,3769,147,10,"binaryType"],[1,3771,148,8,"BlobManager"],[1,3773,148,20,"addWebSocketHandler"],[1,3793,148,40,"this"],[1,3798,148,45,"_socketId"],[1,3809,150,8,"BlobManager"],[1,3811,150,20,"removeWebSocketHandler"],[1,3834,150,43,"this"],[1,3839,150,48,"_socketId"],[1,3851,153,4,"this"],[1,3856,153,9,"_binaryType"],[1,3868,153,23,"binaryType"],[1,3878,57,25,"EventTarget"],[1,3880,57,36,"apply"],[1,3891,57,25,"undefined"],[1,3894,47,26],[1,3902,47,35],[1,3910,47,44],[1,3920,47,55],[1,3930,57,6,"WebSocket"],[1,3932,58,9,"CONNECTING"],[1,3943,58,30,"CONNECTING"],[1,3945,57,6,"WebSocket"],[1,3947,59,9,"OPEN"],[1,3952,59,24,"OPEN"],[1,3954,57,6,"WebSocket"],[1,3956,60,9,"CLOSING"],[1,3964,60,27,"CLOSING"],[1,3966,57,6,"WebSocket"],[1,3968,61,9,"CLOSED"],[1,3975,61,26,"CLOSED"],[1,3977,277,0,"module"],[1,3979,277,7,"exports"],[1,3987,277,17,"WebSocket"]],"functionMap":{"names":["<global>","WebSocket","constructor","get__binaryType","set__binaryType","close","send","ping","_close","_unregisterEvents","_subscriptions.forEach$argument_0","_registerEvents","_eventEmitter.addListener$argument_1"],"mappings":"AAA;ACwD;EC2B;GDgD;EEE;GFE;EGE;GHgB;EIE;GJO;EKE;GLyB;EME;GNM;EOE;GPS;EQE;gCCC,eD;GRE;EUE;yDCE;ODc;sDCC;ODO;wDCC;ODa;wDCC;ODiB;GVE;CDC"}},"type":"js/module"}]}