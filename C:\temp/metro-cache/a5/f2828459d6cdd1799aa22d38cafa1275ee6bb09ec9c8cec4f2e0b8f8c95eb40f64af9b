{"dependencies":[{"name":"@babel/runtime/helpers/extends","data":{"isAsync":false}},{"name":"@stream-io/cross-fetch","data":{"isAsync":false}},{"name":"form-data","data":{"isAsync":false}},{"name":"./utils","data":{"isAsync":false}},{"name":"./errors","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),s=r(d[1]).Headers,o=r(d[2]),c=r(d[3]),u=r(d[4]),h=function(){this.initialize.apply(this,arguments)};h.prototype={initialize:function(t,n){this.client=t,this.token=n},upload:function(t,h,l){var p,f=new o;return c.isReadableStream(t)?p=t:(p={uri:t,name:h||t.split('/').reverse()[0]},null!=l&&(p.type=l)),f.append('file',p),n(\"\".concat(this.client.enrichUrl('images/'),\"?api_key=\").concat(this.client.apiKey),{method:'post',body:f,headers:new s({Authorization:this.token})}).then(function(t){return t.ok?t.json():t.text().then(function(n){t.statusCode=t.status;try{n=JSON.parse(n)}catch(t){}throw new u.StreamApiError(JSON.stringify(n)+' with HTTP status code '+t.status,n,t)})})},delete:function(t){return this.client.delete({url:\"images/\",qs:{url:t},signature:this.token})},process:function(n,s){var o=t(s,{url:n});return Array.isArray(o.crop)&&(o.crop=o.crop.join(',')),this.client.get({url:\"images/\",qs:o,signature:this.token})},thumbmail:function(t,n,s){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{crop:'center',resize:'clip'},c=o.crop,u=o.resize;return this.process(t,{w:n,h:s,crop:c,resize:u})}},m.exports=h});","lineCount":1,"map":[[1,28,1,0],[1,32,1,4,"_extends"],[1,34,1,15,"require"],[1,36,1,22,"d"],[1,38,1,22],[1,42,3,4,"fetch"],[1,44,3,12,"require"],[1,46,3,19,"d"],[1,48,3,19],[1,52,5,4,"Headers"],[1,54,5,14,"require"],[1,56,5,21,"d"],[1,58,5,21],[1,62,5,48,"Headers"],[1,70,7,4,"FormData"],[1,72,7,15,"require"],[1,74,7,22,"d"],[1,76,7,22],[1,80,9,4,"utils"],[1,82,9,12,"require"],[1,84,9,19,"d"],[1,86,9,19],[1,90,11,4,"errors"],[1,92,11,13,"require"],[1,94,11,20,"d"],[1,96,11,20],[1,100,13,4,"StreamImageStore"],[1,102,13,23],[1,113,14,2,"this"],[1,118,14,7,"initialize"],[1,129,14,18,"apply"],[1,135,14,24,"this"],[1,140,14,30,"arguments"],[1,152,17,0,"StreamImageStore"],[1,154,17,17,"prototype"],[1,165,18,2,"initialize"],[1,176,18,14],[1,185,18,34,"client"],[1,187,18,42,"token"],[1,190,19,4,"this"],[1,195,19,9,"client"],[1,202,19,18,"client"],[1,204,20,4,"this"],[1,209,20,9,"token"],[1,215,20,17,"token"],[1,218,24,2,"upload"],[1,225,24,10],[1,234,24,26,"uri"],[1,236,24,31,"name"],[1,238,24,37,"contentType"],[1,241,25,4],[1,245,26,8,"fileField"],[1,247,25,8,"data"],[1,249,25,15],[1,253,25,19,"FormData"],[1,255,42,4],[1,262,28,8,"utils"],[1,264,28,14,"isReadableStream"],[1,281,28,31,"uri"],[1,284,29,6,"fileField"],[1,286,29,18,"uri"],[1,289,31,6,"fileField"],[1,292,32,8,"uri"],[1,296,32,13,"uri"],[1,298,33,8,"name"],[1,303,33,14,"name"],[1,306,33,22,"uri"],[1,308,33,26,"split"],[1,314,33,32],[1,319,33,37,"reverse"],[1,329,33,47],[1,333,36,25],[1,339,36,10,"contentType"],[1,343,37,8,"fileField"],[1,345,37,18,"type"],[1,350,37,25,"contentType"],[1,354,41,4,"data"],[1,356,41,9,"append"],[1,363,41,16],[1,370,41,24,"fileField"],[1,373,42,11,"fetch"],[1,375,42,17],[1,378,42,20,"concat"],[1,385,42,27,"this"],[1,390,42,32,"client"],[1,397,42,39,"enrichUrl"],[1,407,42,49],[1,418,42,61],[1,431,42,74,"concat"],[1,438,42,81,"this"],[1,443,42,86,"client"],[1,450,42,93,"apiKey"],[1,459,43,6,"method"],[1,466,43,14],[1,473,44,6,"body"],[1,478,44,12,"data"],[1,480,45,6,"headers"],[1,488,45,15],[1,492,45,19,"Headers"],[1,495,46,8,"Authorization"],[1,509,46,23,"this"],[1,514,46,28,"token"],[1,524,48,7,"then"],[1,529,48,12],[1,538,48,22,"r"],[1,541,49,6],[1,548,49,10,"r"],[1,550,49,12,"ok"],[1,553,50,15,"r"],[1,555,50,17,"json"],[1,562,54,13,"r"],[1,564,54,15,"text"],[1,571,54,22,"then"],[1,576,54,27],[1,585,54,37,"responseData"],[1,588,55,8,"r"],[1,590,55,10,"statusCode"],[1,601,55,23,"r"],[1,603,55,25,"status"],[1,610,57,8],[1,614,58,10,"responseData"],[1,616,58,25,"JSON"],[1,621,58,30,"parse"],[1,627,58,36,"responseData"],[1,630,59,10],[1,636,59,17,"e"],[1,640,62,8],[1,646,62,14],[1,650,62,18,"errors"],[1,652,62,25,"StreamApiError"],[1,667,62,40,"JSON"],[1,672,62,45,"stringify"],[1,682,62,55,"responseData"],[1,685,62,71],[1,711,62,99,"r"],[1,713,62,101,"status"],[1,720,62,109,"responseData"],[1,722,62,123,"r"],[1,730,66,2,"delete"],[1,737,66,10],[1,746,66,27,"uri"],[1,749,67,4],[1,756,67,11,"this"],[1,761,67,16,"client"],[1,768,67,23,"delete"],[1,776,68,6,"url"],[1,780,68,11],[1,790,69,6,"qs"],[1,794,70,8,"url"],[1,798,70,13,"uri"],[1,801,72,6,"signature"],[1,811,72,17,"this"],[1,816,72,22,"token"],[1,825,75,2,"process"],[1,833,75,11],[1,842,75,28,"uri"],[1,844,75,33,"options"],[1,847,76,4],[1,851,76,8,"params"],[1,853,76,17,"_extends"],[1,855,76,26,"options"],[1,858,77,6,"url"],[1,862,77,11,"uri"],[1,866,84,4],[1,873,80,8,"Array"],[1,879,80,14,"isArray"],[1,887,80,22,"params"],[1,889,80,29,"crop"],[1,897,81,6,"params"],[1,899,81,13,"crop"],[1,904,81,20,"params"],[1,906,81,27,"crop"],[1,911,81,32,"join"],[1,916,81,37],[1,922,84,11,"this"],[1,927,84,16,"client"],[1,934,84,23,"get"],[1,939,85,6,"url"],[1,943,85,11],[1,953,86,6,"qs"],[1,956,86,10,"params"],[1,958,87,6,"signature"],[1,968,87,17,"this"],[1,973,87,22,"token"],[1,982,90,2,"thumbmail"],[1,992,90,13],[1,1001,90,32,"uri"],[1,1003,90,37,"w"],[1,1005,90,40,"h"],[1,1008,91,4],[1,1012,91,8,"_ref"],[1,1014,91,15,"arguments"],[1,1024,91,25,"length"],[1,1031,91,34],[1,1039,91,56,"undefined"],[1,1043,91,39,"arguments"],[1,1053,91,49],[1,1056,91,68,"arguments"],[1,1066,91,78],[1,1070,92,6,"crop"],[1,1075,92,12],[1,1084,93,6,"resize"],[1,1091,93,14],[1,1099,95,8,"crop"],[1,1101,95,15,"_ref"],[1,1103,95,20,"crop"],[1,1108,96,8,"resize"],[1,1110,96,17,"_ref"],[1,1112,96,22,"resize"],[1,1119,98,4],[1,1126,98,11,"this"],[1,1131,98,16,"process"],[1,1139,98,24,"uri"],[1,1142,99,6,"w"],[1,1144,99,9,"w"],[1,1146,100,6,"h"],[1,1148,100,9,"h"],[1,1150,101,6,"crop"],[1,1155,101,12,"crop"],[1,1157,102,6,"resize"],[1,1164,102,14,"resize"],[1,1170,106,0,"module"],[1,1172,106,7,"exports"],[1,1180,106,17,"StreamImageStore"]],"functionMap":{"names":["<global>","StreamImageStore","initialize","upload","fetch.then$argument_0","r.text.then$argument_0","_delete","process","thumbmail"],"mappings":"AAA;uBCY;CDE;cEG;GFG;UGG;YCwB;2BCM;ODS;KDC;GHC;UMC;GNQ;WOC;GPc;aQC;GRc"}},"type":"js/module"}]}