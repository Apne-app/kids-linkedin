{"dependencies":[{"name":"./is-binary","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.reconstructPacket = exports.deconstructPacket = void 0;\n\n  var is_binary_1 = _$$_REQUIRE(_dependencyMap[0], \"./is-binary\");\n\n  function deconstructPacket(packet) {\n    var buffers = [];\n    var packetData = packet.data;\n    var pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length;\n    return {\n      packet: pack,\n      buffers: buffers\n    };\n  }\n\n  exports.deconstructPacket = deconstructPacket;\n\n  function _deconstructPacket(data, buffers) {\n    if (!data) return data;\n\n    if (is_binary_1.isBinary(data)) {\n      var placeholder = {\n        _placeholder: true,\n        num: buffers.length\n      };\n      buffers.push(data);\n      return placeholder;\n    } else if (Array.isArray(data)) {\n      var newData = new Array(data.length);\n\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i], buffers);\n      }\n\n      return newData;\n    } else if (typeof data === \"object\" && !(data instanceof Date)) {\n      var _newData = {};\n\n      for (var key in data) {\n        if (data.hasOwnProperty(key)) {\n          _newData[key] = _deconstructPacket(data[key], buffers);\n        }\n      }\n\n      return _newData;\n    }\n\n    return data;\n  }\n\n  function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    packet.attachments = undefined;\n    return packet;\n  }\n\n  exports.reconstructPacket = reconstructPacket;\n\n  function _reconstructPacket(data, buffers) {\n    if (!data) return data;\n\n    if (data && data._placeholder) {\n      return buffers[data.num];\n    } else if (Array.isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i], buffers);\n      }\n    } else if (typeof data === \"object\") {\n      for (var key in data) {\n        if (data.hasOwnProperty(key)) {\n          data[key] = _reconstructPacket(data[key], buffers);\n        }\n      }\n    }\n\n    return data;\n  }\n});","lineCount":85,"map":[[2,0,1,0],[4,0,2,0,"Object"],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,0],[4,24,2,22,"exports"],[4,31,2,0],[4,33,2,31],[4,45,2,0],[4,47,2,45],[5,0,2,47,"value"],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,0,2,45],[6,3,2,0],[7,0,3,0,"exports"],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"reconstructPacket"],[7,27,3,0],[7,30,3,28,"exports"],[7,37,3,35],[7,38,3,36,"deconstructPacket"],[7,55,3,28],[7,58,3,56],[7,63,3,61],[7,64,3,0],[9,0,4,0],[9,6,4,6,"is_binary_1"],[9,17,4,17],[9,20,4,20,"require"],[9,31,4,27],[9,65,4,0],[11,0,12,0],[11,11,12,9,"deconstructPacket"],[11,28,12,0],[11,29,12,27,"packet"],[11,35,12,0],[11,37,12,35],[12,0,13,4],[12,8,13,10,"buffers"],[12,15,13,17],[12,18,13,20],[12,20,13,4],[13,0,14,4],[13,8,14,10,"packetData"],[13,18,14,20],[13,21,14,23,"packet"],[13,27,14,29],[13,28,14,30,"data"],[13,32,14,4],[14,0,15,4],[14,8,15,10,"pack"],[14,12,15,14],[14,15,15,17,"packet"],[14,21,15,4],[15,0,16,4,"pack"],[15,4,16,4,"pack"],[15,8,16,8],[15,9,16,9,"data"],[15,13,16,4],[15,16,16,16,"_deconstructPacket"],[15,34,16,34],[15,35,16,35,"packetData"],[15,45,16,34],[15,47,16,47,"buffers"],[15,54,16,34],[15,55,16,4],[16,0,17,4,"pack"],[16,4,17,4,"pack"],[16,8,17,8],[16,9,17,9,"attachments"],[16,20,17,4],[16,23,17,23,"buffers"],[16,30,17,30],[16,31,17,31,"length"],[16,37,17,4],[17,0,18,4],[17,11,18,11],[18,0,18,13,"packet"],[18,6,18,13,"packet"],[18,12,18,19],[18,14,18,21,"pack"],[18,18,18,11],[19,0,18,27,"buffers"],[19,6,18,27,"buffers"],[19,13,18,34],[19,15,18,36,"buffers"],[20,0,18,11],[20,5,18,4],[21,0,19,1],[23,0,20,0,"exports"],[23,2,20,0,"exports"],[23,9,20,7],[23,10,20,8,"deconstructPacket"],[23,27,20,0],[23,30,20,28,"deconstructPacket"],[23,47,20,0],[25,0,21,0],[25,11,21,9,"_deconstructPacket"],[25,29,21,0],[25,30,21,28,"data"],[25,34,21,0],[25,36,21,34,"buffers"],[25,43,21,0],[25,45,21,43],[26,0,22,4],[26,8,22,8],[26,9,22,9,"data"],[26,13,22,4],[26,15,23,8],[26,22,23,15,"data"],[26,26,23,8],[28,0,24,4],[28,8,24,8,"is_binary_1"],[28,19,24,19],[28,20,24,20,"isBinary"],[28,28,24,8],[28,29,24,29,"data"],[28,33,24,8],[28,34,24,4],[28,36,24,36],[29,0,25,8],[29,10,25,14,"placeholder"],[29,21,25,25],[29,24,25,28],[30,0,25,30,"_placeholder"],[30,8,25,30,"_placeholder"],[30,20,25,42],[30,22,25,44],[30,26,25,28],[31,0,25,50,"num"],[31,8,25,50,"num"],[31,11,25,53],[31,13,25,55,"buffers"],[31,20,25,62],[31,21,25,63,"length"],[32,0,25,28],[32,7,25,8],[33,0,26,8,"buffers"],[33,6,26,8,"buffers"],[33,13,26,15],[33,14,26,16,"push"],[33,18,26,8],[33,19,26,21,"data"],[33,23,26,8],[34,0,27,8],[34,13,27,15,"placeholder"],[34,24,27,8],[35,0,28,5],[35,5,24,4],[35,11,29,9],[35,15,29,13,"Array"],[35,20,29,18],[35,21,29,19,"isArray"],[35,28,29,13],[35,29,29,27,"data"],[35,33,29,13],[35,34,29,9],[35,36,29,34],[36,0,30,8],[36,10,30,14,"newData"],[36,17,30,21],[36,20,30,24],[36,24,30,28,"Array"],[36,29,30,24],[36,30,30,34,"data"],[36,34,30,38],[36,35,30,39,"length"],[36,41,30,24],[36,42,30,8],[38,0,31,8],[38,11,31,13],[38,15,31,17,"i"],[38,16,31,18],[38,19,31,21],[38,20,31,8],[38,22,31,24,"i"],[38,23,31,25],[38,26,31,28,"data"],[38,30,31,32],[38,31,31,33,"length"],[38,37,31,8],[38,39,31,41,"i"],[38,40,31,42],[38,42,31,8],[38,44,31,46],[39,0,32,12,"newData"],[39,8,32,12,"newData"],[39,15,32,19],[39,16,32,20,"i"],[39,17,32,19],[39,18,32,12],[39,21,32,25,"_deconstructPacket"],[39,39,32,43],[39,40,32,44,"data"],[39,44,32,48],[39,45,32,49,"i"],[39,46,32,48],[39,47,32,43],[39,49,32,53,"buffers"],[39,56,32,43],[39,57,32,12],[40,0,33,9],[42,0,34,8],[42,13,34,15,"newData"],[42,20,34,8],[43,0,35,5],[43,5,29,9],[43,11,36,9],[43,15,36,13],[43,22,36,20,"data"],[43,26,36,13],[43,31,36,29],[43,39,36,13],[43,43,36,41],[43,45,36,43,"data"],[43,49,36,47],[43,61,36,59,"Date"],[43,65,36,41],[43,66,36,9],[43,68,36,66],[44,0,37,8],[44,10,37,14,"newData"],[44,18,37,21],[44,21,37,24],[44,23,37,8],[46,0,38,8],[46,11,38,13],[46,15,38,19,"key"],[46,18,38,8],[46,22,38,26,"data"],[46,26,38,8],[46,28,38,32],[47,0,39,12],[47,12,39,16,"data"],[47,16,39,20],[47,17,39,21,"hasOwnProperty"],[47,31,39,16],[47,32,39,36,"key"],[47,35,39,16],[47,36,39,12],[47,38,39,42],[48,0,40,16,"newData"],[48,10,40,16,"newData"],[48,18,40,23],[48,19,40,24,"key"],[48,22,40,23],[48,23,40,16],[48,26,40,31,"_deconstructPacket"],[48,44,40,49],[48,45,40,50,"data"],[48,49,40,54],[48,50,40,55,"key"],[48,53,40,54],[48,54,40,49],[48,56,40,61,"buffers"],[48,63,40,49],[48,64,40,16],[49,0,41,13],[50,0,42,9],[52,0,43,8],[52,13,43,15,"newData"],[52,21,43,8],[53,0,44,5],[55,0,45,4],[55,11,45,11,"data"],[55,15,45,4],[56,0,46,1],[58,0,55,0],[58,11,55,9,"reconstructPacket"],[58,28,55,0],[58,29,55,27,"packet"],[58,35,55,0],[58,37,55,35,"buffers"],[58,44,55,0],[58,46,55,44],[59,0,56,4,"packet"],[59,4,56,4,"packet"],[59,10,56,10],[59,11,56,11,"data"],[59,15,56,4],[59,18,56,18,"_reconstructPacket"],[59,36,56,36],[59,37,56,37,"packet"],[59,43,56,43],[59,44,56,44,"data"],[59,48,56,36],[59,50,56,50,"buffers"],[59,57,56,36],[59,58,56,4],[60,0,57,4,"packet"],[60,4,57,4,"packet"],[60,10,57,10],[60,11,57,11,"attachments"],[60,22,57,4],[60,25,57,25,"undefined"],[60,34,57,4],[61,0,58,4],[61,11,58,11,"packet"],[61,17,58,4],[62,0,59,1],[64,0,60,0,"exports"],[64,2,60,0,"exports"],[64,9,60,7],[64,10,60,8,"reconstructPacket"],[64,27,60,0],[64,30,60,28,"reconstructPacket"],[64,47,60,0],[66,0,61,0],[66,11,61,9,"_reconstructPacket"],[66,29,61,0],[66,30,61,28,"data"],[66,34,61,0],[66,36,61,34,"buffers"],[66,43,61,0],[66,45,61,43],[67,0,62,4],[67,8,62,8],[67,9,62,9,"data"],[67,13,62,4],[67,15,63,8],[67,22,63,15,"data"],[67,26,63,8],[69,0,64,4],[69,8,64,8,"data"],[69,12,64,12],[69,16,64,16,"data"],[69,20,64,20],[69,21,64,21,"_placeholder"],[69,33,64,4],[69,35,64,35],[70,0,65,8],[70,13,65,15,"buffers"],[70,20,65,22],[70,21,65,23,"data"],[70,25,65,27],[70,26,65,28,"num"],[70,29,65,22],[70,30,65,8],[71,0,66,5],[71,5,64,4],[71,11,67,9],[71,15,67,13,"Array"],[71,20,67,18],[71,21,67,19,"isArray"],[71,28,67,13],[71,29,67,27,"data"],[71,33,67,13],[71,34,67,9],[71,36,67,34],[72,0,68,8],[72,11,68,13],[72,15,68,17,"i"],[72,16,68,18],[72,19,68,21],[72,20,68,8],[72,22,68,24,"i"],[72,23,68,25],[72,26,68,28,"data"],[72,30,68,32],[72,31,68,33,"length"],[72,37,68,8],[72,39,68,41,"i"],[72,40,68,42],[72,42,68,8],[72,44,68,46],[73,0,69,12,"data"],[73,8,69,12,"data"],[73,12,69,16],[73,13,69,17,"i"],[73,14,69,16],[73,15,69,12],[73,18,69,22,"_reconstructPacket"],[73,36,69,40],[73,37,69,41,"data"],[73,41,69,45],[73,42,69,46,"i"],[73,43,69,45],[73,44,69,40],[73,46,69,50,"buffers"],[73,53,69,40],[73,54,69,12],[74,0,70,9],[75,0,71,5],[75,5,67,9],[75,11,72,9],[75,15,72,13],[75,22,72,20,"data"],[75,26,72,13],[75,31,72,29],[75,39,72,9],[75,41,72,39],[76,0,73,8],[76,11,73,13],[76,15,73,19,"key"],[76,18,73,8],[76,22,73,26,"data"],[76,26,73,8],[76,28,73,32],[77,0,74,12],[77,12,74,16,"data"],[77,16,74,20],[77,17,74,21,"hasOwnProperty"],[77,31,74,16],[77,32,74,36,"key"],[77,35,74,16],[77,36,74,12],[77,38,74,42],[78,0,75,16,"data"],[78,10,75,16,"data"],[78,14,75,20],[78,15,75,21,"key"],[78,18,75,20],[78,19,75,16],[78,22,75,28,"_reconstructPacket"],[78,40,75,46],[78,41,75,47,"data"],[78,45,75,51],[78,46,75,52,"key"],[78,49,75,51],[78,50,75,46],[78,52,75,58,"buffers"],[78,59,75,46],[78,60,75,16],[79,0,76,13],[80,0,77,9],[81,0,78,5],[83,0,79,4],[83,11,79,11,"data"],[83,15,79,4],[84,0,80,1]],"functionMap":{"names":["<global>","deconstructPacket","_deconstructPacket","reconstructPacket","_reconstructPacket"],"mappings":"AAA;ACW;CDO;AEE;CFyB;AGS;CHI;AIE;CJmB"}},"type":"js/module"}]}