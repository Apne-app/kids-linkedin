{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false,"locs":[]}},{"name":"react-native","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _objectWithoutProperties2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/objectWithoutProperties\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var RNFileViewer = _reactNative.NativeModules.RNFileViewer;\n  var eventEmitter = new _reactNative.NativeEventEmitter(RNFileViewer);\n  var lastId = 0;\n\n  function open(path) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _options = typeof options === \"string\" ? {\n      displayName: options\n    } : options;\n\n    var onDismiss = _options.onDismiss,\n        nativeOptions = (0, _objectWithoutProperties2.default)(_options, [\"onDismiss\"]);\n\n    if (![\"android\", \"ios\"].includes(_reactNative.Platform.OS)) {\n      return RNFileViewer.open(path, nativeOptions);\n    }\n\n    return new Promise(function (resolve, reject) {\n      var currentId = ++lastId;\n      var openSubscription = eventEmitter.addListener(\"RNFileViewerDidOpen\", function (_ref) {\n        var id = _ref.id,\n            error = _ref.error;\n\n        if (id === currentId) {\n          openSubscription.remove();\n          return error ? reject(new Error(error)) : resolve();\n        }\n      });\n      var dismissSubscription = eventEmitter.addListener(\"RNFileViewerDidDismiss\", function (_ref2) {\n        var id = _ref2.id;\n\n        if (id === currentId) {\n          dismissSubscription.remove();\n          onDismiss && onDismiss();\n        }\n      });\n      RNFileViewer.open(normalize(path), currentId, nativeOptions);\n    });\n  }\n\n  function normalize(path) {\n    if (_reactNative.Platform.OS === \"ios\" || _reactNative.Platform.OS === \"android\") {\n      var filePrefix = \"file://\";\n\n      if (path.startsWith(filePrefix)) {\n        path = path.substring(filePrefix.length);\n\n        try {\n          path = decodeURI(path);\n        } catch (e) {}\n      }\n    }\n\n    return path;\n  }\n\n  var _default = {\n    open: open\n  };\n  exports.default = _default;\n});","lineCount":74,"map":[[11,0,1,0],[13,6,3,8,"RNFileViewer"],[13,18],[13,21,3,25,"NativeModules"],[13,47],[13,48,3,8,"RNFileViewer"],[13,60],[14,0,4,0],[14,6,4,6,"eventEmitter"],[14,18,4,18],[14,21,4,21],[14,25,4,25,"NativeEventEmitter"],[14,56,4,21],[14,57,4,44,"RNFileViewer"],[14,69,4,21],[14,70,4,0],[15,0,6,0],[15,6,6,4,"lastId"],[15,12,6,10],[15,15,6,13],[15,16,6,0],[17,0,8,0],[17,11,8,9,"open"],[17,15,8,0],[17,16,8,14,"path"],[17,20,8,0],[17,22,8,34],[18,0,8,34],[18,8,8,20,"options"],[18,15,8,34],[18,86,8,30],[18,88,8,34],[20,0,9,2],[20,8,9,8,"_options"],[20,16,9,16],[20,19,10,4],[20,26,10,11,"options"],[20,33,10,4],[20,38,10,23],[20,46,10,4],[20,49,10,34],[21,0,10,36,"displayName"],[21,6,10,36,"displayName"],[21,17,10,47],[21,19,10,49,"options"],[22,0,10,34],[22,5,10,4],[22,8,10,61,"options"],[22,15,9,2],[24,0,8,34],[24,8,11,10,"onDismiss"],[24,17,8,34],[24,20,11,42,"_options"],[24,28,8,34],[24,29,11,10,"onDismiss"],[24,38,8,34],[25,0,8,34],[25,8,11,24,"nativeOptions"],[25,21,8,34],[25,63,11,42,"_options"],[25,71,8,34],[27,0,13,2],[27,8,13,6],[27,9,13,7],[27,10,13,8],[27,19,13,7],[27,21,13,19],[27,26,13,7],[27,28,13,26,"includes"],[27,36,13,7],[27,37,13,35,"Platform"],[27,59,13,44,"OS"],[27,61,13,7],[27,62,13,2],[27,64,13,49],[28,0,14,4],[28,13,14,11,"RNFileViewer"],[28,25,14,23],[28,26,14,24,"open"],[28,30,14,11],[28,31,14,29,"path"],[28,35,14,11],[28,37,14,35,"nativeOptions"],[28,50,14,11],[28,51,14,4],[29,0,15,3],[31,0,17,2],[31,11,17,9],[31,15,17,13,"Promise"],[31,22,17,9],[31,23,17,21],[31,33,17,22,"resolve"],[31,40,17,21],[31,42,17,31,"reject"],[31,48,17,21],[31,50,17,42],[32,0,18,4],[32,10,18,10,"currentId"],[32,19,18,19],[32,22,18,22],[32,24,18,24,"lastId"],[32,30,18,4],[33,0,20,4],[33,10,20,10,"openSubscription"],[33,26,20,26],[33,29,20,29,"eventEmitter"],[33,41,20,41],[33,42,20,42,"addListener"],[33,53,20,29],[33,54,21,6],[33,75,20,29],[33,77,22,6],[33,93,22,25],[34,0,22,25],[34,12,22,9,"id"],[34,14,22,25],[34,22,22,9,"id"],[34,24,22,25],[35,0,22,25],[35,12,22,13,"error"],[35,17,22,25],[35,25,22,13,"error"],[35,30,22,25],[37,0,23,8],[37,12,23,12,"id"],[37,14,23,14],[37,19,23,19,"currentId"],[37,28,23,8],[37,30,23,30],[38,0,24,10,"openSubscription"],[38,10,24,10,"openSubscription"],[38,26,24,26],[38,27,24,27,"remove"],[38,33,24,10],[39,0,25,10],[39,17,25,17,"error"],[39,22,25,22],[39,25,25,25,"reject"],[39,31,25,31],[39,32,25,32],[39,36,25,36,"Error"],[39,41,25,32],[39,42,25,42,"error"],[39,47,25,32],[39,48,25,31],[39,49,25,22],[39,52,25,52,"resolve"],[39,59,25,59],[39,61,25,10],[40,0,26,9],[41,0,27,7],[41,7,20,29],[41,8,20,4],[42,0,29,4],[42,10,29,10,"dismissSubscription"],[42,29,29,29],[42,32,29,32,"eventEmitter"],[42,44,29,44],[42,45,29,45,"addListener"],[42,56,29,32],[42,57,30,6],[42,81,29,32],[42,83,31,6],[42,100,31,18],[43,0,31,18],[43,12,31,9,"id"],[43,14,31,18],[43,23,31,9,"id"],[43,25,31,18],[45,0,32,8],[45,12,32,12,"id"],[45,14,32,14],[45,19,32,19,"currentId"],[45,28,32,8],[45,30,32,30],[46,0,33,10,"dismissSubscription"],[46,10,33,10,"dismissSubscription"],[46,29,33,29],[46,30,33,30,"remove"],[46,36,33,10],[47,0,34,10,"onDismiss"],[47,10,34,10,"onDismiss"],[47,19,34,19],[47,23,34,23,"onDismiss"],[47,32,34,32],[47,34,34,10],[48,0,35,9],[49,0,36,7],[49,7,29,32],[49,8,29,4],[50,0,39,4,"RNFileViewer"],[50,6,39,4,"RNFileViewer"],[50,18,39,16],[50,19,39,17,"open"],[50,23,39,4],[50,24,39,22,"normalize"],[50,33,39,31],[50,34,39,32,"path"],[50,38,39,31],[50,39,39,4],[50,41,39,39,"currentId"],[50,50,39,4],[50,52,39,50,"nativeOptions"],[50,65,39,4],[51,0,40,3],[51,5,17,9],[51,6,17,2],[52,0,41,1],[54,0,43,0],[54,11,43,9,"normalize"],[54,20,43,0],[54,21,43,19,"path"],[54,25,43,0],[54,27,43,25],[55,0,44,2],[55,8,44,6,"Platform"],[55,30,44,15,"OS"],[55,32,44,6],[55,37,44,22],[55,42,44,6],[55,46,44,31,"Platform"],[55,68,44,40,"OS"],[55,70,44,31],[55,75,44,47],[55,84,44,2],[55,86,44,58],[56,0,45,4],[56,10,45,10,"filePrefix"],[56,20,45,20],[56,23,45,23],[56,32,45,4],[58,0,46,4],[58,10,46,8,"path"],[58,14,46,12],[58,15,46,13,"startsWith"],[58,25,46,8],[58,26,46,24,"filePrefix"],[58,36,46,8],[58,37,46,4],[58,39,46,37],[59,0,47,6,"path"],[59,8,47,6,"path"],[59,12,47,10],[59,15,47,13,"path"],[59,19,47,17],[59,20,47,18,"substring"],[59,29,47,13],[59,30,47,28,"filePrefix"],[59,40,47,38],[59,41,47,39,"length"],[59,47,47,13],[59,48,47,6],[61,0,48,6],[61,12,48,10],[62,0,49,8,"path"],[62,10,49,8,"path"],[62,14,49,12],[62,17,49,15,"decodeURI"],[62,26,49,24],[62,27,49,25,"path"],[62,31,49,24],[62,32,49,8],[63,0,50,7],[63,9,48,6],[63,10,50,8],[63,17,50,15,"e"],[63,18,50,8],[63,20,50,18],[63,21,50,20],[64,0,51,5],[65,0,52,3],[67,0,53,2],[67,11,53,9,"path"],[67,15,53,2],[68,0,54,1],[70,17,56,15],[71,0,56,17,"open"],[71,4,56,17,"open"],[71,8,56,21],[71,10,56,17,"open"],[72,0,56,15],[72,3]],"functionMap":{"names":["<global>","open","Promise$argument_0","eventEmitter.addListener$argument_1","normalize"],"mappings":"AAA;ACO;qBCS;MCK;ODK;MCI;ODK;GDI;CDC;AIE;CJW"}},"type":"js/module"}]}