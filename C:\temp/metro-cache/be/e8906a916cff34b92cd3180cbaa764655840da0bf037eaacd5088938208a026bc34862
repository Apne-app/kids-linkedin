{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"./nativeInterface","data":{"isAsync":false}},{"name":"./internetReachability","data":{"isAsync":false}},{"name":"./privateTypes","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var s=n(r(d[2])),c=n(r(d[3])),u=n(r(d[4])),o=n(r(d[5])),l=n(r(d[6])),h=t(r(d[7]));function f(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,c)}return s}function _(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?f(Object(s),!0).forEach(function(n){(0,c.default)(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}e.default=function t(n){var c=this;(0,u.default)(this,t),this._nativeEventSubscription=null,this._subscriptions=new Set,this._latestState=null,this._handleNativeStateUpdate=function(t){c._internetReachability.update(t);var n=c._convertState(t);c._latestState=n,c._subscriptions.forEach(function(t){return t(n)})},this._handleInternetReachabilityUpdate=function(t){if(c._latestState){var n=_(_({},c._latestState),{},{isInternetReachable:t});c._latestState=n,c._subscriptions.forEach(function(t){return t(n)})}},this._fetchCurrentState=function(t){var n,u;return s.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,s.default.awrap(o.default.getCurrentState(t));case 2:return n=l.sent,c._internetReachability.update(n),u=c._convertState(n),t||(c._latestState=u),l.abrupt(\"return\",u);case 7:case\"end\":return l.stop()}},null,null,null,Promise)},this._convertState=function(t){return'boolean'==typeof t.isInternetReachable?t:_(_({},t),{},{isInternetReachable:c._internetReachability.currentState()})},this.latest=function(t){return t?c._fetchCurrentState(t):c._latestState?Promise.resolve(c._latestState):c._fetchCurrentState()},this.add=function(t){c._subscriptions.add(t),c._latestState?t(c._latestState):c.latest().then(t)},this.remove=function(t){c._subscriptions.delete(t)},this.tearDown=function(){c._internetReachability&&c._internetReachability.tearDown(),c._nativeEventSubscription&&c._nativeEventSubscription.remove(),c._subscriptions.clear()},this._internetReachability=new l.default(n,this._handleInternetReachabilityUpdate),this._nativeEventSubscription=o.default.eventEmitter.addListener(h.DEVICE_CONNECTIVITY_EVENT,this._handleNativeStateUpdate),this._fetchCurrentState()}});","lineCount":1,"map":[[1,161,11,0,"_nativeInterface"],[1,163,11,0,"_interopRequireDefault"],[1,165,11,0,"r"],[1,167,11,0,"d"],[1,169,11,0],[1,174,12,0,"_internetReachability"],[1,176,12,0,"_interopRequireDefault"],[1,178,12,0,"r"],[1,180,12,0,"d"],[1,182,12,0],[1,187,14,0,"PrivateTypes"],[1,189,14,0,"_interopRequireWildcard"],[1,191,14,0,"r"],[1,193,14,0,"d"],[1,195,14,0],[1,791,22,2],[1,800,22,2,"State"],[1,802,22,14,"configuration"],[1,805,22,57],[1,809,22,57,"_this"],[1,811,22,57,"this"],[1,817,22,57],[1,819,22,57,"_classCallCheck2"],[1,821,22,57,"default"],[1,830,22,57,"this"],[1,835,22,57,"State"],[1,838,22,57,"this"],[1,843,17,10,"_nativeEventSubscription"],[1,868,17,69],[1,873,22,57,"this"],[1,878,18,10,"_subscriptions"],[1,893,18,27],[1,897,18,31,"Set"],[1,901,22,57,"this"],[1,906,19,10,"_latestState"],[1,919,19,52],[1,924,22,57,"this"],[1,929,39,10,"_handleNativeStateUpdate"],[1,954,39,37],[1,963,40,4,"state"],[1,966,43,4,"_this"],[1,968,43,9,"_internetReachability"],[1,990,43,31,"update"],[1,997,43,38,"state"],[1,1000,46,4],[1,1004,46,10,"convertedState"],[1,1006,46,27,"_this"],[1,1008,46,32,"_convertState"],[1,1022,46,46,"state"],[1,1025,49,4,"_this"],[1,1027,49,9,"_latestState"],[1,1040,49,24,"convertedState"],[1,1042,50,4,"_this"],[1,1044,50,9,"_subscriptions"],[1,1059,50,24,"forEach"],[1,1067,50,32],[1,1076,50,33,"handler"],[1,1079,50,32],[1,1086,50,51,"handler"],[1,1088,50,59,"convertedState"],[1,1094,22,57,"this"],[1,1099,53,10,"_handleInternetReachabilityUpdate"],[1,1133,53,46],[1,1142,54,4,"isInternetReachable"],[1,1145,56,4],[1,1148,56,9,"_this"],[1,1150,56,14,"_latestState"],[1,1163,56,4],[1,1164,60,4],[1,1168,60,10,"nextState"],[1,1170,60,19,"_objectSpread"],[1,1172,60,19,"_objectSpread"],[1,1177,61,9,"_this"],[1,1179,61,14,"_latestState"],[1,1197,62,6,"isInternetReachable"],[1,1217,62,6,"isInternetReachable"],[1,1221,64,4,"_this"],[1,1223,64,9,"_latestState"],[1,1236,64,24,"nextState"],[1,1238,65,4,"_this"],[1,1240,65,9,"_subscriptions"],[1,1255,65,24,"forEach"],[1,1263,65,32],[1,1272,65,33,"handler"],[1,1275,65,32],[1,1282,65,51,"handler"],[1,1284,65,59,"nextState"],[1,1291,22,57,"this"],[1,1296,68,10,"_fetchCurrentState"],[1,1315,68,31],[1,1324,69,4,"requestedInterface"],[1,1327,68,31],[1,1331,68,31,"state"],[1,1333,68,31,"convertedState"],[1,1335,68,31],[1,1342,68,31,"_regenerator"],[1,1344,68,31,"default"],[1,1352,68,31,"async"],[1,1358,68,31],[1,1367,68,31,"_context"],[1,1370,68,31],[1,1377,68,31],[1,1384,68,31,"_context"],[1,1386,68,31,"prev"],[1,1391,68,31,"_context"],[1,1393,68,31,"next"],[1,1399,68,31],[1,1404,68,31],[1,1406,68,31],[1,1413,68,31,"_context"],[1,1415,68,31,"next"],[1,1420,68,31],[1,1422,68,31,"_regenerator"],[1,1424,68,31,"default"],[1,1432,68,31,"awrap"],[1,1438,71,24,"NativeInterface"],[1,1440,71,24,"NativeInterface"],[1,1448,71,40,"getCurrentState"],[1,1464,71,56,"requestedInterface"],[1,1468,68,31],[1,1473,68,31],[1,1475,68,31],[1,1482,71,10,"state"],[1,1484,68,31,"_context"],[1,1486,68,31,"sent"],[1,1491,74,4,"_this"],[1,1493,74,9,"_internetReachability"],[1,1515,74,31,"update"],[1,1522,74,38,"state"],[1,1525,76,10,"convertedState"],[1,1527,76,27,"_this"],[1,1529,76,32,"_convertState"],[1,1543,76,46,"state"],[1,1546,77,9,"requestedInterface"],[1,1550,78,6,"_this"],[1,1552,78,11,"_latestState"],[1,1565,78,26,"convertedState"],[1,1568,68,31,"_context"],[1,1570,68,31,"abrupt"],[1,1577,68,31],[1,1586,81,11,"convertedState"],[1,1589,68,31],[1,1594,68,31],[1,1596,68,31],[1,1600,68,31],[1,1606,68,31],[1,1613,68,31,"_context"],[1,1615,68,31,"stop"],[1,1624,68,31],[1,1629,68,31],[1,1634,68,31],[1,1639,68,31,"Promise"],[1,1649,22,57,"this"],[1,1654,84,10,"_convertState"],[1,1668,84,26],[1,1677,85,4,"input"],[1,1680,87,4],[1,1686,87,45],[1,1704,87,15,"input"],[1,1706,87,21,"isInternetReachable"],[1,1726,88,13,"input"],[1,1728,90,6,"_objectSpread"],[1,1730,90,6,"_objectSpread"],[1,1735,91,11,"input"],[1,1742,92,8,"isInternetReachable"],[1,1762,92,29,"_this"],[1,1764,92,34,"_internetReachability"],[1,1786,92,56,"currentState"],[1,1804,22,57,"this"],[1,1809,97,9,"latest"],[1,1816,97,18],[1,1825,98,4,"requestedInterface"],[1,1828,100,4],[1,1835,100,8,"requestedInterface"],[1,1837,101,13,"_this"],[1,1839,101,18,"_fetchCurrentState"],[1,1858,101,37,"requestedInterface"],[1,1861,102,15,"_this"],[1,1863,102,20,"_latestState"],[1,1876,103,13,"Promise"],[1,1884,103,21,"resolve"],[1,1892,103,29,"_this"],[1,1894,103,34,"_latestState"],[1,1908,105,13,"_this"],[1,1910,105,18,"_fetchCurrentState"],[1,1932,22,57,"this"],[1,1937,109,9,"add"],[1,1941,109,15],[1,1950,109,16,"handler"],[1,1953,111,4,"_this"],[1,1955,111,9,"_subscriptions"],[1,1970,111,24,"add"],[1,1974,111,28,"handler"],[1,1977,114,8,"_this"],[1,1979,114,13,"_latestState"],[1,1992,115,6,"handler"],[1,1994,115,14,"_this"],[1,1996,115,19,"_latestState"],[1,2010,117,6,"_this"],[1,2012,117,11,"latest"],[1,2021,117,20,"then"],[1,2026,117,25,"handler"],[1,2030,22,57,"this"],[1,2035,121,9,"remove"],[1,2042,121,18],[1,2051,121,19,"handler"],[1,2054,122,4,"_this"],[1,2056,122,9,"_subscriptions"],[1,2071,122,24,"delete"],[1,2078,122,31,"handler"],[1,2082,22,57,"this"],[1,2087,125,9,"tearDown"],[1,2096,125,20],[1,2107,126,8,"_this"],[1,2109,126,13,"_internetReachability"],[1,2132,127,6,"_this"],[1,2134,127,11,"_internetReachability"],[1,2156,127,33,"tearDown"],[1,2167,130,8,"_this"],[1,2169,130,13,"_nativeEventSubscription"],[1,2195,131,6,"_this"],[1,2197,131,11,"_nativeEventSubscription"],[1,2222,131,36,"remove"],[1,2231,134,4,"_this"],[1,2233,134,9,"_subscriptions"],[1,2248,134,24,"clear"],[1,2257,24,4,"this"],[1,2262,24,9,"_internetReachability"],[1,2284,24,33],[1,2288,24,37,"InternetReachability"],[1,2290,24,37,"InternetReachability"],[1,2298,25,6,"configuration"],[1,2300,26,6,"this"],[1,2305,26,11,"_handleInternetReachabilityUpdate"],[1,2340,30,4,"this"],[1,2345,30,9,"_nativeEventSubscription"],[1,2370,30,36,"NativeInterface"],[1,2372,30,36,"NativeInterface"],[1,2380,30,52,"eventEmitter"],[1,2393,30,65,"addListener"],[1,2405,31,6,"PrivateTypes"],[1,2407,31,19,"DEVICE_CONNECTIVITY_EVENT"],[1,2433,32,6,"this"],[1,2438,32,11,"_handleNativeStateUpdate"],[1,2464,36,4,"this"],[1,2469,36,9,"_fetchCurrentState"]],"functionMap":{"names":["<global>","State","State#constructor","State#_handleNativeStateUpdate","_subscriptions.forEach$argument_0","State#_handleInternetReachabilityUpdate","State#_fetchCurrentState","State#_convertState","State#latest","State#add","State#remove","State#tearDown"],"mappings":"AAA;eCe;ECM;GDe;qCEE;gCCW,0CD;GFC;8CIE;gCDY,qCC;GJC;+BKE;GLc;0BME;GNW;kBOE;GPU;eQE;GRU;kBSE;GTE;oBUE;GVU;CDC"}},"type":"js/module"}]}