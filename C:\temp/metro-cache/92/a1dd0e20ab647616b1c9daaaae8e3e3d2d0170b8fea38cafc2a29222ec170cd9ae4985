{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@react-native-firebase/app/lib/common","data":{"isAsync":false,"locs":[]}},{"name":"../../FirebaseApp","data":{"isAsync":false,"locs":[]}},{"name":"../constants","data":{"isAsync":false,"locs":[]}},{"name":"./nativeModule","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.setOnAppCreate = setOnAppCreate;\n  exports.setOnAppDestroy = setOnAppDestroy;\n  exports.initializeNativeApps = initializeNativeApps;\n  exports.getApp = getApp;\n  exports.getApps = getApps;\n  exports.initializeApp = initializeApp;\n  exports.deleteApp = deleteApp;\n\n  var _common = _$$_REQUIRE(_dependencyMap[1], \"@react-native-firebase/app/lib/common\");\n\n  var _FirebaseApp = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"../../FirebaseApp\"));\n\n  var _constants = _$$_REQUIRE(_dependencyMap[3], \"../constants\");\n\n  var _nativeModule = _$$_REQUIRE(_dependencyMap[4], \"./nativeModule\");\n\n  var APP_REGISTRY = {};\n  var onAppCreateFn = null;\n  var onAppDestroyFn = null;\n  var initializedNativeApps = false;\n\n  function setOnAppCreate(fn) {\n    onAppCreateFn = fn;\n  }\n\n  function setOnAppDestroy(fn) {\n    onAppDestroyFn = fn;\n  }\n\n  function initializeNativeApps() {\n    var nativeModule = (0, _nativeModule.getAppModule)();\n    var NATIVE_FIREBASE_APPS = nativeModule.NATIVE_FIREBASE_APPS;\n\n    if (NATIVE_FIREBASE_APPS && NATIVE_FIREBASE_APPS.length) {\n      for (var i = 0; i < NATIVE_FIREBASE_APPS.length; i++) {\n        var _NATIVE_FIREBASE_APPS = NATIVE_FIREBASE_APPS[i],\n            appConfig = _NATIVE_FIREBASE_APPS.appConfig,\n            options = _NATIVE_FIREBASE_APPS.options;\n        var name = appConfig.name;\n        APP_REGISTRY[name] = new _FirebaseApp.default(options, appConfig, true, deleteApp.bind(null, name, true));\n        onAppCreateFn(APP_REGISTRY[name]);\n      }\n    }\n\n    initializedNativeApps = true;\n  }\n\n  function getApp() {\n    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _constants.DEFAULT_APP_NAME;\n\n    if (!initializedNativeApps) {\n      initializeNativeApps();\n    }\n\n    var app = APP_REGISTRY[name];\n\n    if (!app) {\n      throw new Error(\"No Firebase App '\" + name + \"' has been created - call firebase.initializeApp()\");\n    }\n\n    return app;\n  }\n\n  function getApps() {\n    if (!initializedNativeApps) {\n      initializeNativeApps();\n    }\n\n    return Object.values(APP_REGISTRY);\n  }\n\n  function initializeApp() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var configOrName = arguments.length > 1 ? arguments[1] : undefined;\n    var appConfig = configOrName;\n\n    if (!(0, _common.isObject)(configOrName) || (0, _common.isNull)(configOrName)) {\n      appConfig = {\n        name: configOrName,\n        automaticResourceManagement: false,\n        automaticDataCollectionEnabled: true\n      };\n    }\n\n    if ((0, _common.isUndefined)(appConfig.name)) {\n      appConfig.name = _constants.DEFAULT_APP_NAME;\n    }\n\n    var _appConfig = appConfig,\n        name = _appConfig.name;\n\n    if (!name || !(0, _common.isString)(name)) {\n      return Promise.reject(new Error(\"Illegal App name: '\" + name + \"'\"));\n    }\n\n    if (APP_REGISTRY[name]) {\n      return Promise.reject(new Error(\"Firebase App named '\" + name + \"' already exists\"));\n    }\n\n    if (!(0, _common.isObject)(options)) {\n      return Promise.reject(new Error(\"firebase.initializeApp(options, <- expects an Object but got '\" + typeof options + \"'\"));\n    }\n\n    if (!(0, _common.isString)(options.apiKey)) {\n      return Promise.reject(new Error(\"Missing or invalid FirebaseOptions property 'apiKey'.\"));\n    }\n\n    if (!(0, _common.isString)(options.appId)) {\n      return Promise.reject(new Error(\"Missing or invalid FirebaseOptions property 'appId'.\"));\n    }\n\n    if (!(0, _common.isString)(options.databaseURL)) {\n      return Promise.reject(new Error(\"Missing or invalid FirebaseOptions property 'databaseURL'.\"));\n    }\n\n    if (!(0, _common.isString)(options.messagingSenderId)) {\n      return Promise.reject(new Error(\"Missing or invalid FirebaseOptions property 'messagingSenderId'.\"));\n    }\n\n    if (!(0, _common.isString)(options.projectId)) {\n      return Promise.reject(new Error(\"Missing or invalid FirebaseOptions property 'projectId'.\"));\n    }\n\n    if (!(0, _common.isString)(options.storageBucket)) {\n      return Promise.reject(new Error(\"Missing or invalid FirebaseOptions property 'storageBucket'.\"));\n    }\n\n    var app = new _FirebaseApp.default(options, {\n      name: name\n    }, false, deleteApp.bind(null, name, true));\n    APP_REGISTRY[name] = app;\n    onAppCreateFn(APP_REGISTRY[name]);\n    return (0, _nativeModule.getAppModule)().initializeApp(options, {\n      name: name\n    }).then(function () {\n      app._initialized = true;\n      return app;\n    });\n  }\n\n  function deleteApp(name, nativeInitialized) {\n    if (name === _constants.DEFAULT_APP_NAME && nativeInitialized) {\n      return Promise.reject(new Error('Unable to delete the default native firebase app instance.'));\n    }\n\n    var app = APP_REGISTRY[name];\n    var nativeModule = (0, _nativeModule.getAppModule)();\n    return nativeModule.deleteApp(name).then(function () {\n      app._deleted = true;\n      onAppDestroyFn(app);\n      delete APP_REGISTRY[name];\n    });\n  }\n});","lineCount":160,"map":[[15,0,18,0],[17,0,19,0],[19,0,20,0],[21,0,21,0],[23,0,23,0],[23,6,23,6,"APP_REGISTRY"],[23,18,23,18],[23,21,23,21],[23,23,23,0],[24,0,24,0],[24,6,24,4,"onAppCreateFn"],[24,19,24,17],[24,22,24,20],[24,26,24,0],[25,0,25,0],[25,6,25,4,"onAppDestroyFn"],[25,20,25,18],[25,23,25,21],[25,27,25,0],[26,0,26,0],[26,6,26,4,"initializedNativeApps"],[26,27,26,25],[26,30,26,28],[26,35,26,0],[28,0,32,7],[28,11,32,16,"setOnAppCreate"],[28,25,32,7],[28,26,32,31,"fn"],[28,28,32,7],[28,30,32,35],[29,0,33,2,"onAppCreateFn"],[29,4,33,2,"onAppCreateFn"],[29,17,33,15],[29,20,33,18,"fn"],[29,22,33,2],[30,0,34,1],[32,0,40,7],[32,11,40,16,"setOnAppDestroy"],[32,26,40,7],[32,27,40,32,"fn"],[32,29,40,7],[32,31,40,36],[33,0,41,2,"onAppDestroyFn"],[33,4,41,2,"onAppDestroyFn"],[33,18,41,16],[33,21,41,19,"fn"],[33,23,41,2],[34,0,42,1],[36,0,48,7],[36,11,48,16,"initializeNativeApps"],[36,31,48,7],[36,34,48,39],[37,0,49,2],[37,8,49,8,"nativeModule"],[37,20,49,20],[37,23,49,23],[37,56,49,2],[38,0,48,39],[38,8,50,10,"NATIVE_FIREBASE_APPS"],[38,28,48,39],[38,31,50,35,"nativeModule"],[38,43,48,39],[38,44,50,10,"NATIVE_FIREBASE_APPS"],[38,64,48,39],[40,0,52,2],[40,8,52,6,"NATIVE_FIREBASE_APPS"],[40,28,52,26],[40,32,52,30,"NATIVE_FIREBASE_APPS"],[40,52,52,50],[40,53,52,51,"length"],[40,59,52,2],[40,61,52,59],[41,0,53,4],[41,11,53,9],[41,15,53,13,"i"],[41,16,53,14],[41,19,53,17],[41,20,53,4],[41,22,53,20,"i"],[41,23,53,21],[41,26,53,24,"NATIVE_FIREBASE_APPS"],[41,46,53,44],[41,47,53,45,"length"],[41,53,53,4],[41,55,53,53,"i"],[41,56,53,54],[41,58,53,4],[41,60,53,58],[42,0,53,58],[42,36,54,37,"NATIVE_FIREBASE_APPS"],[42,56,54,57],[42,57,54,58,"i"],[42,58,54,57],[42,59,53,58],[43,0,53,58],[43,12,54,14,"appConfig"],[43,21,53,58],[43,46,54,14,"appConfig"],[43,55,53,58],[44,0,53,58],[44,12,54,25,"options"],[44,19,53,58],[44,44,54,25,"options"],[44,51,53,58],[45,0,53,58],[45,12,55,14,"name"],[45,16,53,58],[45,19,55,23,"appConfig"],[45,28,53,58],[45,29,55,14,"name"],[45,33,53,58],[46,0,56,6,"APP_REGISTRY"],[46,8,56,6,"APP_REGISTRY"],[46,20,56,18],[46,21,56,19,"name"],[46,25,56,18],[46,26,56,6],[46,29,56,27],[46,33,56,31,"FirebaseApp"],[46,53,56,27],[46,54,57,8,"options"],[46,61,56,27],[46,63,58,8,"appConfig"],[46,72,56,27],[46,74,59,8],[46,78,56,27],[46,80,60,8,"deleteApp"],[46,89,60,17],[46,90,60,18,"bind"],[46,94,60,8],[46,95,60,23],[46,99,60,8],[46,101,60,29,"name"],[46,105,60,8],[46,107,60,35],[46,111,60,8],[46,112,56,27],[46,113,56,6],[47,0,62,6,"onAppCreateFn"],[47,8,62,6,"onAppCreateFn"],[47,21,62,19],[47,22,62,20,"APP_REGISTRY"],[47,34,62,32],[47,35,62,33,"name"],[47,39,62,32],[47,40,62,19],[47,41,62,6],[48,0,63,5],[49,0,64,3],[51,0,66,2,"initializedNativeApps"],[51,4,66,2,"initializedNativeApps"],[51,25,66,23],[51,28,66,26],[51,32,66,2],[52,0,67,1],[54,0,77,7],[54,11,77,16,"getApp"],[54,17,77,7],[54,20,77,48],[55,0,77,48],[55,8,77,23,"name"],[55,12,77,48],[55,83,77,30,"DEFAULT_APP_NAME"],[55,110,77,48],[57,0,78,2],[57,8,78,6],[57,9,78,7,"initializedNativeApps"],[57,30,78,2],[57,32,78,30],[58,0,79,4,"initializeNativeApps"],[58,6,79,4,"initializeNativeApps"],[58,26,79,24],[59,0,80,3],[61,0,81,2],[61,8,81,8,"app"],[61,11,81,11],[61,14,81,14,"APP_REGISTRY"],[61,26,81,26],[61,27,81,27,"name"],[61,31,81,26],[61,32,81,2],[63,0,83,2],[63,8,83,6],[63,9,83,7,"app"],[63,12,83,2],[63,14,83,12],[64,0,84,4],[64,12,84,10],[64,16,84,14,"Error"],[64,21,84,10],[64,44,84,40,"name"],[64,48,84,10],[64,104,84,4],[65,0,85,3],[67,0,87,2],[67,11,87,9,"app"],[67,14,87,2],[68,0,88,1],[70,0,93,7],[70,11,93,16,"getApps"],[70,18,93,7],[70,21,93,26],[71,0,94,2],[71,8,94,6],[71,9,94,7,"initializedNativeApps"],[71,30,94,2],[71,32,94,30],[72,0,95,4,"initializeNativeApps"],[72,6,95,4,"initializeNativeApps"],[72,26,95,24],[73,0,96,3],[75,0,97,2],[75,11,97,9,"Object"],[75,17,97,15],[75,18,97,16,"values"],[75,24,97,9],[75,25,97,23,"APP_REGISTRY"],[75,37,97,9],[75,38,97,2],[76,0,98,1],[78,0,105,7],[78,11,105,16,"initializeApp"],[78,24,105,7],[78,27,105,58],[79,0,105,58],[79,8,105,30,"options"],[79,15,105,58],[79,86,105,40],[79,88,105,58],[80,0,105,58],[80,8,105,44,"configOrName"],[80,20,105,58],[81,0,106,2],[81,8,106,6,"appConfig"],[81,17,106,15],[81,20,106,18,"configOrName"],[81,32,106,2],[83,0,108,2],[83,8,108,6],[83,9,108,7],[83,31,108,16,"configOrName"],[83,43,108,7],[83,44,108,6],[83,48,108,33],[83,68,108,40,"configOrName"],[83,80,108,33],[83,81,108,2],[83,83,108,55],[84,0,109,4,"appConfig"],[84,6,109,4,"appConfig"],[84,15,109,13],[84,18,109,16],[85,0,110,6,"name"],[85,8,110,6,"name"],[85,12,110,10],[85,14,110,12,"configOrName"],[85,26,109,16],[86,0,111,6,"automaticResourceManagement"],[86,8,111,6,"automaticResourceManagement"],[86,35,111,33],[86,37,111,35],[86,42,109,16],[87,0,112,6,"automaticDataCollectionEnabled"],[87,8,112,6,"automaticDataCollectionEnabled"],[87,38,112,36],[87,40,112,38],[88,0,109,16],[88,7,109,4],[89,0,114,3],[91,0,116,2],[91,8,116,6],[91,33,116,18,"appConfig"],[91,42,116,27],[91,43,116,28,"name"],[91,47,116,6],[91,48,116,2],[91,50,116,35],[92,0,117,4,"appConfig"],[92,6,117,4,"appConfig"],[92,15,117,13],[92,16,117,14,"name"],[92,20,117,4],[92,23,117,21,"DEFAULT_APP_NAME"],[92,50,117,4],[93,0,118,3],[95,0,105,58],[95,21,120,19,"appConfig"],[95,30,105,58],[96,0,105,58],[96,8,120,10,"name"],[96,12,105,58],[96,26,120,10,"name"],[96,30,105,58],[98,0,122,2],[98,8,122,6],[98,9,122,7,"name"],[98,13,122,6],[98,17,122,15],[98,18,122,16],[98,40,122,25,"name"],[98,44,122,16],[98,45,122,2],[98,47,122,32],[99,0,123,4],[99,13,123,11,"Promise"],[99,20,123,18],[99,21,123,19,"reject"],[99,27,123,11],[99,28,123,26],[99,32,123,30,"Error"],[99,37,123,26],[99,62,123,58,"name"],[99,66,123,26],[99,73,123,11],[99,74,123,4],[100,0,124,3],[102,0,126,2],[102,8,126,6,"APP_REGISTRY"],[102,20,126,18],[102,21,126,19,"name"],[102,25,126,18],[102,26,126,2],[102,28,126,26],[103,0,127,4],[103,13,127,11,"Promise"],[103,20,127,18],[103,21,127,19,"reject"],[103,27,127,11],[103,28,127,26],[103,32,127,30,"Error"],[103,37,127,26],[103,63,127,59,"name"],[103,67,127,26],[103,89,127,11],[103,90,127,4],[104,0,128,3],[106,0,131,2],[106,8,131,6],[106,9,131,7],[106,31,131,16,"options"],[106,38,131,7],[106,39,131,2],[106,41,131,26],[107,0,132,4],[107,13,132,11,"Promise"],[107,20,132,18],[107,21,132,19,"reject"],[107,27,132,11],[107,28,133,6],[107,32,133,10,"Error"],[107,37,133,6],[107,105,133,81],[107,112,133,88,"options"],[107,119,133,6],[107,126,132,11],[107,127,132,4],[108,0,135,3],[110,0,137,2],[110,8,137,6],[110,9,137,7],[110,31,137,16,"options"],[110,38,137,23],[110,39,137,24,"apiKey"],[110,45,137,7],[110,46,137,2],[110,48,137,33],[111,0,138,4],[111,13,138,11,"Promise"],[111,20,138,18],[111,21,138,19,"reject"],[111,27,138,11],[111,28,138,26],[111,32,138,30,"Error"],[111,37,138,26],[111,38,138,36],[111,93,138,26],[111,94,138,11],[111,95,138,4],[112,0,139,3],[114,0,141,2],[114,8,141,6],[114,9,141,7],[114,31,141,16,"options"],[114,38,141,23],[114,39,141,24,"appId"],[114,44,141,7],[114,45,141,2],[114,47,141,32],[115,0,142,4],[115,13,142,11,"Promise"],[115,20,142,18],[115,21,142,19,"reject"],[115,27,142,11],[115,28,142,26],[115,32,142,30,"Error"],[115,37,142,26],[115,38,142,36],[115,92,142,26],[115,93,142,11],[115,94,142,4],[116,0,143,3],[118,0,146,2],[118,8,146,6],[118,9,146,7],[118,31,146,16,"options"],[118,38,146,23],[118,39,146,24,"databaseURL"],[118,50,146,7],[118,51,146,2],[118,53,146,38],[119,0,147,4],[119,13,147,11,"Promise"],[119,20,147,18],[119,21,147,19,"reject"],[119,27,147,11],[119,28,147,26],[119,32,147,30,"Error"],[119,37,147,26],[119,38,147,36],[119,98,147,26],[119,99,147,11],[119,100,147,4],[120,0,148,3],[122,0,151,2],[122,8,151,6],[122,9,151,7],[122,31,151,16,"options"],[122,38,151,23],[122,39,151,24,"messagingSenderId"],[122,56,151,7],[122,57,151,2],[122,59,151,44],[123,0,152,4],[123,13,152,11,"Promise"],[123,20,152,18],[123,21,152,19,"reject"],[123,27,152,11],[123,28,153,6],[123,32,153,10,"Error"],[123,37,153,6],[123,38,153,16],[123,104,153,6],[123,105,152,11],[123,106,152,4],[124,0,155,3],[126,0,157,2],[126,8,157,6],[126,9,157,7],[126,31,157,16,"options"],[126,38,157,23],[126,39,157,24,"projectId"],[126,48,157,7],[126,49,157,2],[126,51,157,36],[127,0,158,4],[127,13,158,11,"Promise"],[127,20,158,18],[127,21,158,19,"reject"],[127,27,158,11],[127,28,158,26],[127,32,158,30,"Error"],[127,37,158,26],[127,38,158,36],[127,96,158,26],[127,97,158,11],[127,98,158,4],[128,0,159,3],[130,0,162,2],[130,8,162,6],[130,9,162,7],[130,31,162,16,"options"],[130,38,162,23],[130,39,162,24,"storageBucket"],[130,52,162,7],[130,53,162,2],[130,55,162,40],[131,0,163,4],[131,13,163,11,"Promise"],[131,20,163,18],[131,21,163,19,"reject"],[131,27,163,11],[131,28,164,6],[131,32,164,10,"Error"],[131,37,164,6],[131,38,164,16],[131,100,164,6],[131,101,163,11],[131,102,163,4],[132,0,166,3],[134,0,168,2],[134,8,168,8,"app"],[134,11,168,11],[134,14,168,14],[134,18,168,18,"FirebaseApp"],[134,38,168,14],[134,39,168,30,"options"],[134,46,168,14],[134,48,168,39],[135,0,168,41,"name"],[135,6,168,41,"name"],[135,10,168,45],[135,12,168,41,"name"],[136,0,168,39],[136,5,168,14],[136,7,168,49],[136,12,168,14],[136,14,168,56,"deleteApp"],[136,23,168,65],[136,24,168,66,"bind"],[136,28,168,56],[136,29,168,71],[136,33,168,56],[136,35,168,77,"name"],[136,39,168,56],[136,41,168,83],[136,45,168,56],[136,46,168,14],[136,47,168,2],[137,0,170,2,"APP_REGISTRY"],[137,4,170,2,"APP_REGISTRY"],[137,16,170,14],[137,17,170,15,"name"],[137,21,170,14],[137,22,170,2],[137,25,170,23,"app"],[137,28,170,2],[138,0,171,2,"onAppCreateFn"],[138,4,171,2,"onAppCreateFn"],[138,17,171,15],[138,18,171,16,"APP_REGISTRY"],[138,30,171,28],[138,31,171,29,"name"],[138,35,171,28],[138,36,171,15],[138,37,171,2],[139,0,173,2],[139,11,173,9],[139,45,174,5,"initializeApp"],[139,58,173,9],[139,59,174,19,"options"],[139,66,173,9],[139,68,174,28],[140,0,174,30,"name"],[140,6,174,30,"name"],[140,10,174,34],[140,12,174,30,"name"],[141,0,174,28],[141,5,173,9],[141,7,175,5,"then"],[141,11,173,9],[141,12,175,10],[141,24,175,16],[142,0,176,6,"app"],[142,6,176,6,"app"],[142,9,176,9],[142,10,176,10,"_initialized"],[142,22,176,6],[142,25,176,25],[142,29,176,6],[143,0,177,6],[143,13,177,13,"app"],[143,16,177,6],[144,0,178,5],[144,5,173,9],[144,6,173,2],[145,0,179,1],[147,0,184,7],[147,11,184,16,"deleteApp"],[147,20,184,7],[147,21,184,26,"name"],[147,25,184,7],[147,27,184,32,"nativeInitialized"],[147,44,184,7],[147,46,184,51],[148,0,185,2],[148,8,185,6,"name"],[148,12,185,10],[148,17,185,15,"DEFAULT_APP_NAME"],[148,44,185,6],[148,48,185,35,"nativeInitialized"],[148,65,185,2],[148,67,185,54],[149,0,186,4],[149,13,186,11,"Promise"],[149,20,186,18],[149,21,186,19,"reject"],[149,27,186,11],[149,28,186,26],[149,32,186,30,"Error"],[149,37,186,26],[149,38,186,36],[149,98,186,26],[149,99,186,11],[149,100,186,4],[150,0,187,3],[152,0,189,2],[152,8,189,8,"app"],[152,11,189,11],[152,14,189,14,"APP_REGISTRY"],[152,26,189,26],[152,27,189,27,"name"],[152,31,189,26],[152,32,189,2],[153,0,191,2],[153,8,191,8,"nativeModule"],[153,20,191,20],[153,23,191,23],[153,56,191,2],[154,0,193,2],[154,11,193,9,"nativeModule"],[154,23,193,21],[154,24,193,22,"deleteApp"],[154,33,193,9],[154,34,193,32,"name"],[154,38,193,9],[154,40,193,38,"then"],[154,44,193,9],[154,45,193,43],[154,57,193,49],[155,0,194,4,"app"],[155,6,194,4,"app"],[155,9,194,7],[155,10,194,8,"_deleted"],[155,18,194,4],[155,21,194,19],[155,25,194,4],[156,0,195,4,"onAppDestroyFn"],[156,6,195,4,"onAppDestroyFn"],[156,20,195,18],[156,21,195,19,"app"],[156,24,195,18],[156,25,195,4],[157,0,196,4],[157,13,196,11,"APP_REGISTRY"],[157,25,196,23],[157,26,196,24,"name"],[157,30,196,23],[157,31,196,4],[158,0,197,3],[158,5,193,9],[158,6,193,2],[159,0,198,1]],"functionMap":{"names":["<global>","setOnAppCreate","setOnAppDestroy","initializeNativeApps","getApp","getApps","initializeApp","getAppModule.initializeApp.then$argument_0","deleteApp","nativeModule.deleteApp.then$argument_0"],"mappings":"AAA;OC+B;CDE;OEM;CFE;OGM;CHmB;OIU;CJW;OKK;CLK;OMO;UCsE;KDG;CNC;OQK;2CCS;GDI;CRC"}},"type":"js/module"}]}