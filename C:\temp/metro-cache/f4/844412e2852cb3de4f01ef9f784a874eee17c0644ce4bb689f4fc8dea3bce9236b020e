{"dependencies":[{"name":"./encodePacket","data":{"isAsync":false}},{"name":"./decodePacket","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var encodePacket = _$$_REQUIRE(_dependencyMap[0], \"./encodePacket\");\n\n  var decodePacket = _$$_REQUIRE(_dependencyMap[1], \"./decodePacket\");\n\n  var SEPARATOR = String.fromCharCode(30);\n\n  var encodePayload = function encodePayload(packets, callback) {\n    var length = packets.length;\n    var encodedPackets = new Array(length);\n    var count = 0;\n    packets.forEach(function (packet, i) {\n      encodePacket(packet, false, function (encodedPacket) {\n        encodedPackets[i] = encodedPacket;\n\n        if (++count === length) {\n          callback(encodedPackets.join(SEPARATOR));\n        }\n      });\n    });\n  };\n\n  var decodePayload = function decodePayload(encodedPayload, binaryType) {\n    var encodedPackets = encodedPayload.split(SEPARATOR);\n    var packets = [];\n\n    for (var i = 0; i < encodedPackets.length; i++) {\n      var decodedPacket = decodePacket(encodedPackets[i], binaryType);\n      packets.push(decodedPacket);\n\n      if (decodedPacket.type === \"error\") {\n        break;\n      }\n    }\n\n    return packets;\n  };\n\n  module.exports = {\n    protocol: 4,\n    encodePacket: encodePacket,\n    encodePayload: encodePayload,\n    decodePacket: decodePacket,\n    decodePayload: decodePayload\n  };\n});","lineCount":46,"map":[[2,0,1,0],[2,6,1,6,"encodePacket"],[2,18,1,18],[2,21,1,21,"require"],[2,32,1,28],[2,69,1,0],[4,0,2,0],[4,6,2,6,"decodePacket"],[4,18,2,18],[4,21,2,21,"require"],[4,32,2,28],[4,69,2,0],[6,0,4,0],[6,6,4,6,"SEPARATOR"],[6,15,4,15],[6,18,4,18,"String"],[6,24,4,24],[6,25,4,25,"fromCharCode"],[6,37,4,18],[6,38,4,38],[6,40,4,18],[6,41,4,0],[8,0,6,0],[8,6,6,6,"encodePayload"],[8,19,6,19],[8,22,6,22],[8,31,6,6,"encodePayload"],[8,44,6,22],[8,45,6,23,"packets"],[8,52,6,22],[8,54,6,32,"callback"],[8,62,6,22],[8,64,6,45],[9,0,8,2],[9,8,8,8,"length"],[9,14,8,14],[9,17,8,17,"packets"],[9,24,8,24],[9,25,8,25,"length"],[9,31,8,2],[10,0,9,2],[10,8,9,8,"encodedPackets"],[10,22,9,22],[10,25,9,25],[10,29,9,29,"Array"],[10,34,9,25],[10,35,9,35,"length"],[10,41,9,25],[10,42,9,2],[11,0,10,2],[11,8,10,6,"count"],[11,13,10,11],[11,16,10,14],[11,17,10,2],[12,0,12,2,"packets"],[12,4,12,2,"packets"],[12,11,12,9],[12,12,12,10,"forEach"],[12,19,12,2],[12,20,12,18],[12,30,12,19,"packet"],[12,36,12,18],[12,38,12,27,"i"],[12,39,12,18],[12,41,12,33],[13,0,14,4,"encodePacket"],[13,6,14,4,"encodePacket"],[13,18,14,16],[13,19,14,17,"packet"],[13,25,14,16],[13,27,14,25],[13,32,14,16],[13,34,14,32],[13,44,14,32,"encodedPacket"],[13,57,14,45],[13,59,14,49],[14,0,15,6,"encodedPackets"],[14,8,15,6,"encodedPackets"],[14,22,15,20],[14,23,15,21,"i"],[14,24,15,20],[14,25,15,6],[14,28,15,26,"encodedPacket"],[14,41,15,6],[16,0,16,6],[16,12,16,10],[16,14,16,12,"count"],[16,19,16,10],[16,24,16,22,"length"],[16,30,16,6],[16,32,16,30],[17,0,17,8,"callback"],[17,10,17,8,"callback"],[17,18,17,16],[17,19,17,17,"encodedPackets"],[17,33,17,31],[17,34,17,32,"join"],[17,38,17,17],[17,39,17,37,"SEPARATOR"],[17,48,17,17],[17,49,17,16],[17,50,17,8],[18,0,18,7],[19,0,19,5],[19,7,14,16],[19,8,14,4],[20,0,20,3],[20,5,12,2],[21,0,21,1],[21,3,6,0],[23,0,23,0],[23,6,23,6,"decodePayload"],[23,19,23,19],[23,22,23,22],[23,31,23,6,"decodePayload"],[23,44,23,22],[23,45,23,23,"encodedPayload"],[23,59,23,22],[23,61,23,39,"binaryType"],[23,71,23,22],[23,73,23,54],[24,0,24,2],[24,8,24,8,"encodedPackets"],[24,22,24,22],[24,25,24,25,"encodedPayload"],[24,39,24,39],[24,40,24,40,"split"],[24,45,24,25],[24,46,24,46,"SEPARATOR"],[24,55,24,25],[24,56,24,2],[25,0,25,2],[25,8,25,8,"packets"],[25,15,25,15],[25,18,25,18],[25,20,25,2],[27,0,26,2],[27,9,26,7],[27,13,26,11,"i"],[27,14,26,12],[27,17,26,15],[27,18,26,2],[27,20,26,18,"i"],[27,21,26,19],[27,24,26,22,"encodedPackets"],[27,38,26,36],[27,39,26,37,"length"],[27,45,26,2],[27,47,26,45,"i"],[27,48,26,46],[27,50,26,2],[27,52,26,50],[28,0,27,4],[28,10,27,10,"decodedPacket"],[28,23,27,23],[28,26,27,26,"decodePacket"],[28,38,27,38],[28,39,27,39,"encodedPackets"],[28,53,27,53],[28,54,27,54,"i"],[28,55,27,53],[28,56,27,38],[28,58,27,58,"binaryType"],[28,68,27,38],[28,69,27,4],[29,0,28,4,"packets"],[29,6,28,4,"packets"],[29,13,28,11],[29,14,28,12,"push"],[29,18,28,4],[29,19,28,17,"decodedPacket"],[29,32,28,4],[31,0,29,4],[31,10,29,8,"decodedPacket"],[31,23,29,21],[31,24,29,22,"type"],[31,28,29,8],[31,33,29,31],[31,40,29,4],[31,42,29,40],[32,0,30,6],[33,0,31,5],[34,0,32,3],[36,0,33,2],[36,11,33,9,"packets"],[36,18,33,2],[37,0,34,1],[37,3,23,0],[39,0,36,0,"module"],[39,2,36,0,"module"],[39,8,36,6],[39,9,36,7,"exports"],[39,16,36,0],[39,19,36,17],[40,0,37,2,"protocol"],[40,4,37,2,"protocol"],[40,12,37,10],[40,14,37,12],[40,15,36,17],[41,0,38,2,"encodePacket"],[41,4,38,2,"encodePacket"],[41,16,38,14],[41,18,38,2,"encodePacket"],[41,30,36,17],[42,0,39,2,"encodePayload"],[42,4,39,2,"encodePayload"],[42,17,39,15],[42,19,39,2,"encodePayload"],[42,32,36,17],[43,0,40,2,"decodePacket"],[43,4,40,2,"decodePacket"],[43,16,40,14],[43,18,40,2,"decodePacket"],[43,30,36,17],[44,0,41,2,"decodePayload"],[44,4,41,2,"decodePayload"],[44,17,41,15],[44,19,41,2,"decodePayload"],[45,0,36,17],[45,3,36,0]],"functionMap":{"names":["<global>","encodePayload","packets.forEach$argument_0","encodePacket$argument_2","decodePayload"],"mappings":"AAA;sBCK;kBCM;gCCE;KDK;GDC;CDC;sBIE;CJW"}},"type":"js/module"}]}