{"dependencies":[{"name":"../base","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _base = _$$_REQUIRE(_dependencyMap[0], \"../base\");\n\n  var VELOCITY_EPS = 5;\n\n  function decay(clock, state, config) {\n    var lastTime = (0, _base.cond)(state.time, state.time, clock);\n    var deltaTime = (0, _base.sub)(clock, lastTime);\n    var kv = (0, _base.pow)(config.deceleration, deltaTime);\n    var kx = (0, _base.divide)((0, _base.multiply)(config.deceleration, (0, _base.sub)(1, kv)), (0, _base.sub)(1, config.deceleration));\n    var v0 = (0, _base.divide)(state.velocity, 1000);\n    var v = (0, _base.multiply)(v0, kv, 1000);\n    var x = (0, _base.add)(state.position, (0, _base.multiply)(v0, kx));\n    return (0, _base.block)([(0, _base.set)(state.position, x), (0, _base.set)(state.velocity, v), (0, _base.set)(state.time, clock), (0, _base.cond)((0, _base.lessThan)((0, _base.abs)(v), VELOCITY_EPS), (0, _base.set)(state.finished, 1))]);\n  }\n\n  var procDecay = (0, _base.proc)(function (clock, time, velocity, position, finished, deceleration) {\n    return decay(clock, {\n      time: time,\n      velocity: velocity,\n      position: position,\n      finished: finished\n    }, {\n      deceleration: deceleration\n    });\n  });\n\n  var _default = function _default(clock, _ref, _ref2) {\n    var time = _ref.time,\n        velocity = _ref.velocity,\n        position = _ref.position,\n        finished = _ref.finished;\n    var deceleration = _ref2.deceleration;\n    return procDecay(clock, time, velocity, position, finished, deceleration);\n  };\n\n  exports.default = _default;\n});","lineCount":43,"map":[[7,0,1,0],[9,0,15,0],[9,6,15,6,"VELOCITY_EPS"],[9,18,15,18],[9,21,15,21],[9,22,15,0],[11,0,17,0],[11,11,17,9,"decay"],[11,16,17,0],[11,17,17,15,"clock"],[11,22,17,0],[11,24,17,22,"state"],[11,29,17,0],[11,31,17,29,"config"],[11,37,17,0],[11,39,17,37],[12,0,18,2],[12,8,18,8,"lastTime"],[12,16,18,16],[12,19,18,19],[12,35,18,24,"state"],[12,40,18,29],[12,41,18,30,"time"],[12,45,18,19],[12,47,18,36,"state"],[12,52,18,41],[12,53,18,42,"time"],[12,57,18,19],[12,59,18,48,"clock"],[12,64,18,19],[12,65,18,2],[13,0,19,2],[13,8,19,8,"deltaTime"],[13,17,19,17],[13,20,19,20],[13,35,19,24,"clock"],[13,40,19,20],[13,42,19,31,"lastTime"],[13,50,19,20],[13,51,19,2],[14,0,27,2],[14,8,27,8,"kv"],[14,10,27,10],[14,13,27,13],[14,28,27,17,"config"],[14,34,27,23],[14,35,27,24,"deceleration"],[14,47,27,13],[14,49,27,38,"deltaTime"],[14,58,27,13],[14,59,27,2],[15,0,28,2],[15,8,28,8,"kx"],[15,10,28,10],[15,13,28,13],[15,31,29,4],[15,51,29,13,"config"],[15,57,29,19],[15,58,29,20,"deceleration"],[15,70,29,4],[15,72,29,34],[15,87,29,38],[15,88,29,34],[15,90,29,41,"kv"],[15,92,29,34],[15,93,29,4],[15,94,28,13],[15,96,30,4],[15,111,30,8],[15,112,30,4],[15,114,30,11,"config"],[15,120,30,17],[15,121,30,18,"deceleration"],[15,133,30,4],[15,134,28,13],[15,135,28,2],[16,0,32,2],[16,8,32,8,"v0"],[16,10,32,10],[16,13,32,13],[16,31,32,20,"state"],[16,36,32,25],[16,37,32,26,"velocity"],[16,45,32,13],[16,47,32,36],[16,51,32,13],[16,52,32,2],[17,0,33,2],[17,8,33,8,"v"],[17,9,33,9],[17,12,33,12],[17,32,33,21,"v0"],[17,34,33,12],[17,36,33,25,"kv"],[17,38,33,12],[17,40,33,29],[17,44,33,12],[17,45,33,2],[18,0,34,2],[18,8,34,8,"x"],[18,9,34,9],[18,12,34,12],[18,27,34,16,"state"],[18,32,34,21],[18,33,34,22,"position"],[18,41,34,12],[18,43,34,32],[18,63,34,41,"v0"],[18,65,34,32],[18,67,34,45,"kx"],[18,69,34,32],[18,70,34,12],[18,71,34,2],[19,0,35,2],[19,11,35,9],[19,28,35,15],[19,29,36,4],[19,44,36,8,"state"],[19,49,36,13],[19,50,36,14,"position"],[19,58,36,4],[19,60,36,24,"x"],[19,61,36,4],[19,62,35,15],[19,64,37,4],[19,79,37,8,"state"],[19,84,37,13],[19,85,37,14,"velocity"],[19,93,37,4],[19,95,37,24,"v"],[19,96,37,4],[19,97,35,15],[19,99,38,4],[19,114,38,8,"state"],[19,119,38,13],[19,120,38,14,"time"],[19,124,38,4],[19,126,38,20,"clock"],[19,131,38,4],[19,132,35,15],[19,134,39,4],[19,150,39,9],[19,170,39,18],[19,185,39,22,"v"],[19,186,39,18],[19,187,39,9],[19,189,39,26,"VELOCITY_EPS"],[19,201,39,9],[19,202,39,4],[19,204,39,41],[19,219,39,45,"state"],[19,224,39,50],[19,225,39,51,"finished"],[19,233,39,41],[19,235,39,61],[19,236,39,41],[19,237,39,4],[19,238,35,15],[19,239,35,9],[19,240,35,2],[20,0,41,1],[22,0,43,0],[22,6,43,6,"procDecay"],[22,15,43,15],[22,18,43,18],[22,34,44,2],[22,44,44,3,"clock"],[22,49,44,2],[22,51,44,10,"time"],[22,55,44,2],[22,57,44,16,"velocity"],[22,65,44,2],[22,67,44,26,"position"],[22,75,44,2],[22,77,44,36,"finished"],[22,85,44,2],[22,87,44,46,"deceleration"],[22,99,44,2],[23,0,44,2],[23,11,45,4,"decay"],[23,16,45,9],[23,17,45,10,"clock"],[23,22,45,9],[23,24,45,17],[24,0,45,19,"time"],[24,6,45,19,"time"],[24,10,45,23],[24,12,45,19,"time"],[24,16,45,17],[25,0,45,25,"velocity"],[25,6,45,25,"velocity"],[25,14,45,33],[25,16,45,25,"velocity"],[25,24,45,17],[26,0,45,35,"position"],[26,6,45,35,"position"],[26,14,45,43],[26,16,45,35,"position"],[26,24,45,17],[27,0,45,45,"finished"],[27,6,45,45,"finished"],[27,14,45,53],[27,16,45,45,"finished"],[28,0,45,17],[28,5,45,9],[28,7,45,57],[29,0,45,59,"deceleration"],[29,6,45,59,"deceleration"],[29,18,45,71],[29,20,45,59,"deceleration"],[30,0,45,57],[30,5,45,9],[30,6,44,2],[31,0,44,2],[31,3,43,18],[31,4,43,0],[33,17,48,15],[33,35,49,2,"clock"],[33,40,48,15],[34,0,48,15],[34,8,50,4,"time"],[34,12,48,15],[34,20,50,4,"time"],[34,24,48,15],[35,0,48,15],[35,8,50,10,"velocity"],[35,16,48,15],[35,24,50,10,"velocity"],[35,32,48,15],[36,0,48,15],[36,8,50,20,"position"],[36,16,48,15],[36,24,50,20,"position"],[36,32,48,15],[37,0,48,15],[37,8,50,30,"finished"],[37,16,48,15],[37,24,50,30,"finished"],[37,32,48,15],[38,0,48,15],[38,8,51,4,"deceleration"],[38,20,48,15],[38,29,51,4,"deceleration"],[38,41,48,15],[39,0,48,15],[39,11,52,5,"procDecay"],[39,20,52,14],[39,21,52,15,"clock"],[39,26,52,14],[39,28,52,22,"time"],[39,32,52,14],[39,34,52,28,"velocity"],[39,42,52,14],[39,44,52,38,"position"],[39,52,52,14],[39,54,52,48,"finished"],[39,62,52,14],[39,64,52,58,"deceleration"],[39,76,52,14],[39,77,48,15],[40,0,48,15],[40,3]],"functionMap":{"names":["<global>","decay","proc$argument_0","<anonymous>"],"mappings":"AAA;ACgB;CDwB;EEG;0EFC;eGG;uEHI"}},"type":"js/module"}]}