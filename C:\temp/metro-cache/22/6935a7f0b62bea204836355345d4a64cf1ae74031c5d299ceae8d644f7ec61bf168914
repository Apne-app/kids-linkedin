{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/typeof","data":{"isAsync":false}},{"name":"form-data","data":{"isAsync":false}},{"name":"./errors","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=r(d[4]),l=/^[\\w]+$/,f=/^[\\w-]+$/;function s(t){if(!l.test(t))throw new c.FeedError(\"Invalid feedSlug, please use letters, numbers or _: \".concat(t));return t}function p(t){if(!f.test(t))throw new c.FeedError(\"Invalid userId, please use letters, numbers, - or _: \".concat(t));return t}function v(t){return null!==t&&'object'===(0,o.default)(t)&&'function'==typeof t._read}var b={validateFeedId:function(t){var o=t.split(':');if(2!==o.length)throw new c.FeedError(\"Invalid feedId, expected something like user:1 got \".concat(t));var u=(0,n.default)(o,2),l=u[0],f=u[1];return s(l),p(f),t},validateFeedSlug:s,validateUserId:p,rfc3986:function(t){return t.replace(/[!'()*]/g,function(t){return\"%\".concat(t.charCodeAt(0).toString(16).toUpperCase())})},isReadableStream:v,addFileToFormData:function(t,n,o){var c,l=new u.default;return v(t)?c=t:t&&t.toString&&'[object File]'===t.toString()?c=t:(c={uri:t,name:n||t.split('/').reverse()[0]},null!=o&&(c.type=o)),l.append('file',c),l},replaceStreamObjects:function t(n){if(Array.isArray(n))return n.map(function(n){return t(n)});if('[object Object]'!==Object.prototype.toString.call(n))return n;if('function'==typeof n.ref)return n.ref();var o={};return Object.keys(n).forEach(function(u){o[u]=t(n[u])}),o}};e.default=b});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0],[1,45,3,4,"_interopRequireDefault"],[1,47,3,29,"require"],[1,49,3,36,"d"],[1,51,3,36],[1,55,5,0,"Object"],[1,62,5,7,"defineProperty"],[1,77,5,22,"exports"],[1,79,5,31],[1,93,6,2,"value"],[1,100,6,9],[1,104,8,0,"exports"],[1,106,8,8,"default"],[1,119,8,0,"undefined"],[1,121,10,0],[1,125,10,4,"_slicedToArray2"],[1,127,10,22,"_interopRequireDefault"],[1,129,10,45,"require"],[1,131,10,52,"d"],[1,133,10,52],[1,138,12,4,"_typeof2"],[1,140,12,15,"_interopRequireDefault"],[1,142,12,38,"require"],[1,144,12,45,"d"],[1,146,12,45],[1,151,14,4,"_formData"],[1,153,14,16,"_interopRequireDefault"],[1,155,14,39,"require"],[1,157,14,46,"d"],[1,159,14,46],[1,164,16,4,"_errors"],[1,166,16,14,"require"],[1,168,16,21,"d"],[1,170,16,21],[1,174,18,4,"validFeedSlugRe"],[1,176,18,22],[1,186,19,4,"validUserIdRe"],[1,188,19,20],[1,199,24,0],[1,208,24,9,"validateFeedSlug"],[1,210,24,26,"feedSlug"],[1,213,25,2],[1,217,25,7,"validFeedSlugRe"],[1,219,25,23,"test"],[1,224,25,28,"feedSlug"],[1,227,26,4],[1,233,26,10],[1,237,26,14,"_errors"],[1,239,26,22,"FeedError"],[1,249,26,32],[1,304,26,87,"concat"],[1,311,26,94,"feedSlug"],[1,315,29,2],[1,322,29,9,"feedSlug"],[1,324,36,0],[1,333,36,9,"validateUserId"],[1,335,36,24,"userId"],[1,338,37,2],[1,342,37,7,"validUserIdRe"],[1,344,37,21,"test"],[1,349,37,26,"userId"],[1,352,38,4],[1,358,38,10],[1,362,38,14,"_errors"],[1,364,38,22,"FeedError"],[1,374,38,32],[1,430,38,88,"concat"],[1,437,38,95,"userId"],[1,441,41,2],[1,448,41,9,"userId"],[1,450,50,0],[1,459,50,9,"isReadableStream"],[1,461,50,26,"obj"],[1,464,51,2],[1,471,51,17],[1,478,51,9,"obj"],[1,481,51,56],[1,493,51,25],[1,495,51,29,"_typeof2"],[1,497,51,38,"default"],[1,506,51,47,"obj"],[1,510,51,89],[1,529,51,75,"obj"],[1,531,51,79,"_read"],[1,537,113,0],[1,541,113,4,"_default"],[1,544,114,2,"validateFeedId"],[1,559,58,0],[1,568,58,24,"feedId"],[1,571,59,2],[1,575,59,6,"parts"],[1,577,59,14,"feedId"],[1,579,59,21,"split"],[1,585,59,27],[1,590,61,2],[1,593,61,23],[1,597,61,6,"parts"],[1,599,61,12,"length"],[1,606,62,4],[1,612,62,10],[1,616,62,14,"_errors"],[1,618,62,22,"FeedError"],[1,628,62,32],[1,682,62,86,"concat"],[1,689,62,93,"feedId"],[1,693,65,2],[1,697,65,6,"_parts"],[1,700,65,15],[1,702,65,19,"_slicedToArray2"],[1,704,65,35,"default"],[1,713,65,44,"parts"],[1,715,65,51],[1,718,66,6,"feedSlug"],[1,720,66,17,"_parts"],[1,722,66,24],[1,725,67,6,"userId"],[1,727,67,15,"_parts"],[1,729,67,22],[1,732,71,2],[1,739,69,2,"validateFeedSlug"],[1,741,69,19,"feedSlug"],[1,744,70,2,"validateUserId"],[1,746,70,17,"userId"],[1,749,71,9,"feedId"],[1,752,115,2,"validateFeedSlug"],[1,769,115,20,"validateFeedSlug"],[1,771,116,2,"validateUserId"],[1,786,116,18,"validateUserId"],[1,788,117,2,"rfc3986"],[1,796,44,0],[1,805,44,17,"str"],[1,808,45,2],[1,815,45,9,"str"],[1,817,45,13,"replace"],[1,825,45,21],[1,836,45,33],[1,845,45,43,"c"],[1,848,46,4],[1,854,46,11],[1,858,46,15,"concat"],[1,865,46,22,"c"],[1,867,46,24,"charCodeAt"],[1,878,46,35],[1,881,46,38,"toString"],[1,890,46,47],[1,894,46,51,"toUpperCase"],[1,912,118,2,"isReadableStream"],[1,929,118,20,"isReadableStream"],[1,931,119,2,"addFileToFormData"],[1,949,74,0],[1,958,74,27,"uri"],[1,960,74,32,"name"],[1,962,74,38,"contentType"],[1,965,75,2],[1,969,76,6,"fileField"],[1,971,75,6,"data"],[1,973,75,13],[1,977,75,17,"_formData"],[1,979,75,27,"default"],[1,987,91,2],[1,994,78,6,"isReadableStream"],[1,996,78,23,"uri"],[1,999,79,4,"fileField"],[1,1001,79,16,"uri"],[1,1003,80,13,"uri"],[1,1006,80,20,"uri"],[1,1008,80,24,"toString"],[1,1018,80,55],[1,1036,80,36,"uri"],[1,1038,80,40,"toString"],[1,1049,81,4,"fileField"],[1,1051,81,16,"uri"],[1,1054,83,4,"fileField"],[1,1057,84,6,"uri"],[1,1061,84,11,"uri"],[1,1063,85,6,"name"],[1,1068,85,12,"name"],[1,1071,85,20,"uri"],[1,1073,85,24,"split"],[1,1079,85,30],[1,1084,85,35,"reverse"],[1,1094,85,45],[1,1098,87,23],[1,1104,87,8,"contentType"],[1,1108,87,29,"fileField"],[1,1110,87,39,"type"],[1,1115,87,46,"contentType"],[1,1119,90,2,"data"],[1,1121,90,7,"append"],[1,1128,90,14],[1,1135,90,22,"fileField"],[1,1138,91,9,"data"],[1,1141,120,2,"replaceStreamObjects"],[1,1162,95,0],[1,1171,95,9,"replaceStreamObjects"],[1,1173,95,30,"obj"],[1,1176,97,2],[1,1179,97,6,"Array"],[1,1185,97,12,"isArray"],[1,1193,97,20,"obj"],[1,1196,97,26],[1,1203,97,33,"obj"],[1,1205,97,37,"map"],[1,1209,97,41],[1,1218,97,51,"v"],[1,1221,98,4],[1,1228,98,11,"replaceStreamObjects"],[1,1230,98,32,"v"],[1,1235,101,2],[1,1238,101,46],[1,1258,101,6,"Object"],[1,1265,101,13,"prototype"],[1,1275,101,23,"toString"],[1,1284,101,32,"call"],[1,1289,101,37,"obj"],[1,1292,101,65],[1,1299,101,72,"obj"],[1,1301,103,2],[1,1304,103,25],[1,1323,103,13,"obj"],[1,1325,103,17,"ref"],[1,1329,103,37],[1,1336,103,44,"obj"],[1,1338,103,48,"ref"],[1,1344,104,2],[1,1348,104,6,"cloned"],[1,1353,110,2],[1,1360,105,2,"Object"],[1,1367,105,9,"keys"],[1,1372,105,14,"obj"],[1,1375,105,19,"forEach"],[1,1383,105,27],[1,1392,105,37,"k"],[1,1395,107,4,"cloned"],[1,1397,107,11,"k"],[1,1400,107,16,"replaceStreamObjects"],[1,1402,107,37,"obj"],[1,1404,107,41,"k"],[1,1410,110,9,"cloned"],[1,1414,122,0,"exports"],[1,1416,122,8,"default"],[1,1424,122,18,"_default"]],"functionMap":{"names":["<global>","validateFeedSlug","validateUserId","rfc3986","str.replace$argument_1","isReadableStream","validateFeedId","addFileToFormData","replaceStreamObjects","obj.map$argument_0","Object.keys.forEach$argument_0"],"mappings":"AAA;ACuB;CDM;AEM;CFM;AGE;iCCC;GDE;CHC;AKE;CLE;AMM;CNc;AOE;CPkB;AQG;yCCE;GDE;2BEM;GFG;CRG"}},"type":"js/module"}]}