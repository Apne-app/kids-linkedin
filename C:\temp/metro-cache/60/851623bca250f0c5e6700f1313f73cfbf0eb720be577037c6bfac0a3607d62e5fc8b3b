{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"getstream","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.fallbackErrorMessage = exports.getErrorMessage = exports.handleError = void 0;\n\n  var _getstream = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"getstream\"));\n\n  var handleError = function handleError(error, type, detail) {\n    console.warn(error);\n    alert(getErrorMessage(error, type, detail));\n  };\n\n  exports.handleError = handleError;\n\n  var getErrorMessage = function getErrorMessage(error, type, detail) {\n    console.warn(error);\n\n    if (!(error instanceof _getstream.default.errors.StreamApiError)) {\n      return fallbackErrorMessage(error, type, detail);\n    }\n\n    var response = error.response;\n\n    if (!response.statusCode || !response.body || !response.body.detail) {\n      return fallbackErrorMessage(error, type, detail);\n    }\n\n    var statusCode = response.statusCode;\n    var text = response.body.detail;\n\n    if (statusCode >= 400 && statusCode < 500) {\n      return text;\n    } else if (statusCode >= 500 && statusCode < 600) {\n      return text;\n    }\n\n    return fallbackErrorMessage(error, type, detail);\n  };\n\n  exports.getErrorMessage = getErrorMessage;\n\n  var fallbackErrorMessage = function fallbackErrorMessage(error, type, detail) {\n    var text = 'Something went wrong';\n    var suffix = '';\n\n    switch (type) {\n      case 'get-user-info':\n        text += ' when loading user info';\n        break;\n\n      case 'get-feed':\n        text += ' when loading the feed';\n        break;\n\n      case 'get-feed-next-page':\n        text += ' when loading the next page of the feed';\n        break;\n\n      case 'get-notification-counts':\n        text += ' when loading your unread notification counts';\n        break;\n\n      case 'upload-image':\n        text += ' when uploading your image';\n        suffix = ' If it is, the image is probably too big';\n        break;\n\n      case 'add-activity':\n        text += ' when submitting your post';\n        break;\n\n      case 'add-reaction':\n        text += ' when submitting your ' + detail.kind;\n        break;\n\n      case 'delete-reaction':\n        text += ' when removing your ' + detail.kind;\n        break;\n\n      default:\n        break;\n    }\n\n    text += '. Is your internet working?' + suffix;\n    return text;\n  };\n\n  exports.fallbackErrorMessage = fallbackErrorMessage;\n});","lineCount":92,"map":[[9,0,4,0],[11,0,5,7],[11,6,5,13,"handleError"],[11,17,5,24],[11,20,5,27],[11,29,5,13,"handleError"],[11,40,5,27],[11,41,6,2,"error"],[11,46,5,27],[11,48,7,2,"type"],[11,52,5,27],[11,54,8,2,"detail"],[11,60,5,27],[11,62,9,5],[12,0,10,2,"console"],[12,4,10,2,"console"],[12,11,10,9],[12,12,10,10,"warn"],[12,16,10,2],[12,17,10,15,"error"],[12,22,10,2],[13,0,11,2,"alert"],[13,4,11,2,"alert"],[13,9,11,7],[13,10,11,8,"getErrorMessage"],[13,25,11,23],[13,26,11,24,"error"],[13,31,11,23],[13,33,11,31,"type"],[13,37,11,23],[13,39,11,37,"detail"],[13,45,11,23],[13,46,11,7],[13,47,11,2],[14,0,12,1],[14,3,5,7],[18,0,14,7],[18,6,14,13,"getErrorMessage"],[18,21,14,28],[18,24,14,31],[18,33,14,13,"getErrorMessage"],[18,48,14,31],[18,49,15,2,"error"],[18,54,14,31],[18,56,16,2,"type"],[18,60,14,31],[18,62,17,2,"detail"],[18,68,14,31],[18,70,18,13],[19,0,19,2,"console"],[19,4,19,2,"console"],[19,11,19,9],[19,12,19,10,"warn"],[19,16,19,2],[19,17,19,15,"error"],[19,22,19,2],[21,0,20,2],[21,8,20,6],[21,10,20,8,"error"],[21,15,20,13],[21,27,20,25,"stream"],[21,46,20,32,"errors"],[21,52,20,25],[21,53,20,39,"StreamApiError"],[21,67,20,6],[21,68,20,2],[21,70,20,56],[22,0,21,4],[22,13,21,11,"fallbackErrorMessage"],[22,33,21,31],[22,34,21,32,"error"],[22,39,21,31],[22,41,21,39,"type"],[22,45,21,31],[22,47,21,45,"detail"],[22,53,21,31],[22,54,21,4],[23,0,22,3],[25,0,23,2],[25,8,23,8,"response"],[25,16,23,16],[25,19,23,19,"error"],[25,24,23,24],[25,25,23,25,"response"],[25,33,23,2],[27,0,25,2],[27,8,25,6],[27,9,25,7,"response"],[27,17,25,15],[27,18,25,16,"statusCode"],[27,28,25,6],[27,32,25,30],[27,33,25,31,"response"],[27,41,25,39],[27,42,25,40,"body"],[27,46,25,6],[27,50,25,48],[27,51,25,49,"response"],[27,59,25,57],[27,60,25,58,"body"],[27,64,25,49],[27,65,25,63,"detail"],[27,71,25,2],[27,73,25,71],[28,0,26,4],[28,13,26,11,"fallbackErrorMessage"],[28,33,26,31],[28,34,26,32,"error"],[28,39,26,31],[28,41,26,39,"type"],[28,45,26,31],[28,47,26,45,"detail"],[28,53,26,31],[28,54,26,4],[29,0,27,3],[31,0,28,2],[31,8,28,8,"statusCode"],[31,18,28,18],[31,21,28,21,"response"],[31,29,28,29],[31,30,28,30,"statusCode"],[31,40,28,2],[32,0,29,2],[32,8,29,8,"text"],[32,12,29,12],[32,15,29,15,"response"],[32,23,29,23],[32,24,29,24,"body"],[32,28,29,15],[32,29,29,29,"detail"],[32,35,29,2],[34,0,31,2],[34,8,31,6,"statusCode"],[34,18,31,16],[34,22,31,20],[34,25,31,6],[34,29,31,27,"statusCode"],[34,39,31,37],[34,42,31,40],[34,45,31,2],[34,47,31,45],[35,0,32,4],[35,13,32,11,"text"],[35,17,32,4],[36,0,33,3],[36,5,31,2],[36,11,33,9],[36,15,33,13,"statusCode"],[36,25,33,23],[36,29,33,27],[36,32,33,13],[36,36,33,34,"statusCode"],[36,46,33,44],[36,49,33,47],[36,52,33,9],[36,54,33,52],[37,0,34,4],[37,13,34,11,"text"],[37,17,34,4],[38,0,35,3],[40,0,37,2],[40,11,37,9,"fallbackErrorMessage"],[40,31,37,29],[40,32,37,30,"error"],[40,37,37,29],[40,39,37,37,"type"],[40,43,37,29],[40,45,37,43,"detail"],[40,51,37,29],[40,52,37,2],[41,0,38,1],[41,3,14,7],[45,0,40,7],[45,6,40,13,"fallbackErrorMessage"],[45,26,40,33],[45,29,40,36],[45,38,40,13,"fallbackErrorMessage"],[45,58,40,36],[45,59,41,2,"error"],[45,64,40,36],[45,66,42,2,"type"],[45,70,40,36],[45,72,43,2,"detail"],[45,78,40,36],[45,80,44,13],[46,0,45,2],[46,8,45,6,"text"],[46,12,45,10],[46,15,45,13],[46,37,45,2],[47,0,46,2],[47,8,46,6,"suffix"],[47,14,46,12],[47,17,46,15],[47,19,46,2],[49,0,47,2],[49,12,47,10,"type"],[49,16,47,2],[50,0,48,4],[50,11,48,9],[50,26,48,4],[51,0,49,6,"text"],[51,8,49,6,"text"],[51,12,49,10],[51,16,49,14],[51,41,49,6],[52,0,50,6],[54,0,51,4],[54,11,51,9],[54,21,51,4],[55,0,52,6,"text"],[55,8,52,6,"text"],[55,12,52,10],[55,16,52,14],[55,40,52,6],[56,0,53,6],[58,0,54,4],[58,11,54,9],[58,31,54,4],[59,0,55,6,"text"],[59,8,55,6,"text"],[59,12,55,10],[59,16,55,14],[59,57,55,6],[60,0,56,6],[62,0,57,4],[62,11,57,9],[62,36,57,4],[63,0,58,6,"text"],[63,8,58,6,"text"],[63,12,58,10],[63,16,58,14],[63,63,58,6],[64,0,59,6],[66,0,60,4],[66,11,60,9],[66,25,60,4],[67,0,61,6,"text"],[67,8,61,6,"text"],[67,12,61,10],[67,16,61,14],[67,44,61,6],[68,0,62,6,"suffix"],[68,8,62,6,"suffix"],[68,14,62,12],[68,17,62,15],[68,59,62,6],[69,0,63,6],[71,0,64,4],[71,11,64,9],[71,25,64,4],[72,0,65,6,"text"],[72,8,65,6,"text"],[72,12,65,10],[72,16,65,14],[72,44,65,6],[73,0,66,6],[75,0,67,4],[75,11,67,9],[75,25,67,4],[76,0,68,6,"text"],[76,8,68,6,"text"],[76,12,68,10],[76,16,68,14],[76,43,68,41,"detail"],[76,49,68,47],[76,50,68,48,"kind"],[76,54,68,6],[77,0,69,6],[79,0,70,4],[79,11,70,9],[79,28,70,4],[80,0,71,6,"text"],[80,8,71,6,"text"],[80,12,71,10],[80,16,71,14],[80,41,71,39,"detail"],[80,47,71,45],[80,48,71,46,"kind"],[80,52,71,6],[81,0,72,6],[83,0,73,4],[84,0,74,6],[85,0,47,2],[87,0,77,2,"text"],[87,4,77,2,"text"],[87,8,77,6],[87,12,77,10],[87,44,77,42,"suffix"],[87,50,77,2],[88,0,78,2],[88,11,78,9,"text"],[88,15,78,2],[89,0,79,1],[89,3,40,7]],"functionMap":{"names":["<global>","handleError","getErrorMessage","fallbackErrorMessage"],"mappings":"AAA;2BCI;CDO;+BEE;CFwB;oCGE;CHuC"}},"type":"js/module"}]}