{"dependencies":[{"name":"@stream-io/cross-fetch","data":{"isAsync":false}},{"name":"./utils","data":{"isAsync":false}},{"name":"form-data","data":{"isAsync":false}},{"name":"./errors","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[0]).Headers,s=r(d[1]),o=r(d[2]),u=r(d[3]),l=function(){this.initialize.apply(this,arguments)};l.prototype={initialize:function(t,n){this.client=t,this.token=n},upload:function(l,c,h){var p,f=new o;return s.isReadableStream(l)?p=l:(p={uri:l,name:c||l.split('/').reverse()[0]},null!=h&&(p.type=h)),f.append('file',p),t(\"\".concat(this.client.enrichUrl('files/'),\"?api_key=\").concat(this.client.apiKey),{method:'post',body:f,headers:new n({Authorization:this.token})}).then(function(t){return t.ok?t.json():t.text().then(function(n){t.statusCode=t.status;try{n=JSON.parse(n)}catch(t){}throw new u.StreamApiError(JSON.stringify(n)+' with HTTP status code '+t.status,n,t)})})},delete:function(t){return this.client.delete({url:\"files/\",qs:{url:t},signature:this.token})}},m.exports=l});","lineCount":1,"map":[[1,28,1,0],[1,32,1,4,"fetch"],[1,34,1,12,"require"],[1,36,1,19,"d"],[1,38,1,19],[1,42,3,4,"Headers"],[1,44,3,14,"require"],[1,46,3,21,"d"],[1,48,3,21],[1,52,3,48,"Headers"],[1,60,5,4,"utils"],[1,62,5,12,"require"],[1,64,5,19,"d"],[1,66,5,19],[1,70,7,4,"FormData"],[1,72,7,15,"require"],[1,74,7,22,"d"],[1,76,7,22],[1,80,9,4,"errors"],[1,82,9,13,"require"],[1,84,9,20,"d"],[1,86,9,20],[1,90,11,4,"StreamFileStore"],[1,92,11,22],[1,103,12,2,"this"],[1,108,12,7,"initialize"],[1,119,12,18,"apply"],[1,125,12,24,"this"],[1,130,12,30,"arguments"],[1,142,15,0,"StreamFileStore"],[1,144,15,16,"prototype"],[1,155,16,2,"initialize"],[1,166,16,14],[1,175,16,34,"client"],[1,177,16,42,"token"],[1,180,17,4,"this"],[1,185,17,9,"client"],[1,192,17,18,"client"],[1,194,18,4,"this"],[1,199,18,9,"token"],[1,205,18,17,"token"],[1,208,22,2,"upload"],[1,215,22,10],[1,224,22,26,"uri"],[1,226,22,31,"name"],[1,228,22,37,"contentType"],[1,231,23,4],[1,235,24,8,"fileField"],[1,237,23,8,"data"],[1,239,23,15],[1,243,23,19,"FormData"],[1,245,40,4],[1,252,26,8,"utils"],[1,254,26,14,"isReadableStream"],[1,271,26,31,"uri"],[1,274,27,6,"fileField"],[1,276,27,18,"uri"],[1,279,29,6,"fileField"],[1,282,30,8,"uri"],[1,286,30,13,"uri"],[1,288,31,8,"name"],[1,293,31,14,"name"],[1,296,31,22,"uri"],[1,298,31,26,"split"],[1,304,31,32],[1,309,31,37,"reverse"],[1,319,31,47],[1,323,34,25],[1,329,34,10,"contentType"],[1,333,35,8,"fileField"],[1,335,35,18,"type"],[1,340,35,25,"contentType"],[1,344,39,4,"data"],[1,346,39,9,"append"],[1,353,39,16],[1,360,39,24,"fileField"],[1,363,40,11,"fetch"],[1,365,40,17],[1,368,40,20,"concat"],[1,375,40,27,"this"],[1,380,40,32,"client"],[1,387,40,39,"enrichUrl"],[1,397,40,49],[1,407,40,60],[1,420,40,73,"concat"],[1,427,40,80,"this"],[1,432,40,85,"client"],[1,439,40,92,"apiKey"],[1,448,41,6,"method"],[1,455,41,14],[1,462,42,6,"body"],[1,467,42,12,"data"],[1,469,43,6,"headers"],[1,477,43,15],[1,481,43,19,"Headers"],[1,484,44,8,"Authorization"],[1,498,44,23,"this"],[1,503,44,28,"token"],[1,513,46,7,"then"],[1,518,46,12],[1,527,46,22,"r"],[1,530,47,6],[1,537,47,10,"r"],[1,539,47,12,"ok"],[1,542,48,15,"r"],[1,544,48,17,"json"],[1,551,52,13,"r"],[1,553,52,15,"text"],[1,560,52,22,"then"],[1,565,52,27],[1,574,52,37,"responseData"],[1,577,53,8,"r"],[1,579,53,10,"statusCode"],[1,590,53,23,"r"],[1,592,53,25,"status"],[1,599,55,8],[1,603,56,10,"responseData"],[1,605,56,25,"JSON"],[1,610,56,30,"parse"],[1,616,56,36,"responseData"],[1,619,57,10],[1,625,57,17,"e"],[1,629,60,8],[1,635,60,14],[1,639,60,18,"errors"],[1,641,60,25,"StreamApiError"],[1,656,60,40,"JSON"],[1,661,60,45,"stringify"],[1,671,60,55,"responseData"],[1,674,60,71],[1,700,60,99,"r"],[1,702,60,101,"status"],[1,709,60,109,"responseData"],[1,711,60,123,"r"],[1,719,64,2,"delete"],[1,726,64,10],[1,735,64,27,"uri"],[1,738,65,4],[1,745,65,11,"this"],[1,750,65,16,"client"],[1,757,65,23,"delete"],[1,765,66,6,"url"],[1,769,66,11],[1,778,67,6,"qs"],[1,782,68,8,"url"],[1,786,68,13,"uri"],[1,789,70,6,"signature"],[1,799,70,17,"this"],[1,804,70,22,"token"],[1,814,74,0,"module"],[1,816,74,7,"exports"],[1,824,74,17,"StreamFileStore"]],"functionMap":{"names":["<global>","StreamFileStore","initialize","upload","fetch.then$argument_0","r.text.then$argument_0","_delete"],"mappings":"AAA;sBCU;CDE;cEG;GFG;UGG;YCwB;2BCM;ODS;KDC;GHC;UMC;GNQ"}},"type":"js/module"}]}