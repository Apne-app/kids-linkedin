{"dependencies":[{"name":"@babel/runtime/helpers/extends","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/typeof","data":{"isAsync":false}},{"name":"jsonwebtoken","data":{"isAsync":false}},{"name":"Base64","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]),o=r(d[2]),u=r(d[3]),s=/^[a-zA-Z0-9\\-_]+?\\.[a-zA-Z0-9\\-_]+?\\.([a-zA-Z0-9\\-_]+)?$/,c=r(d[4]);function f(n){try{return c.atob(p(n))}catch(n){if('InvalidCharacterError'===n.name)return;throw n}}function l(n){if('object'===o(n))return n;try{return JSON.parse(n)}catch(n){return}}function h(n){var t=n.length%4;if(!t)return n;for(var o=4-t;o--;)n+='=';return n}function p(n){return h(n).replace(/\\-/g,'+').replace(/_/g,'/')}function T(n){return l(f(n.split('.',1)[0]))}e.headerFromJWS=T,e.JWTScopeToken=function(n,t,o,s){var c=s||{},f=!c.expireTokens||!c.expireTokens,l={resource:t,action:o};return c.feedId&&(l.feed_id=c.feedId),c.userId&&(l.user_id=c.userId),u.sign(l,n,{algorithm:'HS256',noTimestamp:f})},e.JWTUserSessionToken=function(o,s){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if('string'!=typeof s)throw new TypeError('userId should be a string');var l=t({user_id:s},c),h=n({algorithm:'HS256',noTimestamp:!0},f);return u.sign(l,o,h)},e.isJWTSignature=e.isJWT=function(n){if(null==n||0==n.length)return!1;var t=n.split(' ')[1]||n;return s.test(t)&&!!T(t)}});","lineCount":1,"map":[[1,28,1,0],[1,32,1,4,"_extends"],[1,34,1,15,"require"],[1,36,1,22,"d"],[1,38,1,22],[1,42,3,4,"_objectSpread"],[1,44,3,20,"require"],[1,46,3,27,"d"],[1,48,3,27],[1,52,5,4,"_typeof"],[1,54,5,14,"require"],[1,56,5,21,"d"],[1,58,5,21],[1,62,7,4,"jwt"],[1,64,7,10,"require"],[1,66,7,17,"d"],[1,68,7,17],[1,72,9,4,"JWS_REGEX"],[1,74,9,16],[1,133,11,4,"Base64"],[1,135,11,13,"require"],[1,137,11,20,"d"],[1,139,11,20],[1,143,13,0],[1,152,13,9,"decodeBase64Url"],[1,154,13,25,"base64UrlString"],[1,157,14,2],[1,161,15,4],[1,168,15,11,"Base64"],[1,170,15,18,"atob"],[1,175,15,23,"toBase64"],[1,177,15,32,"base64UrlString"],[1,181,16,4],[1,187,16,11,"e"],[1,190,18,4],[1,193,18,19],[1,219,18,8,"e"],[1,221,18,10,"name"],[1,226,19,6],[1,233,21,6],[1,239,21,12,"e"],[1,242,26,0],[1,251,26,9,"safeJsonParse"],[1,253,26,23,"thing"],[1,256,27,2],[1,259,27,25],[1,270,27,6,"_typeof"],[1,272,27,14,"thing"],[1,275,27,35],[1,282,27,42,"thing"],[1,284,29,2],[1,288,30,4],[1,295,30,11,"JSON"],[1,300,30,16,"parse"],[1,306,30,22,"thing"],[1,309,31,4],[1,315,31,11,"e"],[1,318,32,4],[1,326,36,0],[1,335,36,9,"padString"],[1,337,36,19,"string"],[1,340,37,2],[1,344,38,6,"diff"],[1,346,38,13,"string"],[1,348,38,20,"length"],[1,355,37,22],[1,357,39,2],[1,361,39,7,"diff"],[1,363,39,13],[1,370,39,20,"string"],[1,372,42,2],[1,376,40,2],[1,380,40,6,"padLength"],[1,382,37,22],[1,384,40,34,"diff"],[1,386,42,9,"padLength"],[1,391,43,4,"string"],[1,394,43,14],[1,398,46,2],[1,405,46,9,"string"],[1,407,49,0],[1,416,49,9,"toBase64"],[1,418,49,18,"base64UrlString"],[1,421,52,2],[1,428,50,15,"padString"],[1,430,50,25,"base64UrlString"],[1,433,50,42,"replace"],[1,441,50,50],[1,447,50,57],[1,452,51,3,"replace"],[1,460,51,11],[1,465,51,17],[1,470,55,0],[1,479,55,9,"headerFromJWS"],[1,481,55,23,"jwsSig"],[1,484,57,2],[1,491,57,9,"safeJsonParse"],[1,493,57,23,"decodeBase64Url"],[1,495,56,22,"jwsSig"],[1,497,56,29,"split"],[1,503,56,35],[1,507,56,40],[1,510,56,43],[1,515,60,0,"exports"],[1,517,60,8,"headerFromJWS"],[1,531,60,24,"headerFromJWS"],[1,533,62,0,"exports"],[1,535,62,8,"JWTScopeToken"],[1,549,62,24],[1,558,62,34,"apiSecret"],[1,560,62,45,"resource"],[1,562,62,55,"action"],[1,564,62,63,"opts"],[1,567,76,2],[1,571,76,6,"options"],[1,573,76,16,"opts"],[1,579,77,6,"noTimestamp"],[1,582,77,20,"options"],[1,584,77,28,"expireTokens"],[1,599,77,44,"options"],[1,601,77,52,"expireTokens"],[1,614,78,6,"payload"],[1,617,79,4,"resource"],[1,626,79,14,"resource"],[1,628,80,4,"action"],[1,635,80,12,"action"],[1,638,95,2],[1,645,83,6,"options"],[1,647,83,14,"feedId"],[1,656,84,4,"payload"],[1,658,84,11],[1,666,84,25,"options"],[1,668,84,33,"feedId"],[1,676,87,6,"options"],[1,678,87,14,"userId"],[1,687,88,4,"payload"],[1,689,88,11],[1,697,88,25,"options"],[1,699,88,33,"userId"],[1,707,91,14,"jwt"],[1,709,91,18,"sign"],[1,714,91,23,"payload"],[1,716,91,32,"apiSecret"],[1,719,92,4,"algorithm"],[1,729,92,15],[1,737,93,4,"noTimestamp"],[1,749,93,17,"noTimestamp"],[1,754,98,0,"exports"],[1,756,98,8,"JWTUserSessionToken"],[1,776,98,30],[1,785,98,40,"apiSecret"],[1,787,98,51,"userId"],[1,790,99,2],[1,794,99,6,"extraData"],[1,796,99,18,"arguments"],[1,806,99,28,"length"],[1,813,99,37],[1,821,99,59,"undefined"],[1,825,99,42,"arguments"],[1,835,99,52],[1,838,99,71,"arguments"],[1,848,99,81],[1,854,100,6,"jwtOptions"],[1,856,100,19,"arguments"],[1,866,100,29,"length"],[1,873,100,38],[1,881,100,60,"undefined"],[1,885,100,43,"arguments"],[1,895,100,53],[1,898,100,72,"arguments"],[1,908,100,82],[1,914,113,2],[1,917,113,24],[1,934,113,13,"userId"],[1,936,114,4],[1,942,114,10],[1,946,114,14,"TypeError"],[1,956,114,24],[1,985,117,2],[1,989,117,6,"payload"],[1,991,117,16,"_objectSpread"],[1,994,118,4,"user_id"],[1,1002,118,13,"userId"],[1,1005,119,5,"extraData"],[1,1008,121,6,"opts"],[1,1010,121,13,"_extends"],[1,1013,122,4,"algorithm"],[1,1023,122,15],[1,1031,123,4,"noTimestamp"],[1,1044,123,17],[1,1047,124,5,"jwtOptions"],[1,1050,127,2],[1,1057,126,14,"jwt"],[1,1059,126,18,"sign"],[1,1064,126,23,"payload"],[1,1066,126,32,"apiSecret"],[1,1068,126,43,"opts"],[1,1072,130,0,"exports"],[1,1074,130,8,"isJWTSignature"],[1,1089,130,25,"exports"],[1,1091,130,33,"isJWT"],[1,1097,130,41],[1,1106,130,51,"signature"],[1,1109,139,2],[1,1112,139,19],[1,1118,139,6,"signature"],[1,1121,139,47],[1,1124,139,27,"signature"],[1,1126,139,37,"length"],[1,1133,140,4],[1,1140,140,11],[1,1142,143,2],[1,1146,143,6,"token"],[1,1148,143,14,"signature"],[1,1150,143,24,"split"],[1,1156,143,30],[1,1161,143,35],[1,1165,143,41,"signature"],[1,1167,144,2],[1,1174,144,9,"JWS_REGEX"],[1,1176,144,19,"test"],[1,1181,144,24,"token"],[1,1187,144,36,"headerFromJWS"],[1,1189,144,50,"token"]],"functionMap":{"names":["<global>","decodeBase64Url","safeJsonParse","padString","toBase64","headerFromJWS","exports.JWTScopeToken","exports.JWTUserSessionToken","exports.isJWT"],"mappings":"AAA;ACY;CDW;AEE;CFQ;AGE;CHW;AIE;CJI;AKE;CLG;wBMI;CNkC;8BOE;CP8B;yCQE;CRe"}},"type":"js/module"}]}