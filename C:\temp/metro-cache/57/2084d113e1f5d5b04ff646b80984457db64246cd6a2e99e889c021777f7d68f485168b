{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"./user","data":{"isAsync":false}},{"name":"./errors","data":{"isAsync":false}},{"name":"./utils","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.StreamFeed=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),l=r(d[4]),c=r(d[5]),u=t(r(d[6]));function f(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function h(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?f(Object(o),!0).forEach(function(n){(0,s.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var v=(function(){function t(o,l,f,h){if((0,n.default)(this,t),(0,s.default)(this,\"client\",void 0),(0,s.default)(this,\"token\",void 0),(0,s.default)(this,\"id\",void 0),(0,s.default)(this,\"slug\",void 0),(0,s.default)(this,\"userId\",void 0),(0,s.default)(this,\"feedUrl\",void 0),(0,s.default)(this,\"feedTogether\",void 0),(0,s.default)(this,\"signature\",void 0),(0,s.default)(this,\"notificationChannel\",void 0),!l||!f)throw new c.FeedError('Please provide a feed slug and user id, ie client.feed(\"user\", \"1\")');if(-1!==l.indexOf(':'))throw new c.FeedError('Please initialize the feed using client.feed(\"user\", \"1\") not client.feed(\"user:1\")');if(u.default.validateFeedSlug(l),u.default.validateUserId(f),!h)throw new c.FeedError('Missing token, in client side mode please provide a feed secret');this.client=o,this.slug=l,this.userId=f,this.id=\"\".concat(this.slug,\":\").concat(this.userId),this.token=h,this.feedUrl=this.id.replace(':','/'),this.feedTogether=this.id.replace(':',''),this.signature=\"\".concat(this.feedTogether,\" \").concat(this.token),this.notificationChannel=\"site-\".concat(this.client.appId,\"-feed-\").concat(this.feedTogether)}return(0,o.default)(t,[{key:\"addActivity\",value:function(t){return!(t=u.default.replaceStreamObjects(t)).actor&&this.client.currentUser&&(t.actor=this.client.currentUser.ref()),this.client.post({url:\"feed/\".concat(this.feedUrl,\"/\"),body:t,signature:this.signature})}},{key:\"removeActivity\",value:function(t){return this.client.delete({url:\"feed/\".concat(this.feedUrl,\"/\").concat(t.foreignId||t,\"/\"),qs:t.foreignId?{foreign_id:'1'}:{},signature:this.signature})}},{key:\"addActivities\",value:function(t){return this.client.post({url:\"feed/\".concat(this.feedUrl,\"/\"),body:{activities:u.default.replaceStreamObjects(t)},signature:this.signature})}},{key:\"follow\",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n instanceof l.StreamUser&&(n=n.id),u.default.validateFeedSlug(t),u.default.validateUserId(n);var s={target:\"\".concat(t,\":\").concat(n)};return'number'==typeof o.limit&&(s.activity_copy_limit=o.limit),this.client.post({url:\"feed/\".concat(this.feedUrl,\"/following/\"),body:s,signature:this.signature})}},{key:\"unfollow\",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={};'boolean'==typeof o.keepHistory&&o.keepHistory&&(s.keep_history='1'),u.default.validateFeedSlug(t),u.default.validateUserId(n);var l=\"\".concat(t,\":\").concat(n);return this.client.delete({url:\"feed/\".concat(this.feedUrl,\"/following/\").concat(l,\"/\"),qs:s,signature:this.signature})}},{key:\"following\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return t.filter&&(n.filter=t.filter.join(',')),this.client.get({url:\"feed/\".concat(this.feedUrl,\"/following/\"),qs:h(h({},t),n),signature:this.signature})}},{key:\"followers\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return t.filter&&(n.filter=t.filter.join(',')),this.client.get({url:\"feed/\".concat(this.feedUrl,\"/followers/\"),qs:h(h({},t),n),signature:this.signature})}},{key:\"followStats\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={followers:this.id,following:this.id};return t.followerSlugs&&t.followerSlugs.length&&(n.followers_slugs=t.followerSlugs.join(',')),t.followingSlugs&&t.followingSlugs.length&&(n.following_slugs=t.followingSlugs.join(',')),this.client.get({url:'stats/follow/',qs:n,signature:this.signature})}},{key:\"get\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};t.mark_read&&t.mark_read.join&&(n.mark_read=t.mark_read.join(',')),t.mark_seen&&t.mark_seen.join&&(n.mark_seen=t.mark_seen.join(',')),this.client.replaceReactionOptions(t);var o=this.client.shouldUseEnrichEndpoint(t)?'enrich/feed/':'feed/';return this.client.get({url:\"\".concat(o).concat(this.feedUrl,\"/\"),qs:h(h({},t),n),signature:this.signature})}},{key:\"getActivityDetail\",value:function(t,n){return this.get(h({id_lte:t,id_gte:t,limit:1},n||{}))}},{key:\"getFayeClient\",value:function(){return this.client.getFayeClient()}},{key:\"subscribe\",value:function(t){if(!this.client.appId)throw new c.SiteError('Missing app id, which is needed to subscribe, use var client = stream.connect(key, secret, appId);');var n=this.getFayeClient().subscribe(\"/\".concat(this.notificationChannel),t);return this.client.subscriptions[\"/\".concat(this.notificationChannel)]={token:this.token,userId:this.notificationChannel,fayeSubscription:n},n}},{key:\"unsubscribe\",value:function(){var t=this.client.subscriptions[\"/\".concat(this.notificationChannel)];t&&(delete this.client.subscriptions[\"/\".concat(this.notificationChannel)],t.fayeSubscription.cancel())}},{key:\"updateActivityToTargets\",value:function(t,n,o,s,l){if(!t)throw new Error('Missing `foreign_id` parameter!');if(!n)throw new Error('Missing `time` parameter!');if(!o&&!s&&!l)throw new Error('Requires you to provide at least one parameter for `newTargets`, `addedTargets`, or `removedTargets` - example: `updateActivityToTargets(\"foreignID:1234\", new Date(), [newTargets...], [addedTargets...], [removedTargets...])`');if(o&&(s||l))throw new Error(\"Can't include add_targets or removedTargets if you're also including newTargets\");s&&l&&s.forEach(function(t){if(l.includes(t))throw new Error(\"Can't have the same feed ID in addedTargets and removedTargets.\")});var c={foreign_id:t,time:n};return o&&(c.new_targets=o),s&&(c.added_targets=s),l&&(c.removed_targets=l),this.client.post({url:\"feed_targets/\".concat(this.feedUrl,\"/activity_to_targets/\"),signature:this.signature,body:c})}}]),t})();e.StreamFeed=v});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0],[1,45,3,4,"_interopRequireDefault"],[1,47,3,29,"require"],[1,49,3,36,"d"],[1,51,3,36],[1,55,5,0,"Object"],[1,62,5,7,"defineProperty"],[1,77,5,22,"exports"],[1,79,5,31],[1,93,6,2,"value"],[1,100,6,9],[1,104,8,0,"exports"],[1,106,8,8,"StreamFeed"],[1,122,8,0,"undefined"],[1,124,10,0],[1,128,10,4,"_classCallCheck2"],[1,130,10,23,"_interopRequireDefault"],[1,132,10,46,"require"],[1,134,10,53,"d"],[1,136,10,53],[1,141,12,4,"_createClass2"],[1,143,12,20,"_interopRequireDefault"],[1,145,12,43,"require"],[1,147,12,50,"d"],[1,149,12,50],[1,154,14,4,"_defineProperty2"],[1,156,14,23,"_interopRequireDefault"],[1,158,14,46,"require"],[1,160,14,53,"d"],[1,162,14,53],[1,167,16,4,"_user"],[1,169,16,12,"require"],[1,171,16,19,"d"],[1,173,16,19],[1,177,18,4,"_errors"],[1,179,18,14,"require"],[1,181,18,21,"d"],[1,183,18,21],[1,187,20,4,"_utils"],[1,189,20,13,"_interopRequireDefault"],[1,191,20,36,"require"],[1,193,20,43,"d"],[1,195,20,43],[1,200,22,0],[1,209,22,9,"ownKeys"],[1,211,22,17,"object"],[1,213,22,25,"enumerableOnly"],[1,216,22,43],[1,220,22,47,"keys"],[1,222,22,54,"Object"],[1,229,22,61,"keys"],[1,234,22,66,"object"],[1,237,22,75],[1,240,22,79,"Object"],[1,247,22,86,"getOwnPropertySymbols"],[1,269,22,109],[1,270,22,111],[1,274,22,115,"symbols"],[1,276,22,125,"Object"],[1,283,22,132,"getOwnPropertySymbols"],[1,305,22,154,"object"],[1,308,22,167,"enumerableOnly"],[1,312,22,183,"symbols"],[1,314,22,193,"symbols"],[1,316,22,201,"filter"],[1,323,22,208],[1,332,22,218,"sym"],[1,335,22,225],[1,342,22,232,"Object"],[1,349,22,239,"getOwnPropertyDescriptor"],[1,374,22,264,"object"],[1,376,22,272,"sym"],[1,379,22,277,"enumerable"],[1,393,22,293,"keys"],[1,395,22,298,"push"],[1,400,22,303,"apply"],[1,406,22,309,"keys"],[1,408,22,315,"symbols"],[1,411,22,327],[1,418,22,334,"keys"],[1,420,24,0],[1,429,24,9,"_objectSpread"],[1,431,24,23,"target"],[1,434,24,33],[1,438,24,38],[1,442,24,42,"i"],[1,444,24,46],[1,446,24,49,"i"],[1,448,24,53,"arguments"],[1,458,24,63,"length"],[1,465,24,71,"i"],[1,469,24,76],[1,470,24,78],[1,474,24,82,"source"],[1,476,24,107],[1,482,24,91,"arguments"],[1,492,24,101,"i"],[1,495,24,114,"arguments"],[1,505,24,124,"i"],[1,511,24,137,"i"],[1,513,24,141],[1,515,24,146,"ownKeys"],[1,517,24,154,"Object"],[1,524,24,161,"source"],[1,528,24,170],[1,531,24,176,"forEach"],[1,539,24,184],[1,548,24,194,"key"],[1,552,24,201],[1,554,24,205,"_defineProperty2"],[1,556,24,222,"default"],[1,565,24,231,"target"],[1,567,24,239,"key"],[1,569,24,244,"source"],[1,571,24,251,"key"],[1,577,24,273,"Object"],[1,584,24,280,"getOwnPropertyDescriptors"],[1,610,24,309,"Object"],[1,617,24,316,"defineProperties"],[1,634,24,333,"target"],[1,636,24,341,"Object"],[1,643,24,348,"getOwnPropertyDescriptors"],[1,669,24,374,"source"],[1,673,24,393,"ownKeys"],[1,675,24,401,"Object"],[1,682,24,408,"source"],[1,686,24,417,"forEach"],[1,694,24,425],[1,703,24,435,"key"],[1,706,24,442,"Object"],[1,713,24,449,"defineProperty"],[1,728,24,464,"target"],[1,730,24,472,"key"],[1,732,24,477,"Object"],[1,739,24,484,"getOwnPropertyDescriptor"],[1,764,24,509,"source"],[1,766,24,517,"key"],[1,772,24,532],[1,779,24,539,"target"],[1,781,31,0],[1,785,31,4,"StreamFeed"],[1,788,31,30],[1,799,41,2],[1,808,41,11,"StreamFeed"],[1,810,41,22,"client"],[1,812,41,30,"feedSlug"],[1,814,41,40,"userId"],[1,816,41,48,"token"],[1,819,53,4],[1,823,42,4],[1,825,42,8,"_classCallCheck2"],[1,827,42,25,"default"],[1,836,42,34,"this"],[1,841,42,40,"StreamFeed"],[1,845,43,4],[1,847,43,8,"_defineProperty2"],[1,849,43,25,"default"],[1,858,43,34,"this"],[1,863,43,40],[1,877,43,4,"undefined"],[1,881,44,4],[1,883,44,8,"_defineProperty2"],[1,885,44,25,"default"],[1,894,44,34,"this"],[1,899,44,40],[1,912,44,4,"undefined"],[1,916,45,4],[1,918,45,8,"_defineProperty2"],[1,920,45,25,"default"],[1,929,45,34,"this"],[1,934,45,40],[1,944,45,4,"undefined"],[1,948,46,4],[1,950,46,8,"_defineProperty2"],[1,952,46,25,"default"],[1,961,46,34,"this"],[1,966,46,40],[1,978,46,4,"undefined"],[1,982,47,4],[1,984,47,8,"_defineProperty2"],[1,986,47,25,"default"],[1,995,47,34,"this"],[1,1000,47,40],[1,1014,47,4,"undefined"],[1,1018,48,4],[1,1020,48,8,"_defineProperty2"],[1,1022,48,25,"default"],[1,1031,48,34,"this"],[1,1036,48,40],[1,1051,48,4,"undefined"],[1,1055,49,4],[1,1057,49,8,"_defineProperty2"],[1,1059,49,25,"default"],[1,1068,49,34,"this"],[1,1073,49,40],[1,1093,49,4,"undefined"],[1,1097,50,4],[1,1099,50,8,"_defineProperty2"],[1,1101,50,25,"default"],[1,1110,50,34,"this"],[1,1115,50,40],[1,1132,50,4,"undefined"],[1,1136,51,4],[1,1138,51,8,"_defineProperty2"],[1,1140,51,25,"default"],[1,1149,51,34,"this"],[1,1154,51,40],[1,1181,51,4,"undefined"],[1,1185,53,9,"feedSlug"],[1,1189,53,22,"userId"],[1,1191,54,6],[1,1197,54,12],[1,1201,54,16,"_errors"],[1,1203,54,24,"FeedError"],[1,1213,54,34],[1,1284,57,4],[1,1288,57,8],[1,1292,57,8,"feedSlug"],[1,1294,57,17,"indexOf"],[1,1302,57,25],[1,1307,58,6],[1,1313,58,12],[1,1317,58,16,"_errors"],[1,1319,58,24,"FeedError"],[1,1329,58,34],[1,1416,66,4],[1,1419,61,4,"_utils"],[1,1421,61,11,"default"],[1,1429,61,19,"validateFeedSlug"],[1,1446,61,36,"feedSlug"],[1,1449,63,4,"_utils"],[1,1451,63,11,"default"],[1,1459,63,19,"validateUserId"],[1,1474,63,34,"userId"],[1,1478,66,9,"token"],[1,1480,67,6],[1,1486,67,12],[1,1490,67,16,"_errors"],[1,1492,67,24,"FeedError"],[1,1502,67,34],[1,1569,70,4,"this"],[1,1574,70,9,"client"],[1,1581,70,18,"client"],[1,1583,71,4,"this"],[1,1588,71,9,"slug"],[1,1593,71,16,"feedSlug"],[1,1595,72,4,"this"],[1,1600,72,9,"userId"],[1,1607,72,18,"userId"],[1,1609,73,4,"this"],[1,1614,73,9,"id"],[1,1617,73,14],[1,1620,73,17,"concat"],[1,1627,73,24,"this"],[1,1632,73,29,"slug"],[1,1637,73,35],[1,1642,73,40,"concat"],[1,1649,73,47,"this"],[1,1654,73,52,"userId"],[1,1662,74,4,"this"],[1,1667,74,9,"token"],[1,1673,74,17,"token"],[1,1675,75,4,"this"],[1,1680,75,9,"feedUrl"],[1,1688,75,19,"this"],[1,1693,75,24,"id"],[1,1696,75,27,"replace"],[1,1704,75,35],[1,1708,75,40],[1,1713,76,4,"this"],[1,1718,76,9,"feedTogether"],[1,1731,76,24,"this"],[1,1736,76,29,"id"],[1,1739,76,32,"replace"],[1,1747,76,40],[1,1751,76,45],[1,1755,77,4,"this"],[1,1760,77,9,"signature"],[1,1770,77,21],[1,1773,77,24,"concat"],[1,1780,77,31,"this"],[1,1785,77,36,"feedTogether"],[1,1798,77,50],[1,1803,77,55,"concat"],[1,1810,77,62,"this"],[1,1815,77,67,"token"],[1,1822,79,4,"this"],[1,1827,79,9,"notificationChannel"],[1,1847,79,31],[1,1855,79,39,"concat"],[1,1862,79,46,"this"],[1,1867,79,51,"client"],[1,1874,79,58,"appId"],[1,1880,79,65],[1,1890,79,75,"concat"],[1,1897,79,82,"this"],[1,1902,79,87,"feedTogether"],[1,1916,447,2],[1,1923,90,2],[1,1925,90,6,"_createClass2"],[1,1927,90,20,"default"],[1,1936,90,29,"StreamFeed"],[1,1940,91,4,"key"],[1,1944,91,9],[1,1958,92,4,"value"],[1,1964,92,11],[1,1973,92,32,"activity"],[1,1976,99,6],[1,1984,93,6,"activity"],[1,1986,93,17,"_utils"],[1,1988,93,24,"default"],[1,1996,93,32,"replaceStreamObjects"],[1,2017,93,53,"activity"],[1,2021,95,20,"actor"],[1,2028,95,29,"this"],[1,2033,95,34,"client"],[1,2040,95,41,"currentUser"],[1,2054,96,8,"activity"],[1,2056,96,17,"actor"],[1,2062,96,25,"this"],[1,2067,96,30,"client"],[1,2074,96,37,"currentUser"],[1,2086,96,49,"ref"],[1,2093,99,13,"this"],[1,2098,99,18,"client"],[1,2105,99,25,"post"],[1,2111,100,8,"url"],[1,2115,100,13],[1,2123,100,21,"concat"],[1,2130,100,28,"this"],[1,2135,100,33,"feedUrl"],[1,2143,100,42],[1,2148,101,8,"body"],[1,2153,101,14,"activity"],[1,2155,102,8,"signature"],[1,2165,102,19,"this"],[1,2170,102,24,"signature"],[1,2185,116,4,"key"],[1,2189,116,9],[1,2206,117,4,"value"],[1,2212,117,11],[1,2221,117,35,"activityId"],[1,2224,118,6],[1,2231,118,13,"this"],[1,2236,118,18,"client"],[1,2243,118,25,"delete"],[1,2251,119,8,"url"],[1,2255,119,13],[1,2263,119,21,"concat"],[1,2270,119,28,"this"],[1,2275,119,33,"feedUrl"],[1,2283,119,42],[1,2288,119,47,"concat"],[1,2295,119,54,"activityId"],[1,2297,119,65,"foreignId"],[1,2308,119,78,"activityId"],[1,2310,119,90],[1,2315,120,8,"qs"],[1,2318,120,12,"activityId"],[1,2320,120,23,"foreignId"],[1,2331,121,10,"foreign_id"],[1,2342,121,22],[1,2350,123,8,"signature"],[1,2360,123,19,"this"],[1,2365,123,24,"signature"],[1,2380,135,4,"key"],[1,2384,135,9],[1,2400,136,4,"value"],[1,2406,136,11],[1,2415,136,34,"activities"],[1,2418,137,6],[1,2425,137,13,"this"],[1,2430,137,18,"client"],[1,2437,137,25,"post"],[1,2443,138,8,"url"],[1,2447,138,13],[1,2455,138,21,"concat"],[1,2462,138,28,"this"],[1,2467,138,33,"feedUrl"],[1,2475,138,42],[1,2480,139,8,"body"],[1,2486,140,10,"activities"],[1,2497,140,22,"_utils"],[1,2499,140,29,"default"],[1,2507,140,37,"replaceStreamObjects"],[1,2528,140,58,"activities"],[1,2532,142,8,"signature"],[1,2542,142,19,"this"],[1,2547,142,24,"signature"],[1,2562,160,4,"key"],[1,2566,160,9],[1,2575,161,4,"value"],[1,2581,161,11],[1,2590,161,27,"targetSlug"],[1,2592,161,39,"targetUserId"],[1,2595,162,6],[1,2599,162,10,"options"],[1,2601,162,20,"arguments"],[1,2611,162,30,"length"],[1,2618,162,39],[1,2626,162,61,"undefined"],[1,2630,162,44,"arguments"],[1,2640,162,54],[1,2643,162,73,"arguments"],[1,2653,162,83],[1,2659,164,10,"targetUserId"],[1,2672,164,34,"_user"],[1,2674,164,40,"StreamUser"],[1,2687,165,8,"targetUserId"],[1,2689,165,23,"targetUserId"],[1,2691,165,36,"id"],[1,2695,168,6,"_utils"],[1,2697,168,13,"default"],[1,2705,168,21,"validateFeedSlug"],[1,2722,168,38,"targetSlug"],[1,2725,170,6,"_utils"],[1,2727,170,13,"default"],[1,2735,170,21,"validateUserId"],[1,2750,170,36,"targetUserId"],[1,2753,172,6],[1,2757,172,10,"body"],[1,2760,173,8,"target"],[1,2767,173,16],[1,2770,173,19,"concat"],[1,2777,173,26,"targetSlug"],[1,2779,173,38],[1,2784,173,43,"concat"],[1,2791,173,50,"targetUserId"],[1,2795,176,6],[1,2801,175,35],[1,2818,175,17,"options"],[1,2820,175,25,"limit"],[1,2828,175,45,"body"],[1,2830,175,50,"activity_copy_limit"],[1,2850,175,72,"options"],[1,2852,175,80,"limit"],[1,2859,176,13,"this"],[1,2864,176,18,"client"],[1,2871,176,25,"post"],[1,2877,177,8,"url"],[1,2881,177,13],[1,2889,177,21,"concat"],[1,2896,177,28,"this"],[1,2901,177,33,"feedUrl"],[1,2909,177,42],[1,2924,178,8,"body"],[1,2929,178,14,"body"],[1,2931,179,8,"signature"],[1,2941,179,19,"this"],[1,2946,179,24,"signature"],[1,2961,196,4,"key"],[1,2965,196,9],[1,2976,197,4,"value"],[1,2982,197,11],[1,2991,197,29,"targetSlug"],[1,2993,197,41,"targetUserId"],[1,2996,198,6],[1,3000,198,10,"options"],[1,3002,198,20,"arguments"],[1,3012,198,30,"length"],[1,3019,198,39],[1,3027,198,61,"undefined"],[1,3031,198,44,"arguments"],[1,3041,198,54],[1,3044,198,73,"arguments"],[1,3054,198,83],[1,3060,199,10,"qs"],[1,3065,200,41],[1,3083,200,17,"options"],[1,3085,200,25,"keepHistory"],[1,3098,200,54,"options"],[1,3100,200,62,"keepHistory"],[1,3114,200,75,"qs"],[1,3116,200,78,"keep_history"],[1,3129,200,93],[1,3134,202,6,"_utils"],[1,3136,202,13,"default"],[1,3144,202,21,"validateFeedSlug"],[1,3161,202,38,"targetSlug"],[1,3164,204,6,"_utils"],[1,3166,204,13,"default"],[1,3174,204,21,"validateUserId"],[1,3189,204,36,"targetUserId"],[1,3192,206,6],[1,3196,206,10,"targetFeedId"],[1,3198,206,25],[1,3201,206,28,"concat"],[1,3208,206,35,"targetSlug"],[1,3210,206,47],[1,3215,206,52,"concat"],[1,3222,206,59,"targetUserId"],[1,3225,207,6],[1,3232,207,13,"this"],[1,3237,207,18,"client"],[1,3244,207,25,"delete"],[1,3252,208,8,"url"],[1,3256,208,13],[1,3264,208,21,"concat"],[1,3271,208,28,"this"],[1,3276,208,33,"feedUrl"],[1,3284,208,42],[1,3299,208,57,"concat"],[1,3306,208,64,"targetFeedId"],[1,3308,208,78],[1,3313,209,8,"qs"],[1,3316,209,12,"qs"],[1,3318,210,8,"signature"],[1,3328,210,19,"this"],[1,3333,210,24,"signature"],[1,3348,226,4,"key"],[1,3352,226,9],[1,3364,227,4,"value"],[1,3370,227,11],[1,3381,228,6],[1,3385,228,10,"options"],[1,3387,228,20,"arguments"],[1,3397,228,30,"length"],[1,3404,228,39],[1,3412,228,61,"undefined"],[1,3416,228,44,"arguments"],[1,3426,228,54],[1,3429,228,73,"arguments"],[1,3439,228,83],[1,3445,229,10,"extraOptions"],[1,3450,231,6],[1,3457,230,10,"options"],[1,3459,230,18,"filter"],[1,3468,230,26,"extraOptions"],[1,3470,230,39,"filter"],[1,3477,230,48,"options"],[1,3479,230,56,"filter"],[1,3486,230,63,"join"],[1,3491,230,68],[1,3497,231,13,"this"],[1,3502,231,18,"client"],[1,3509,231,25,"get"],[1,3514,232,8,"url"],[1,3518,232,13],[1,3526,232,21,"concat"],[1,3533,232,28,"this"],[1,3538,232,33,"feedUrl"],[1,3546,232,42],[1,3561,233,8,"qs"],[1,3564,233,12,"_objectSpread"],[1,3566,233,26,"_objectSpread"],[1,3571,233,44,"options"],[1,3574,233,54,"extraOptions"],[1,3577,234,8,"signature"],[1,3587,234,19,"this"],[1,3592,234,24,"signature"],[1,3607,250,4,"key"],[1,3611,250,9],[1,3623,251,4,"value"],[1,3629,251,11],[1,3640,252,6],[1,3644,252,10,"options"],[1,3646,252,20,"arguments"],[1,3656,252,30,"length"],[1,3663,252,39],[1,3671,252,61,"undefined"],[1,3675,252,44,"arguments"],[1,3685,252,54],[1,3688,252,73,"arguments"],[1,3698,252,83],[1,3704,253,10,"extraOptions"],[1,3709,255,6],[1,3716,254,10,"options"],[1,3718,254,18,"filter"],[1,3727,254,26,"extraOptions"],[1,3729,254,39,"filter"],[1,3736,254,48,"options"],[1,3738,254,56,"filter"],[1,3745,254,63,"join"],[1,3750,254,68],[1,3756,255,13,"this"],[1,3761,255,18,"client"],[1,3768,255,25,"get"],[1,3773,256,8,"url"],[1,3777,256,13],[1,3785,256,21,"concat"],[1,3792,256,28,"this"],[1,3797,256,33,"feedUrl"],[1,3805,256,42],[1,3820,257,8,"qs"],[1,3823,257,12,"_objectSpread"],[1,3825,257,26,"_objectSpread"],[1,3830,257,44,"options"],[1,3833,257,54,"extraOptions"],[1,3836,258,8,"signature"],[1,3846,258,19,"this"],[1,3851,258,24,"signature"],[1,3866,274,4,"key"],[1,3870,274,9],[1,3884,275,4,"value"],[1,3890,275,11],[1,3901,276,6],[1,3905,276,10,"options"],[1,3907,276,20,"arguments"],[1,3917,276,30,"length"],[1,3924,276,39],[1,3932,276,61,"undefined"],[1,3936,276,44,"arguments"],[1,3946,276,54],[1,3949,276,73,"arguments"],[1,3959,276,83],[1,3965,277,10,"qs"],[1,3968,278,8,"followers"],[1,3978,278,19,"this"],[1,3983,278,24,"id"],[1,3986,279,8,"following"],[1,3996,279,19,"this"],[1,4001,279,24,"id"],[1,4005,283,6],[1,4012,281,10,"options"],[1,4014,281,18,"followerSlugs"],[1,4029,281,35,"options"],[1,4031,281,43,"followerSlugs"],[1,4045,281,57,"length"],[1,4054,281,65,"qs"],[1,4056,281,68,"followers_slugs"],[1,4072,281,86,"options"],[1,4074,281,94,"followerSlugs"],[1,4088,281,108,"join"],[1,4093,281,113],[1,4099,282,10,"options"],[1,4101,282,18,"followingSlugs"],[1,4117,282,36,"options"],[1,4119,282,44,"followingSlugs"],[1,4134,282,59,"length"],[1,4143,282,67,"qs"],[1,4145,282,70,"following_slugs"],[1,4161,282,88,"options"],[1,4163,282,96,"followingSlugs"],[1,4178,282,111,"join"],[1,4183,282,116],[1,4189,283,13,"this"],[1,4194,283,18,"client"],[1,4201,283,25,"get"],[1,4206,284,8,"url"],[1,4210,284,13],[1,4226,285,8,"qs"],[1,4229,285,12,"qs"],[1,4231,286,8,"signature"],[1,4241,286,19,"this"],[1,4246,286,24,"signature"],[1,4261,300,4,"key"],[1,4265,300,9],[1,4271,301,4,"value"],[1,4277,301,11],[1,4288,302,6],[1,4292,302,10,"options"],[1,4294,302,20,"arguments"],[1,4304,302,30,"length"],[1,4311,302,39],[1,4319,302,61,"undefined"],[1,4323,302,44,"arguments"],[1,4333,302,54],[1,4336,302,73,"arguments"],[1,4346,302,83],[1,4352,303,10,"extraOptions"],[1,4357,305,10,"options"],[1,4359,305,18,"mark_read"],[1,4370,305,31,"options"],[1,4372,305,39,"mark_read"],[1,4382,305,49,"join"],[1,4389,306,8,"extraOptions"],[1,4391,306,21,"mark_read"],[1,4401,306,33,"options"],[1,4403,306,41,"mark_read"],[1,4413,306,51,"join"],[1,4418,306,56],[1,4424,309,10,"options"],[1,4426,309,18,"mark_seen"],[1,4437,309,31,"options"],[1,4439,309,39,"mark_seen"],[1,4449,309,49,"join"],[1,4456,310,8,"extraOptions"],[1,4458,310,21,"mark_seen"],[1,4468,310,33,"options"],[1,4470,310,41,"mark_seen"],[1,4480,310,51,"join"],[1,4485,310,56],[1,4491,313,6,"this"],[1,4496,313,11,"client"],[1,4503,313,18,"replaceReactionOptions"],[1,4526,313,41,"options"],[1,4529,314,6],[1,4533,314,10,"path"],[1,4535,314,17,"this"],[1,4540,314,22,"client"],[1,4547,314,29,"shouldUseEnrichEndpoint"],[1,4571,314,53,"options"],[1,4574,314,64],[1,4589,314,81],[1,4597,315,6],[1,4604,315,13,"this"],[1,4609,315,18,"client"],[1,4616,315,25,"get"],[1,4621,316,8,"url"],[1,4625,316,13],[1,4628,316,16,"concat"],[1,4635,316,23,"path"],[1,4638,316,29,"concat"],[1,4645,316,36,"this"],[1,4650,316,41,"feedUrl"],[1,4658,316,50],[1,4663,317,8,"qs"],[1,4666,317,12,"_objectSpread"],[1,4668,317,26,"_objectSpread"],[1,4673,317,44,"options"],[1,4676,317,54,"extraOptions"],[1,4679,318,8,"signature"],[1,4689,318,19,"this"],[1,4694,318,24,"signature"],[1,4709,335,4,"key"],[1,4713,335,9],[1,4733,336,4,"value"],[1,4739,336,11],[1,4748,336,38,"activityId"],[1,4750,336,50,"options"],[1,4753,337,6],[1,4760,337,13,"this"],[1,4765,337,18,"get"],[1,4769,337,22,"_objectSpread"],[1,4772,338,8,"id_lte"],[1,4779,338,16,"activityId"],[1,4781,339,8,"id_gte"],[1,4788,339,16,"activityId"],[1,4790,340,8,"limit"],[1,4796,340,15],[1,4799,341,9,"options"],[1,4810,352,4,"key"],[1,4814,352,9],[1,4830,353,4,"value"],[1,4836,353,11],[1,4847,354,6],[1,4854,354,13,"this"],[1,4859,354,18,"client"],[1,4866,354,25,"getFayeClient"],[1,4885,369,4,"key"],[1,4889,369,9],[1,4901,370,4,"value"],[1,4907,370,11],[1,4916,370,30,"callback"],[1,4919,371,6],[1,4923,371,11,"this"],[1,4928,371,16,"client"],[1,4935,371,23,"appId"],[1,4941,372,8],[1,4947,372,14],[1,4951,372,18,"_errors"],[1,4953,372,26,"SiteError"],[1,4963,372,36],[1,5065,375,6],[1,5069,375,10,"subscription"],[1,5071,375,25,"this"],[1,5076,375,30,"getFayeClient"],[1,5092,375,46,"subscribe"],[1,5102,375,56],[1,5106,375,60,"concat"],[1,5113,375,67,"this"],[1,5118,375,72,"notificationChannel"],[1,5139,375,94,"callback"],[1,5142,381,6],[1,5149,376,6,"this"],[1,5154,376,11,"client"],[1,5161,376,18,"subscriptions"],[1,5175,376,32],[1,5179,376,36,"concat"],[1,5186,376,43,"this"],[1,5191,376,48,"notificationChannel"],[1,5214,377,8,"token"],[1,5220,377,15,"this"],[1,5225,377,20,"token"],[1,5231,378,8,"userId"],[1,5238,378,16,"this"],[1,5243,378,21,"notificationChannel"],[1,5263,379,8,"fayeSubscription"],[1,5280,379,26,"subscription"],[1,5283,381,13,"subscription"],[1,5288,389,4,"key"],[1,5292,389,9],[1,5306,390,4,"value"],[1,5312,390,11],[1,5323,391,6],[1,5327,391,10,"streamSubscription"],[1,5329,391,31,"this"],[1,5334,391,36,"client"],[1,5341,391,43,"subscriptions"],[1,5355,391,57],[1,5359,391,61,"concat"],[1,5366,391,68,"this"],[1,5371,391,73,"notificationChannel"],[1,5393,393,10,"streamSubscription"],[1,5404,394,15,"this"],[1,5409,394,20,"client"],[1,5416,394,27,"subscriptions"],[1,5430,394,41],[1,5434,394,45,"concat"],[1,5441,394,52,"this"],[1,5446,394,57,"notificationChannel"],[1,5468,395,8,"streamSubscription"],[1,5470,395,27,"fayeSubscription"],[1,5487,395,44,"cancel"],[1,5500,409,4,"key"],[1,5504,409,9],[1,5530,410,4,"value"],[1,5536,410,11],[1,5545,410,44,"foreignId"],[1,5547,410,55,"time"],[1,5549,410,61,"newTargets"],[1,5551,410,73,"addedTargets"],[1,5553,410,87,"removedTargets"],[1,5556,411,6],[1,5560,411,11,"foreignId"],[1,5562,411,22],[1,5568,411,28],[1,5572,411,32,"Error"],[1,5578,411,38],[1,5613,412,6],[1,5617,412,11,"time"],[1,5619,412,17],[1,5625,412,23],[1,5629,412,27,"Error"],[1,5635,412,33],[1,5664,414,6],[1,5668,414,11,"newTargets"],[1,5672,414,26,"addedTargets"],[1,5676,414,43,"removedTargets"],[1,5678,415,8],[1,5684,415,14],[1,5688,415,18,"Error"],[1,5694,415,24],[1,5922,418,6],[1,5925,418,10,"newTargets"],[1,5929,419,12,"addedTargets"],[1,5932,419,28,"removedTargets"],[1,5935,420,10],[1,5941,420,16],[1,5945,420,20,"Error"],[1,5951,420,26],[1,6034,424,10,"addedTargets"],[1,6037,424,26,"removedTargets"],[1,6040,426,8,"addedTargets"],[1,6042,426,21,"forEach"],[1,6050,426,29],[1,6059,426,39,"addedTarget"],[1,6062,427,10],[1,6065,427,14,"removedTargets"],[1,6067,427,29,"includes"],[1,6076,427,38,"addedTarget"],[1,6079,428,12],[1,6085,428,18],[1,6089,428,22,"Error"],[1,6095,428,28],[1,6164,433,6],[1,6168,433,10,"body"],[1,6171,434,8,"foreign_id"],[1,6182,434,20,"foreignId"],[1,6184,435,8,"time"],[1,6189,435,14,"time"],[1,6192,440,6],[1,6199,437,10,"newTargets"],[1,6203,437,22,"body"],[1,6205,437,27,"new_targets"],[1,6217,437,41,"newTargets"],[1,6220,438,10,"addedTargets"],[1,6224,438,24,"body"],[1,6226,438,29,"added_targets"],[1,6240,438,45,"addedTargets"],[1,6243,439,10,"removedTargets"],[1,6247,439,26,"body"],[1,6249,439,31,"removed_targets"],[1,6265,439,49,"removedTargets"],[1,6268,440,13,"this"],[1,6273,440,18,"client"],[1,6280,440,25,"post"],[1,6286,441,8,"url"],[1,6290,441,13],[1,6306,441,29,"concat"],[1,6313,441,36,"this"],[1,6318,441,41,"feedUrl"],[1,6326,441,50],[1,6351,442,8,"signature"],[1,6361,442,19,"this"],[1,6366,442,24,"signature"],[1,6376,443,8,"body"],[1,6381,443,14,"body"],[1,6389,447,9,"StreamFeed"],[1,6392,31,30],[1,6395,450,0,"exports"],[1,6397,450,8,"StreamFeed"],[1,6408,450,21,"StreamFeed"]],"functionMap":{"names":["<global>","ownKeys","symbols.filter$argument_0","_objectSpread","ownKeys.forEach$argument_0","<anonymous>","StreamFeed","addActivity","removeActivity","addActivities","follow","unfollow","following","followers","followStats","get","getActivityDetail","getFayeClient","subscribe","unsubscribe","updateActivityToTargets","addedTargets.forEach$argument_0"],"mappings":"AAA;ACqB,gNC,kFD,mDD;AGE,wLC,2ED,sKC,oGD,uBH;8BKO;ECU;GDuC;WEY;KFY;WGa;KHQ;WIW;KJQ;WKiB;KLoB;WMgB;KNe;WOe;KPS;WQe;KRS;WSe;KTa;WUa;KVmB;WWgB;KXM;WYW;KZE;Wae;KbY;WcQ;KdO;Wea;6BCgB;SDI;Kfe;CLG"}},"type":"js/module"}]}