{"dependencies":[{"name":"@babel/runtime/helpers/typeof","data":{"isAsync":false}},{"name":"./errors","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _typeof = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/typeof\");\n\n  var errors = _$$_REQUIRE(_dependencyMap[1], \"./errors\");\n\n  var validFeedSlugRe = /^[\\w]+$/;\n  var validUserIdRe = /^[\\w-]+$/;\n\n  function validateFeedId(feedId) {\n    var parts = feedId.split(':');\n\n    if (parts.length !== 2) {\n      throw new errors.FeedError('Invalid feedId, expected something like user:1 got ' + feedId);\n    }\n\n    var feedSlug = parts[0];\n    var userId = parts[1];\n    validateFeedSlug(feedSlug);\n    validateUserId(userId);\n    return feedId;\n  }\n\n  exports.validateFeedId = validateFeedId;\n\n  function validateFeedSlug(feedSlug) {\n    var valid = validFeedSlugRe.test(feedSlug);\n\n    if (!valid) {\n      throw new errors.FeedError('Invalid feedSlug, please use letters, numbers or _: ' + feedSlug);\n    }\n\n    return feedSlug;\n  }\n\n  exports.validateFeedSlug = validateFeedSlug;\n\n  function validateUserId(userId) {\n    var valid = validUserIdRe.test(userId);\n\n    if (!valid) {\n      throw new errors.FeedError('Invalid userId, please use letters, numbers, - or _: ' + userId);\n    }\n\n    return userId;\n  }\n\n  exports.validateUserId = validateUserId;\n\n  function rfc3986(str) {\n    return str.replace(/[!'()*]/g, function (c) {\n      return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n    });\n  }\n\n  exports.rfc3986 = rfc3986;\n\n  function isReadableStream(obj) {\n    return _typeof(obj) === 'object' && _typeof(obj._read === 'function') && _typeof(obj._readableState === 'object');\n  }\n\n  exports.isReadableStream = isReadableStream;\n});","lineCount":62,"map":[[2,0,1,0],[2,6,1,4,"_typeof"],[2,13,1,11],[2,16,1,14,"require"],[2,27,1,21],[2,79,1,0],[4,0,3,0],[4,6,3,4,"errors"],[4,12,3,10],[4,15,3,13,"require"],[4,26,3,20],[4,57,3,0],[6,0,5,0],[6,6,5,4,"validFeedSlugRe"],[6,21,5,19],[6,24,5,22],[6,33,5,0],[7,0,6,0],[7,6,6,4,"validUserIdRe"],[7,19,6,17],[7,22,6,20],[7,32,6,0],[9,0,8,0],[9,11,8,9,"validateFeedId"],[9,25,8,0],[9,26,8,24,"feedId"],[9,32,8,0],[9,34,8,32],[10,0,12,2],[10,8,12,6,"parts"],[10,13,12,11],[10,16,12,14,"feedId"],[10,22,12,20],[10,23,12,21,"split"],[10,28,12,14],[10,29,12,27],[10,32,12,14],[10,33,12,2],[12,0,14,2],[12,8,14,6,"parts"],[12,13,14,11],[12,14,14,12,"length"],[12,20,14,6],[12,25,14,23],[12,26,14,2],[12,28,14,26],[13,0,15,4],[13,12,15,10],[13,16,15,14,"errors"],[13,22,15,20],[13,23,15,21,"FeedError"],[13,32,15,10],[13,33,15,31],[13,89,15,87,"feedId"],[13,95,15,10],[13,96,15,4],[14,0,16,3],[16,0,18,2],[16,8,18,6,"feedSlug"],[16,16,18,14],[16,19,18,17,"parts"],[16,24,18,22],[16,25,18,23],[16,26,18,22],[16,27,18,2],[17,0,19,2],[17,8,19,6,"userId"],[17,14,19,12],[17,17,19,15,"parts"],[17,22,19,20],[17,23,19,21],[17,24,19,20],[17,25,19,2],[18,0,20,2,"validateFeedSlug"],[18,4,20,2,"validateFeedSlug"],[18,20,20,18],[18,21,20,19,"feedSlug"],[18,29,20,18],[18,30,20,2],[19,0,21,2,"validateUserId"],[19,4,21,2,"validateUserId"],[19,18,21,16],[19,19,21,17,"userId"],[19,25,21,16],[19,26,21,2],[20,0,22,2],[20,11,22,9,"feedId"],[20,17,22,2],[21,0,23,1],[23,0,25,0,"exports"],[23,2,25,0,"exports"],[23,9,25,7],[23,10,25,8,"validateFeedId"],[23,24,25,0],[23,27,25,25,"validateFeedId"],[23,41,25,0],[25,0,27,0],[25,11,27,9,"validateFeedSlug"],[25,27,27,0],[25,28,27,26,"feedSlug"],[25,36,27,0],[25,38,27,36],[26,0,31,2],[26,8,31,6,"valid"],[26,13,31,11],[26,16,31,14,"validFeedSlugRe"],[26,31,31,29],[26,32,31,30,"test"],[26,36,31,14],[26,37,31,35,"feedSlug"],[26,45,31,14],[26,46,31,2],[28,0,33,2],[28,8,33,6],[28,9,33,7,"valid"],[28,14,33,2],[28,16,33,14],[29,0,34,4],[29,12,34,10],[29,16,34,14,"errors"],[29,22,34,20],[29,23,34,21,"FeedError"],[29,32,34,10],[29,33,34,31],[29,90,34,88,"feedSlug"],[29,98,34,10],[29,99,34,4],[30,0,35,3],[32,0,37,2],[32,11,37,9,"feedSlug"],[32,19,37,2],[33,0,38,1],[35,0,40,0,"exports"],[35,2,40,0,"exports"],[35,9,40,7],[35,10,40,8,"validateFeedSlug"],[35,26,40,0],[35,29,40,27,"validateFeedSlug"],[35,45,40,0],[37,0,42,0],[37,11,42,9,"validateUserId"],[37,25,42,0],[37,26,42,24,"userId"],[37,32,42,0],[37,34,42,32],[38,0,46,2],[38,8,46,6,"valid"],[38,13,46,11],[38,16,46,14,"validUserIdRe"],[38,29,46,27],[38,30,46,28,"test"],[38,34,46,14],[38,35,46,33,"userId"],[38,41,46,14],[38,42,46,2],[40,0,48,2],[40,8,48,6],[40,9,48,7,"valid"],[40,14,48,2],[40,16,48,14],[41,0,49,4],[41,12,49,10],[41,16,49,14,"errors"],[41,22,49,20],[41,23,49,21,"FeedError"],[41,32,49,10],[41,33,49,31],[41,91,49,89,"userId"],[41,97,49,10],[41,98,49,4],[42,0,50,3],[44,0,52,2],[44,11,52,9,"userId"],[44,17,52,2],[45,0,53,1],[47,0,55,0,"exports"],[47,2,55,0,"exports"],[47,9,55,7],[47,10,55,8,"validateUserId"],[47,24,55,0],[47,27,55,25,"validateUserId"],[47,41,55,0],[49,0,57,0],[49,11,57,9,"rfc3986"],[49,18,57,0],[49,19,57,17,"str"],[49,22,57,0],[49,24,57,22],[50,0,58,2],[50,11,58,9,"str"],[50,14,58,12],[50,15,58,13,"replace"],[50,22,58,9],[50,23,58,21],[50,33,58,9],[50,35,58,33],[50,45,58,43,"c"],[50,46,58,33],[50,48,58,46],[51,0,59,4],[51,13,59,11],[51,19,59,17,"c"],[51,20,59,18],[51,21,59,19,"charCodeAt"],[51,31,59,17],[51,32,59,30],[51,33,59,17],[51,35,59,33,"toString"],[51,43,59,17],[51,44,59,42],[51,46,59,17],[51,48,59,46,"toUpperCase"],[51,59,59,17],[51,61,59,4],[52,0,60,3],[52,5,58,9],[52,6,58,2],[53,0,61,1],[55,0,63,0,"exports"],[55,2,63,0,"exports"],[55,9,63,7],[55,10,63,8,"rfc3986"],[55,17,63,0],[55,20,63,18,"rfc3986"],[55,27,63,0],[57,0,65,0],[57,11,65,9,"isReadableStream"],[57,27,65,0],[57,28,65,26,"obj"],[57,31,65,0],[57,33,65,31],[58,0,66,2],[58,11,66,9,"_typeof"],[58,18,66,16],[58,19,66,17,"obj"],[58,22,66,16],[58,23,66,9],[58,28,66,26],[58,36,66,9],[58,40,66,38,"_typeof"],[58,47,66,45],[58,48,66,46,"obj"],[58,51,66,49],[58,52,66,50,"_read"],[58,57,66,46],[58,62,66,60],[58,72,66,45],[58,73,66,9],[58,77,66,75,"_typeof"],[58,84,66,82],[58,85,66,83,"obj"],[58,88,66,86],[58,89,66,87,"_readableState"],[58,103,66,83],[58,108,66,106],[58,116,66,82],[58,117,66,2],[59,0,67,1],[61,0,69,0,"exports"],[61,2,69,0,"exports"],[61,9,69,7],[61,10,69,8,"isReadableStream"],[61,26,69,0],[61,29,69,27,"isReadableStream"],[61,45,69,0]],"functionMap":{"names":["<global>","validateFeedId","validateFeedSlug","validateUserId","rfc3986","str.replace$argument_1","isReadableStream"],"mappings":"AAA;ACO;CDe;AEI;CFW;AGI;CHW;AII;iCCC;GDE;CJC;AMI;CNE"}},"type":"js/module"}]}