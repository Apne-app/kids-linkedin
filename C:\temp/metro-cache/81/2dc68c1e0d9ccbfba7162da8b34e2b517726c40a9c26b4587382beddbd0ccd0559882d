{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"engine.io-parser","data":{"isAsync":false}},{"name":"component-emitter","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var _inherits = _$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/inherits\");\n\n  var _possibleConstructorReturn = _$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\");\n\n  var _getPrototypeOf = _$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\");\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n  var parser = _$$_REQUIRE(_dependencyMap[5], \"engine.io-parser\");\n\n  var Emitter = _$$_REQUIRE(_dependencyMap[6], \"component-emitter\");\n\n  var Transport = function (_Emitter) {\n    \"use strict\";\n\n    _inherits(Transport, _Emitter);\n\n    var _super = _createSuper(Transport);\n\n    function Transport(opts) {\n      var _this;\n\n      _classCallCheck(this, Transport);\n\n      _this = _super.call(this);\n      _this.opts = opts;\n      _this.query = opts.query;\n      _this.readyState = \"\";\n      _this.socket = opts.socket;\n      return _this;\n    }\n\n    _createClass(Transport, [{\n      key: \"onError\",\n      value: function onError(msg, desc) {\n        var err = new Error(msg);\n        err.type = \"TransportError\";\n        err.description = desc;\n        this.emit(\"error\", err);\n        return this;\n      }\n    }, {\n      key: \"open\",\n      value: function open() {\n        if (\"closed\" === this.readyState || \"\" === this.readyState) {\n          this.readyState = \"opening\";\n          this.doOpen();\n        }\n\n        return this;\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n          this.doClose();\n          this.onClose();\n        }\n\n        return this;\n      }\n    }, {\n      key: \"send\",\n      value: function send(packets) {\n        if (\"open\" === this.readyState) {\n          this.write(packets);\n        } else {\n          throw new Error(\"Transport not open\");\n        }\n      }\n    }, {\n      key: \"onOpen\",\n      value: function onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        this.emit(\"open\");\n      }\n    }, {\n      key: \"onData\",\n      value: function onData(data) {\n        var packet = parser.decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n      }\n    }, {\n      key: \"onPacket\",\n      value: function onPacket(packet) {\n        this.emit(\"packet\", packet);\n      }\n    }, {\n      key: \"onClose\",\n      value: function onClose() {\n        this.readyState = \"closed\";\n        this.emit(\"close\");\n      }\n    }]);\n\n    return Transport;\n  }(Emitter);\n\n  module.exports = Transport;\n});","lineCount":108,"map":[[16,0,1,0],[16,6,1,6,"parser"],[16,12,1,12],[16,15,1,15,"require"],[16,26,1,22],[16,65,1,0],[18,0,2,0],[18,6,2,6,"Emitter"],[18,13,2,13],[18,16,2,16,"require"],[18,27,2,23],[18,67,2,0],[20,6,4,6,"Transport"],[20,15],[27,0,11,2],[27,23,11,14,"opts"],[27,27,11,2],[27,29,11,20],[28,0,11,20],[30,0,11,20],[32,0,12,4],[33,0,14,4],[33,12,14,9,"opts"],[33,16,14,4],[33,19,14,16,"opts"],[33,23,14,4],[34,0,15,4],[34,12,15,9,"query"],[34,17,15,4],[34,20,15,17,"opts"],[34,24,15,21],[34,25,15,22,"query"],[34,30,15,4],[35,0,16,4],[35,12,16,9,"readyState"],[35,22,16,4],[35,25,16,22],[35,27,16,4],[36,0,17,4],[36,12,17,9,"socket"],[36,18,17,4],[36,21,17,18,"opts"],[36,25,17,22],[36,26,17,23,"socket"],[36,32,17,4],[37,0,11,20],[38,0,18,3],[42,30,27,10,"msg"],[42,33],[42,35,27,15,"desc"],[42,39],[42,41,27,21],[43,0,28,4],[43,12,28,10,"err"],[43,15,28,13],[43,18,28,16],[43,22,28,20,"Error"],[43,27,28,16],[43,28,28,26,"msg"],[43,31,28,16],[43,32,28,4],[44,0,29,4,"err"],[44,8,29,4,"err"],[44,11,29,7],[44,12,29,8,"type"],[44,16,29,4],[44,19,29,15],[44,35,29,4],[45,0,30,4,"err"],[45,8,30,4,"err"],[45,11,30,7],[45,12,30,8,"description"],[45,23,30,4],[45,26,30,22,"desc"],[45,30,30,4],[46,0,31,4],[46,13,31,9,"emit"],[46,17,31,4],[46,18,31,14],[46,25,31,4],[46,27,31,23,"err"],[46,30,31,4],[47,0,32,4],[47,15,32,11],[47,19,32,4],[48,0,33,3],[51,29,40,9],[52,0,41,4],[52,12,41,8],[52,25,41,21],[52,30,41,26,"readyState"],[52,40,41,8],[52,44,41,40],[52,51,41,47],[52,56,41,52,"readyState"],[52,66,41,4],[52,68,41,64],[53,0,42,6],[53,15,42,11,"readyState"],[53,25,42,6],[53,28,42,24],[53,37,42,6],[54,0,43,6],[54,15,43,11,"doOpen"],[54,21,43,6],[55,0,44,5],[57,0,46,4],[57,15,46,11],[57,19,46,4],[58,0,47,3],[61,30,54,10],[62,0,55,4],[62,12,55,8],[62,26,55,22],[62,31,55,27,"readyState"],[62,41,55,8],[62,45,55,41],[62,56,55,52],[62,61,55,57,"readyState"],[62,71,55,4],[62,73,55,69],[63,0,56,6],[63,15,56,11,"doClose"],[63,22,56,6],[64,0,57,6],[64,15,57,11,"onClose"],[64,22,57,6],[65,0,58,5],[67,0,60,4],[67,15,60,11],[67,19,60,4],[68,0,61,3],[71,27,69,7,"packets"],[71,34],[71,36,69,16],[72,0,70,4],[72,12,70,8],[72,23,70,19],[72,28,70,24,"readyState"],[72,38,70,4],[72,40,70,36],[73,0,71,6],[73,15,71,11,"write"],[73,20,71,6],[73,21,71,17,"packets"],[73,28,71,6],[74,0,72,5],[74,9,70,4],[74,15,72,11],[75,0,73,6],[75,16,73,12],[75,20,73,16,"Error"],[75,25,73,12],[75,26,73,22],[75,46,73,12],[75,47,73,6],[76,0,74,5],[77,0,75,3],[80,31,82,11],[81,0,83,4],[81,13,83,9,"readyState"],[81,23,83,4],[81,26,83,22],[81,32,83,4],[82,0,84,4],[82,13,84,9,"writable"],[82,21,84,4],[82,24,84,20],[82,28,84,4],[83,0,85,4],[83,13,85,9,"emit"],[83,17,85,4],[83,18,85,14],[83,24,85,4],[84,0,86,3],[87,29,94,9,"data"],[87,33],[87,35,94,15],[88,0,95,4],[88,12,95,10,"packet"],[88,18,95,16],[88,21,95,19,"parser"],[88,27,95,25],[88,28,95,26,"decodePacket"],[88,40,95,19],[88,41,95,39,"data"],[88,45,95,19],[88,47,95,45],[88,52,95,50,"socket"],[88,58,95,45],[88,59,95,57,"binaryType"],[88,69,95,19],[88,70,95,4],[89,0,96,4],[89,13,96,9,"onPacket"],[89,21,96,4],[89,22,96,18,"packet"],[89,28,96,4],[90,0,97,3],[93,31,102,11,"packet"],[93,37],[93,39,102,19],[94,0,103,4],[94,13,103,9,"emit"],[94,17,103,4],[94,18,103,14],[94,26,103,4],[94,28,103,24,"packet"],[94,34,103,4],[95,0,104,3],[98,32,111,12],[99,0,112,4],[99,13,112,9,"readyState"],[99,23,112,4],[99,26,112,22],[99,34,112,4],[100,0,113,4],[100,13,113,9,"emit"],[100,17,113,4],[100,18,113,14],[100,25,113,4],[101,0,114,3],[105,4,4,24,"Emitter"],[105,11],[107,0,117,0,"module"],[107,2,117,0,"module"],[107,8,117,6],[107,9,117,7,"exports"],[107,16,117,0],[107,19,117,17,"Transport"],[107,28,117,0]],"functionMap":{"names":["<global>","Transport","Transport#constructor","Transport#onError","Transport#open","Transport#close","Transport#send","Transport#onOpen","Transport#onData","Transport#onPacket","Transport#onClose"],"mappings":"AAA;ACG;ECO;GDO;EES;GFM;EGO;GHO;EIO;GJO;EKQ;GLM;EMO;GNI;EOQ;GPG;EQK;GRE;ESO;GTG;CDC"}},"type":"js/module"}]}