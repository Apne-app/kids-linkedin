{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"./NavigationBuilderContext","data":{"isAsync":false}},{"name":"./useOnPreventRemove","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){var n=t.router,s=t.getState,c=t.setState,v=t.key,l=t.actionListeners,y=t.beforeRemoveListeners,k=t.routerConfigOptions,h=t.emitter,p=o.useContext(u.default),R=p.onAction,S=p.onRouteFocus,b=p.addListener,A=p.onDispatchAction,C=o.useRef(k);o.useEffect(function(){C.current=k});var L=o.useCallback(function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,u=s();if(o.has(u.key))return!1;if(o.add(u.key),'string'!=typeof t.target||t.target===u.key){var k=n.getStateForAction(u,t,C.current);if(null!==(k=null===k&&t.target===u.key?u:k)){if(A(t,u===k),u!==k){var p=k.routes.map(function(t){return t.key}),b=u.routes.filter(function(t){return!p.includes(t.key)}),L=(0,f.shouldPreventRemove)(h,y,b,t);if(L)return!0;c(k)}if(void 0!==S){var _=n.shouldActionChangeFocus(t);_&&void 0!==v&&S(v)}return!0}}if(void 0!==R&&R(t,o))return!0;for(var F=l.length-1;F>=0;F--){var E=l[F];if(E(t,o))return!0}return!1},[l,y,h,s,v,R,A,S,n,c]);return(0,f.default)({getState:s,emitter:h,beforeRemoveListeners:y}),o.useEffect(function(){return null==b?void 0:b('action',L)},[b,L]),L};var o=n(r(d[2])),u=t(r(d[3])),f=n(r(d[4]))});","lineCount":1,"map":[[1,111,37,15],[1,120,37,15,"_ref"],[1,123,46,12],[1,127,38,2,"router"],[1,129,46,12,"_ref"],[1,131,38,2,"router"],[1,138,39,2,"getState"],[1,140,46,12,"_ref"],[1,142,39,2,"getState"],[1,151,40,2,"setState"],[1,153,46,12,"_ref"],[1,155,40,2,"setState"],[1,164,41,2,"key"],[1,166,46,12,"_ref"],[1,168,41,2,"key"],[1,172,42,2,"actionListeners"],[1,174,46,12,"_ref"],[1,176,42,2,"actionListeners"],[1,192,43,2,"beforeRemoveListeners"],[1,194,46,12,"_ref"],[1,196,43,2,"beforeRemoveListeners"],[1,218,44,2,"routerConfigOptions"],[1,220,46,12,"_ref"],[1,222,44,2,"routerConfigOptions"],[1,242,45,2,"emitter"],[1,244,46,12,"_ref"],[1,246,45,2,"emitter"],[1,254,46,12,"_React$useContext"],[1,256,52,6,"React"],[1,258,52,12,"useContext"],[1,269,52,23,"NavigationBuilderContext"],[1,271,52,23,"NavigationBuilderContext"],[1,280,48,14,"onActionParent"],[1,282,46,12,"_React$useContext"],[1,284,48,4,"onAction"],[1,293,49,18,"onRouteFocusParent"],[1,295,46,12,"_React$useContext"],[1,297,49,4,"onRouteFocus"],[1,310,50,17,"addListenerParent"],[1,312,46,12,"_React$useContext"],[1,314,50,4,"addListener"],[1,326,51,4,"onDispatchAction"],[1,328,46,12,"_React$useContext"],[1,330,51,4,"onDispatchAction"],[1,347,54,8,"routerConfigOptionsRef"],[1,349,54,33,"React"],[1,351,54,39,"useRef"],[1,358,55,4,"routerConfigOptions"],[1,361,58,2,"React"],[1,363,58,8,"useEffect"],[1,373,58,18],[1,384,59,4,"routerConfigOptionsRef"],[1,386,59,27,"current"],[1,394,59,37,"routerConfigOptions"],[1,398,62,2],[1,402,62,8,"onAction"],[1,404,62,19,"React"],[1,406,62,25,"useCallback"],[1,418,63,4],[1,427,64,6,"action"],[1,430,66,9],[1,434,65,6,"visitedNavigators"],[1,436,66,9,"arguments"],[1,446,66,9,"length"],[1,453,66,9],[1,461,66,9,"undefined"],[1,465,66,9,"arguments"],[1,475,66,9],[1,478,66,9,"arguments"],[1,488,66,9],[1,491,65,39],[1,495,65,43,"Set"],[1,499,67,12,"state"],[1,501,67,20,"getState"],[1,505,71,6],[1,508,71,10,"visitedNavigators"],[1,510,71,28,"has"],[1,514,71,32,"state"],[1,516,71,38,"key"],[1,521,72,8],[1,528,72,15],[1,530,77,6],[1,533,75,6,"visitedNavigators"],[1,535,75,24,"add"],[1,539,75,28,"state"],[1,541,75,34,"key"],[1,546,77,35],[1,563,77,17,"action"],[1,565,77,24,"target"],[1,573,77,47,"action"],[1,575,77,54,"target"],[1,584,77,65,"state"],[1,586,77,71,"key"],[1,590,77,76],[1,591,78,8],[1,595,78,12,"result"],[1,597,78,21,"router"],[1,599,78,28,"getStateForAction"],[1,617,79,10,"state"],[1,619,80,10,"action"],[1,621,81,10,"routerConfigOptionsRef"],[1,623,81,33,"current"],[1,632,89,8],[1,635,89,23],[1,643,86,8,"result"],[1,645,87,21],[1,652,87,10,"result"],[1,655,87,29,"action"],[1,657,87,36,"target"],[1,666,87,47,"state"],[1,668,87,53,"key"],[1,672,87,59,"state"],[1,674,87,67,"result"],[1,677,89,29],[1,678,92,10],[1,681,90,10,"onDispatchAction"],[1,683,90,27,"action"],[1,685,90,35,"state"],[1,689,90,45,"result"],[1,692,92,14,"state"],[1,696,92,24,"result"],[1,698,92,32],[1,699,93,12],[1,703,93,18,"nextRouteKeys"],[1,705,93,35,"result"],[1,707,93,42,"routes"],[1,714,93,59,"map"],[1,718,94,14],[1,727,94,15,"route"],[1,730,94,14],[1,737,94,43,"route"],[1,739,94,49,"key"],[1,745,97,18,"removedRoutes"],[1,747,97,34,"state"],[1,749,97,40,"routes"],[1,756,97,47,"filter"],[1,763,98,14],[1,772,98,15,"route"],[1,775,98,14],[1,782,98,26,"nextRouteKeys"],[1,784,98,40,"includes"],[1,793,98,49,"route"],[1,795,98,55,"key"],[1,802,101,18,"isPrevented"],[1,805,101,32],[1,807,101,32,"_useOnPreventRemove"],[1,809,101,32,"shouldPreventRemove"],[1,830,102,14,"emitter"],[1,832,103,14,"beforeRemoveListeners"],[1,834,104,14,"removedRoutes"],[1,836,105,14,"action"],[1,839,108,12],[1,842,108,16,"isPrevented"],[1,844,109,14],[1,851,109,21],[1,853,112,12,"setState"],[1,855,112,21,"result"],[1,858,115,10],[1,866,115,37,"undefined"],[1,870,115,14,"onRouteFocusParent"],[1,872,115,48],[1,873,118,12],[1,877,118,18,"shouldFocus"],[1,879,118,32,"router"],[1,881,118,39,"shouldActionChangeFocus"],[1,905,118,63,"action"],[1,908,120,16,"shouldFocus"],[1,916,120,39,"undefined"],[1,920,120,31,"key"],[1,923,121,14,"onRouteFocusParent"],[1,925,121,33,"key"],[1,928,125,10],[1,935,125,17],[1,938,129,6],[1,946,129,29,"undefined"],[1,950,129,10,"onActionParent"],[1,953,131,12,"onActionParent"],[1,955,131,27,"action"],[1,957,131,35,"visitedNavigators"],[1,960,132,10],[1,967,132,17],[1,969,137,6],[1,973,137,11],[1,977,137,15,"i"],[1,979,137,19,"actionListeners"],[1,981,137,35,"length"],[1,988,137,44],[1,990,137,47,"i"],[1,993,137,52],[1,995,137,55,"i"],[1,999,137,60],[1,1000,138,8],[1,1004,138,14,"listener"],[1,1006,138,25,"actionListeners"],[1,1008,138,41,"i"],[1,1011,140,8],[1,1014,140,12,"listener"],[1,1016,140,21,"action"],[1,1018,140,29,"visitedNavigators"],[1,1021,141,10],[1,1028,141,17],[1,1030,145,6],[1,1037,145,13],[1,1041,148,6,"actionListeners"],[1,1043,149,6,"beforeRemoveListeners"],[1,1045,150,6,"emitter"],[1,1047,151,6,"getState"],[1,1049,152,6,"key"],[1,1051,153,6,"onActionParent"],[1,1053,154,6,"onDispatchAction"],[1,1055,155,6,"onRouteFocusParent"],[1,1057,156,6,"router"],[1,1059,157,6,"setState"],[1,1063,172,2],[1,1070,161,2],[1,1072,161,2,"_useOnPreventRemove"],[1,1074,161,2,"default"],[1,1084,162,4,"getState"],[1,1093,162,4,"getState"],[1,1095,163,4,"emitter"],[1,1103,163,4,"emitter"],[1,1105,164,4,"beforeRemoveListeners"],[1,1127,164,4,"beforeRemoveListeners"],[1,1131,167,2,"React"],[1,1133,167,8,"useEffect"],[1,1143,167,18],[1,1154,167,18],[1,1161,167,18],[1,1167,167,24,"addListenerParent"],[1,1174,167,18,"undefined"],[1,1176,167,24,"addListenerParent"],[1,1178,167,44],[1,1187,167,54,"onAction"],[1,1192,168,4,"addListenerParent"],[1,1194,169,4,"onAction"],[1,1198,172,9,"onAction"],[1,1201,1,0],[1,1205,1,0,"React"],[1,1207,1,0,"_interopRequireWildcard"],[1,1209,1,0,"r"],[1,1211,1,0,"d"],[1,1213,1,0],[1,1218,9,0,"_NavigationBuilderContext"],[1,1220,9,0,"_interopRequireDefault"],[1,1222,9,0,"r"],[1,1224,9,0,"d"],[1,1226,9,0],[1,1231,13,0,"_useOnPreventRemove"],[1,1233,13,0,"_interopRequireWildcard"],[1,1235,13,0,"r"],[1,1237,13,0,"d"],[1,1239,13,0]],"functionMap":{"names":["<global>","useOnAction","React.useEffect$argument_0","React.useCallback$argument_0","map$argument_0","state.routes.filter$argument_0"],"mappings":"AAA;eCoC;kBCqB;GDE;IEG;cC+B,sCD;cEI,6CF;KFgD;kBCqB,6CD;CDM"}},"type":"js/module"}]}