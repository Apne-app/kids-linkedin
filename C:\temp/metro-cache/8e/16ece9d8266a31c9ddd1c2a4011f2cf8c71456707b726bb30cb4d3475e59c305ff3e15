{"dependencies":[{"name":"./constants","data":{"isAsync":false,"locs":[{"start":{"line":4,"column":18},"end":{"line":4,"column":40}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.setUpSocketIOPing = exports.appendQueryParams = exports.parseSocketIOUrl = void 0;\n\n  var constants_1 = _$$_REQUIRE(_dependencyMap[0], \"./constants\");\n\n  exports.parseSocketIOUrl = function (url) {\n    if (url) {\n      var isSecure = /^https|wss/.test(url);\n      var strippedProtocol = url.replace(/^(https?|wss?)(:\\/\\/)?/, '');\n      var removedFinalBackSlack = strippedProtocol.replace(/\\/$/, '');\n      var protocol = isSecure ? 'wss' : 'ws';\n      return protocol + \"://\" + removedFinalBackSlack + constants_1.SOCKET_IO_PATH;\n    } else if (url === '') {\n      var isSecure = /^https/.test(window.location.protocol);\n      var protocol = isSecure ? 'wss' : 'ws';\n      var port = window.location.port ? \":\" + window.location.port : '';\n      return protocol + \"://\" + window.location.hostname + port + constants_1.SOCKET_IO_PATH;\n    }\n\n    return url;\n  };\n\n  exports.appendQueryParams = function (url, params) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    var hasParamsRegex = /\\?([\\w]+=[\\w]+)/;\n    var alreadyHasParams = hasParamsRegex.test(url);\n    var stringified = \"\" + Object.entries(params).reduce(function (next, _a) {\n      var key = _a[0],\n          value = _a[1];\n      return next + (key + \"=\" + value + \"&\");\n    }, '').slice(0, -1);\n    return \"\" + url + (alreadyHasParams ? '&' : '?') + stringified;\n  };\n\n  exports.setUpSocketIOPing = function (sendMessage, interval) {\n    if (interval === void 0) {\n      interval = constants_1.SOCKET_IO_PING_INTERVAL;\n    }\n\n    var ping = function ping() {\n      return sendMessage(constants_1.SOCKET_IO_PING_CODE);\n    };\n\n    return setInterval(ping, interval);\n  };\n});","lineCount":54,"map":[[2,0,1,0],[4,0,2,0,"Object"],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,0],[4,24,2,22,"exports"],[4,31,2,0],[4,33,2,31],[4,45,2,0],[4,47,2,45],[5,0,2,47,"value"],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,0,2,45],[6,3,2,0],[7,0,3,0,"exports"],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"setUpSocketIOPing"],[7,27,3,0],[7,30,3,28,"exports"],[7,37,3,35],[7,38,3,36,"appendQueryParams"],[7,55,3,28],[7,58,3,56,"exports"],[7,65,3,63],[7,66,3,64,"parseSocketIOUrl"],[7,82,3,56],[7,85,3,83],[7,90,3,88],[7,91,3,0],[9,0,4,0],[9,6,4,4,"constants_1"],[9,17,4,15],[9,20,4,18,"require"],[9,31,4,25],[9,65,4,0],[11,0,5,0,"exports"],[11,2,5,0,"exports"],[11,9,5,7],[11,10,5,8,"parseSocketIOUrl"],[11,26,5,0],[11,29,5,27],[11,39,5,37,"url"],[11,42,5,27],[11,44,5,42],[12,0,6,4],[12,8,6,8,"url"],[12,11,6,4],[12,13,6,13],[13,0,7,8],[13,10,7,12,"isSecure"],[13,18,7,20],[13,21,7,23],[13,34,7,36,"test"],[13,38,7,23],[13,39,7,41,"url"],[13,42,7,23],[13,43,7,8],[14,0,8,8],[14,10,8,12,"strippedProtocol"],[14,26,8,28],[14,29,8,31,"url"],[14,32,8,34],[14,33,8,35,"replace"],[14,40,8,31],[14,41,8,43],[14,65,8,31],[14,67,8,69],[14,69,8,31],[14,70,8,8],[15,0,9,8],[15,10,9,12,"removedFinalBackSlack"],[15,31,9,33],[15,34,9,36,"strippedProtocol"],[15,50,9,52],[15,51,9,53,"replace"],[15,58,9,36],[15,59,9,61],[15,64,9,36],[15,66,9,68],[15,68,9,36],[15,69,9,8],[16,0,10,8],[16,10,10,12,"protocol"],[16,18,10,20],[16,21,10,23,"isSecure"],[16,29,10,31],[16,32,10,34],[16,37,10,31],[16,40,10,42],[16,44,10,8],[17,0,11,8],[17,13,11,15,"protocol"],[17,21,11,23],[17,24,11,26],[17,29,11,15],[17,32,11,34,"removedFinalBackSlack"],[17,53,11,15],[17,56,11,58,"constants_1"],[17,67,11,69],[17,68,11,70,"SOCKET_IO_PATH"],[17,82,11,8],[18,0,12,5],[18,5,6,4],[18,11,13,9],[18,15,13,13,"url"],[18,18,13,16],[18,23,13,21],[18,25,13,9],[18,27,13,25],[19,0,14,8],[19,10,14,12,"isSecure"],[19,18,14,20],[19,21,14,23],[19,30,14,32,"test"],[19,34,14,23],[19,35,14,37,"window"],[19,41,14,43],[19,42,14,44,"location"],[19,50,14,37],[19,51,14,53,"protocol"],[19,59,14,23],[19,60,14,8],[20,0,15,8],[20,10,15,12,"protocol"],[20,18,15,20],[20,21,15,23,"isSecure"],[20,29,15,31],[20,32,15,34],[20,37,15,31],[20,40,15,42],[20,44,15,8],[21,0,16,8],[21,10,16,12,"port"],[21,14,16,16],[21,17,16,19,"window"],[21,23,16,25],[21,24,16,26,"location"],[21,32,16,19],[21,33,16,35,"port"],[21,37,16,19],[21,40,16,42],[21,46,16,48,"window"],[21,52,16,54],[21,53,16,55,"location"],[21,61,16,48],[21,62,16,64,"port"],[21,66,16,19],[21,69,16,71],[21,71,16,8],[22,0,17,8],[22,13,17,15,"protocol"],[22,21,17,23],[22,24,17,26],[22,29,17,15],[22,32,17,34,"window"],[22,38,17,40],[22,39,17,41,"location"],[22,47,17,34],[22,48,17,50,"hostname"],[22,56,17,15],[22,59,17,61,"port"],[22,63,17,15],[22,66,17,68,"constants_1"],[22,77,17,79],[22,78,17,80,"SOCKET_IO_PATH"],[22,92,17,8],[23,0,18,5],[25,0,19,4],[25,11,19,11,"url"],[25,14,19,4],[26,0,20,1],[26,3,5,0],[28,0,21,0,"exports"],[28,2,21,0,"exports"],[28,9,21,7],[28,10,21,8,"appendQueryParams"],[28,27,21,0],[28,30,21,28],[28,40,21,38,"url"],[28,43,21,28],[28,45,21,43,"params"],[28,51,21,28],[28,53,21,51],[29,0,22,4],[29,8,22,8,"params"],[29,14,22,14],[29,19,22,19],[29,24,22,24],[29,25,22,4],[29,27,22,27],[30,0,22,29,"params"],[30,6,22,29,"params"],[30,12,22,35],[30,15,22,38],[30,17,22,29],[31,0,22,43],[33,0,23,4],[33,8,23,8,"hasParamsRegex"],[33,22,23,22],[33,25,23,25],[33,42,23,4],[34,0,24,4],[34,8,24,8,"alreadyHasParams"],[34,24,24,24],[34,27,24,27,"hasParamsRegex"],[34,41,24,41],[34,42,24,42,"test"],[34,46,24,27],[34,47,24,47,"url"],[34,50,24,27],[34,51,24,4],[35,0,25,4],[35,8,25,8,"stringified"],[35,19,25,19],[35,22,25,22],[35,27,25,27,"Object"],[35,33,25,33],[35,34,25,34,"entries"],[35,41,25,27],[35,42,25,42,"params"],[35,48,25,27],[35,50,25,50,"reduce"],[35,56,25,27],[35,57,25,57],[35,67,25,67,"next"],[35,71,25,57],[35,73,25,73,"_a"],[35,75,25,57],[35,77,25,77],[36,0,26,8],[36,10,26,12,"key"],[36,13,26,15],[36,16,26,18,"_a"],[36,18,26,20],[36,19,26,21],[36,20,26,20],[36,21,26,8],[37,0,26,8],[37,10,26,25,"value"],[37,15,26,30],[37,18,26,33,"_a"],[37,20,26,35],[37,21,26,36],[37,22,26,35],[37,23,26,8],[38,0,27,8],[38,13,27,15,"next"],[38,17,27,19],[38,21,27,23,"key"],[38,24,27,26],[38,27,27,29],[38,30,27,23],[38,33,27,35,"value"],[38,38,27,23],[38,41,27,43],[38,44,27,19],[38,45,27,8],[39,0,28,5],[39,5,25,27],[39,7,28,7],[39,9,25,27],[39,11,28,11,"slice"],[39,16,25,27],[39,17,28,17],[39,18,25,27],[39,20,28,20],[39,21,28,21],[39,22,25,27],[39,23,25,4],[40,0,29,4],[40,11,29,11],[40,16,29,16,"url"],[40,19,29,11],[40,23,29,23,"alreadyHasParams"],[40,39,29,39],[40,42,29,42],[40,45,29,39],[40,48,29,48],[40,51,29,11],[40,55,29,55,"stringified"],[40,66,29,4],[41,0,30,1],[41,3,21,0],[43,0,31,0,"exports"],[43,2,31,0,"exports"],[43,9,31,7],[43,10,31,8,"setUpSocketIOPing"],[43,27,31,0],[43,30,31,28],[43,40,31,38,"sendMessage"],[43,51,31,28],[43,53,31,51,"interval"],[43,61,31,28],[43,63,31,61],[44,0,32,4],[44,8,32,8,"interval"],[44,16,32,16],[44,21,32,21],[44,26,32,26],[44,27,32,4],[44,29,32,29],[45,0,32,31,"interval"],[45,6,32,31,"interval"],[45,14,32,39],[45,17,32,42,"constants_1"],[45,28,32,53],[45,29,32,54,"SOCKET_IO_PING_INTERVAL"],[45,52,32,31],[46,0,32,80],[48,0,33,4],[48,8,33,8,"ping"],[48,12,33,12],[48,15,33,15],[48,24,33,8,"ping"],[48,28,33,15],[48,31,33,27],[49,0,33,29],[49,13,33,36,"sendMessage"],[49,24,33,47],[49,25,33,48,"constants_1"],[49,36,33,59],[49,37,33,60,"SOCKET_IO_PING_CODE"],[49,56,33,47],[49,57,33,29],[50,0,33,83],[50,5,33,4],[52,0,34,4],[52,11,34,11,"setInterval"],[52,22,34,22],[52,23,34,23,"ping"],[52,27,34,22],[52,29,34,29,"interval"],[52,37,34,22],[52,38,34,4],[53,0,35,1],[53,3,31,0]],"functionMap":{"names":["<global>","exports.parseSocketIOUrl","exports.appendQueryParams","Object.entries.reduce$argument_0","exports.setUpSocketIOPing","ping"],"mappings":"AAA;2BCI;CDe;4BEC;yDCI;KDG;CFE;4BIC;eCE,oED;CJE"}},"type":"js/module"}]}