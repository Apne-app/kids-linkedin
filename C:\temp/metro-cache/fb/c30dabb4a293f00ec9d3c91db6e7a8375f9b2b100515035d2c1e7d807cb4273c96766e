{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"@react-navigation/routers","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useNavigationCache;\n\n  var _objectWithoutProperties2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/objectWithoutProperties\"));\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/defineProperty\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[4], \"react\"));\n\n  var _routers = _$$_REQUIRE(_dependencyMap[5], \"@react-navigation/routers\");\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function useNavigationCache(_ref) {\n    var state = _ref.state,\n        getState = _ref.getState,\n        navigation = _ref.navigation,\n        _setOptions = _ref.setOptions,\n        router = _ref.router,\n        emitter = _ref.emitter;\n    var cache = React.useMemo(function () {\n      return {\n        current: {}\n      };\n    }, [getState, navigation, _setOptions, router, emitter]);\n\n    var actions = _objectSpread(_objectSpread({}, router.actionCreators), _routers.CommonActions);\n\n    cache.current = state.routes.reduce(function (acc, route) {\n      var previous = cache.current[route.key];\n\n      if (previous) {\n        acc[route.key] = previous;\n      } else {\n        var emit = navigation.emit,\n            rest = (0, _objectWithoutProperties2.default)(navigation, [\"emit\"]);\n\n        var dispatch = function dispatch(action) {\n          var payload = typeof action === 'function' ? action(getState()) : action;\n          navigation.dispatch(typeof payload === 'object' && payload != null ? _objectSpread({\n            source: route.key\n          }, payload) : payload);\n        };\n\n        var helpers = Object.keys(actions).reduce(function (acc, name) {\n          acc[name] = function () {\n            return dispatch(actions[name].apply(actions, arguments));\n          };\n\n          return acc;\n        }, {});\n        acc[route.key] = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, rest), helpers), emitter.create(route.key)), {}, {\n          dispatch: dispatch,\n          setOptions: function setOptions(options) {\n            return _setOptions(function (o) {\n              return _objectSpread(_objectSpread({}, o), {}, (0, _defineProperty2.default)({}, route.key, _objectSpread(_objectSpread({}, o[route.key]), options)));\n            });\n          },\n          isFocused: function isFocused() {\n            var state = getState();\n\n            if (state.routes[state.index].key !== route.key) {\n              return false;\n            }\n\n            return navigation ? navigation.isFocused() : true;\n          }\n        });\n      }\n\n      return acc;\n    }, {});\n    return cache.current;\n  }\n});","lineCount":84,"map":[[15,0,1,0],[17,0,2,0],[23,0,37,15],[23,11,37,24,"useNavigationCache"],[23,29,37,15],[23,36,47,19],[24,0,47,19],[24,8,41,2,"state"],[24,13,47,19],[24,21,41,2,"state"],[24,26,47,19],[25,0,47,19],[25,8,42,2,"getState"],[25,16,47,19],[25,24,42,2,"getState"],[25,32,47,19],[26,0,47,19],[26,8,43,2,"navigation"],[26,18,47,19],[26,26,43,2,"navigation"],[26,36,47,19],[27,0,47,19],[27,8,44,2,"setOptions"],[27,19,47,19],[27,27,44,2,"setOptions"],[27,37,47,19],[28,0,47,19],[28,8,45,2,"router"],[28,14,47,19],[28,22,45,2,"router"],[28,28,47,19],[29,0,47,19],[29,8,46,2,"emitter"],[29,15,47,19],[29,23,46,2,"emitter"],[29,30,47,19],[30,0,51,2],[30,8,51,8,"cache"],[30,13,51,13],[30,16,51,16,"React"],[30,21,51,21],[30,22,51,22,"useMemo"],[30,29,51,16],[30,30,52,4],[31,0,52,4],[31,13,52,11],[32,0,52,13,"current"],[32,8,52,13,"current"],[32,15,52,20],[32,17,52,22],[33,0,52,11],[33,7,52,4],[34,0,52,4],[34,5,51,16],[34,7,54,4],[34,8,54,5,"getState"],[34,16,54,4],[34,18,54,15,"navigation"],[34,28,54,4],[34,30,54,27,"setOptions"],[34,41,54,4],[34,43,54,39,"router"],[34,49,54,4],[34,51,54,47,"emitter"],[34,58,54,4],[34,59,51,16],[34,60,51,2],[36,0,57,2],[36,8,57,8,"actions"],[36,15,57,15],[36,50,58,7,"router"],[36,56,58,13],[36,57,58,14,"actionCreators"],[36,71,57,15],[36,74,59,7,"CommonActions"],[36,96,57,15],[36,97,57,2],[38,0,62,2,"cache"],[38,4,62,2,"cache"],[38,9,62,7],[38,10,62,8,"current"],[38,17,62,2],[38,20,62,18,"state"],[38,25,62,23],[38,26,62,24,"routes"],[38,32,62,18],[38,33,62,31,"reduce"],[38,39,62,18],[38,40,63,4],[38,50,63,5,"acc"],[38,53,63,4],[38,55,63,10,"route"],[38,60,63,4],[38,62,63,20],[39,0,64,6],[39,10,64,12,"previous"],[39,18,64,20],[39,21,64,23,"cache"],[39,26,64,28],[39,27,64,29,"current"],[39,34,64,23],[39,35,64,37,"route"],[39,40,64,42],[39,41,64,43,"key"],[39,44,64,23],[39,45,64,6],[41,0,66,6],[41,10,66,10,"previous"],[41,18,66,6],[41,20,66,20],[42,0,68,8,"acc"],[42,8,68,8,"acc"],[42,11,68,11],[42,12,68,12,"route"],[42,17,68,17],[42,18,68,18,"key"],[42,21,68,11],[42,22,68,8],[42,25,68,25,"previous"],[42,33,68,8],[43,0,69,7],[43,7,66,6],[43,13,69,13],[44,0,69,13],[44,12,71,16,"emit"],[44,16,69,13],[44,19,71,34,"navigation"],[44,29,69,13],[44,30,71,16,"emit"],[44,34,69,13],[45,0,69,13],[45,12,71,25,"rest"],[45,16,69,13],[45,58,71,34,"navigation"],[45,68,69,13],[47,0,73,8],[47,12,73,14,"dispatch"],[47,20,73,22],[47,23,73,25],[47,32,73,14,"dispatch"],[47,40,73,25],[47,41,74,10,"action"],[47,47,73,25],[47,49,75,13],[48,0,76,10],[48,14,76,16,"payload"],[48,21,76,23],[48,24,77,12],[48,31,77,19,"action"],[48,37,77,12],[48,42,77,30],[48,52,77,12],[48,55,77,43,"action"],[48,61,77,49],[48,62,77,50,"getState"],[48,70,77,58],[48,72,77,49],[48,73,77,12],[48,76,77,64,"action"],[48,82,76,10],[49,0,79,10,"navigation"],[49,10,79,10,"navigation"],[49,20,79,20],[49,21,79,21,"dispatch"],[49,29,79,10],[49,30,80,12],[49,37,80,19,"payload"],[49,44,80,12],[49,49,80,31],[49,57,80,12],[49,61,80,43,"payload"],[49,68,80,50],[49,72,80,54],[49,76,80,12],[50,0,81,18,"source"],[50,12,81,18,"source"],[50,18,81,24],[50,20,81,26,"route"],[50,25,81,31],[50,26,81,32,"key"],[51,0,80,12],[51,13,81,40,"payload"],[51,20,80,12],[51,24,82,16,"payload"],[51,31,79,10],[52,0,84,9],[52,9,73,8],[54,0,86,8],[54,12,86,14,"helpers"],[54,19,86,21],[54,22,86,24,"Object"],[54,28,86,30],[54,29,86,31,"keys"],[54,33,86,24],[54,34,86,36,"actions"],[54,41,86,24],[54,43,86,45,"reduce"],[54,49,86,24],[54,50,87,10],[54,60,87,11,"acc"],[54,63,87,10],[54,65,87,16,"name"],[54,69,87,10],[54,71,87,25],[55,0,89,12,"acc"],[55,10,89,12,"acc"],[55,13,89,15],[55,14,89,16,"name"],[55,18,89,15],[55,19,89,12],[55,22,89,24],[56,0,89,24],[56,19,89,42,"dispatch"],[56,27,89,50],[56,28,89,51,"actions"],[56,35,89,58],[56,36,89,59,"name"],[56,40,89,58],[56,41,89,51],[56,48,89,51,"actions"],[56,55,89,58],[56,67,89,50],[56,68,89,24],[57,0,89,24],[57,11,89,12],[59,0,90,12],[59,17,90,19,"acc"],[59,20,90,12],[60,0,91,11],[60,9,86,24],[60,11,92,10],[60,13,86,24],[60,14,86,8],[61,0,95,8,"acc"],[61,8,95,8,"acc"],[61,11,95,11],[61,12,95,12,"route"],[61,17,95,17],[61,18,95,18,"key"],[61,21,95,11],[61,22,95,8],[61,85,96,13,"rest"],[61,89,95,8],[61,92,97,13,"helpers"],[61,99,95,8],[61,102,98,13,"emitter"],[61,109,98,20],[61,110,98,21,"create"],[61,116,98,13],[61,117,98,28,"route"],[61,122,98,33],[61,123,98,34,"key"],[61,126,98,13],[61,127,95,8],[62,0,99,10,"dispatch"],[62,10,99,10,"dispatch"],[62,18,99,18],[62,20,99,10,"dispatch"],[62,28,95,8],[63,0,100,10,"setOptions"],[63,10,100,10,"setOptions"],[63,20,100,20],[63,22,100,22],[63,42,100,23,"options"],[63,49,100,22],[64,0,100,22],[64,19,101,12,"setOptions"],[64,30,101,22],[64,31,101,23],[64,41,101,24,"o"],[64,42,101,23],[65,0,101,23],[65,53,102,17,"o"],[65,54,101,23],[65,95,103,15,"route"],[65,100,103,20],[65,101,103,21,"key"],[65,104,101,23],[65,138,103,32,"o"],[65,139,103,33],[65,140,103,34,"route"],[65,145,103,39],[65,146,103,40,"key"],[65,149,103,33],[65,150,101,23],[65,153,103,49,"options"],[65,160,101,23],[66,0,101,23],[66,13,101,22],[66,14,100,22],[67,0,100,22],[67,11,95,8],[68,0,105,10,"isFocused"],[68,10,105,10,"isFocused"],[68,19,105,19],[68,21,105,21],[68,42,105,27],[69,0,106,12],[69,16,106,18,"state"],[69,21,106,23],[69,24,106,26,"getState"],[69,32,106,34],[69,34,106,12],[71,0,108,12],[71,16,108,16,"state"],[71,21,108,21],[71,22,108,22,"routes"],[71,28,108,16],[71,29,108,29,"state"],[71,34,108,34],[71,35,108,35,"index"],[71,40,108,16],[71,42,108,42,"key"],[71,45,108,16],[71,50,108,50,"route"],[71,55,108,55],[71,56,108,56,"key"],[71,59,108,12],[71,61,108,61],[72,0,109,14],[72,21,109,21],[72,26,109,14],[73,0,110,13],[75,0,114,12],[75,19,114,19,"navigation"],[75,29,114,29],[75,32,114,32,"navigation"],[75,42,114,42],[75,43,114,43,"isFocused"],[75,52,114,32],[75,54,114,29],[75,57,114,57],[75,61,114,12],[76,0,115,11],[77,0,95,8],[78,0,117,7],[80,0,119,6],[80,13,119,13,"acc"],[80,16,119,6],[81,0,120,5],[81,5,62,18],[81,7,121,4],[81,9,62,18],[81,10,62,2],[82,0,124,2],[82,11,124,9,"cache"],[82,16,124,14],[82,17,124,15,"current"],[82,24,124,2],[83,0,125,1]],"functionMap":{"names":["<global>","useNavigationCache","React.useMemo$argument_0","state.routes.reduce$argument_0","dispatch","Object.keys.reduce$argument_0","acc.name","acc.route.key.setOptions","setOptions$argument_0","acc.route.key.isFocused"],"mappings":"AAA;eCoC;ICe,gED;IEW;yBCU;SDW;UEG;wBCE,kDD;WFE;sBIS;uBCC;cDG,CJ;qBMC;WNU;KFK;CDK"}},"type":"js/module"}]}