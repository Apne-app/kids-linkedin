{"dependencies":[{"name":"../BatchedBridge/BatchedBridge","data":{"isAsync":false,"locs":[{"start":{"line":13,"column":22},"end":{"line":13,"column":63}}]}},{"name":"../vendor/emitter/EventEmitter","data":{"isAsync":false,"locs":[{"start":{"line":14,"column":21},"end":{"line":14,"column":62}}]}},{"name":"./TaskQueue","data":{"isAsync":false,"locs":[{"start":{"line":15,"column":18},"end":{"line":15,"column":40}}]}},{"name":"../Utilities/infoLog","data":{"isAsync":false,"locs":[{"start":{"line":17,"column":16},"end":{"line":17,"column":47}}]}},{"name":"invariant","data":{"isAsync":false,"locs":[{"start":{"line":18,"column":18},"end":{"line":18,"column":38}}]}},{"name":"fbjs/lib/keyMirror","data":{"isAsync":false,"locs":[{"start":{"line":19,"column":18},"end":{"line":19,"column":47}}]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),c=(r(d[3]),r(d[4])),s=r(d[5]),u=new t,l={Events:s({interactionStart:!0,interactionComplete:!0}),runAfterInteractions:function(n){var t=[],o=new Promise(function(o){k(),n&&t.push(n),t.push({run:o,name:'resolve '+(n&&n.name||'?')}),h.enqueueTasks(t)});return{then:o.then.bind(o),done:function(){if(o.done)return o.done.apply(o,arguments);console.warn('Tried to call done when not supported by current Promise implementation.')},cancel:function(){h.cancelTasks(t)}}},createInteractionHandle:function(){k();var n=++T;return p.add(n),n},clearInteractionHandle:function(n){c(!!n,'InteractionManager: Must provide a handle to clear.'),k(),p.delete(n),v.add(n)},addListener:u.addListener.bind(u),setDeadline:function(n){E=n}},f=new Set,p=new Set,v=new Set,h=new o({onMoreTasks:k}),w=0,T=0,E=-1;function k(){w||(w=E>0?setTimeout(I,0):setImmediate(I))}function I(){w=0;var t=f.size;p.forEach(function(n){return f.add(n)}),v.forEach(function(n){return f.delete(n)});var o=f.size;if(0!==t&&0===o?u.emit(l.Events.interactionComplete):0===t&&0!==o&&u.emit(l.Events.interactionStart),0===o)for(;h.hasTasksToProcess();)if(h.processNext(),E>0&&n.getEventLoopRunningTime()>=E){k();break}p.clear(),v.clear()}m.exports=l});","lineCount":1,"map":[[1,28,11,0],[1,41,13,0],[1,45,13,6,"BatchedBridge"],[1,47,13,22,"require"],[1,49,13,29,"d"],[1,51,13,29],[1,55,14,6,"EventEmitter"],[1,57,14,21,"require"],[1,59,14,28,"d"],[1,61,14,28],[1,65,15,6,"TaskQueue"],[1,67,15,18,"require"],[1,69,15,25,"d"],[1,71,15,25],[1,75,18,6,"invariant"],[1,78,17,16,"require"],[1,80,17,23,"d"],[1,82,17,23],[1,86,18,18,"require"],[1,88,18,25,"d"],[1,90,18,25],[1,95,19,6,"keyMirror"],[1,97,19,18,"require"],[1,99,19,25,"d"],[1,101,19,25],[1,105,24,6,"_emitter"],[1,107,24,17],[1,111,24,21,"EventEmitter"],[1,113,78,6,"InteractionManager"],[1,116,79,2,"Events"],[1,123,79,10,"keyMirror"],[1,126,80,4,"interactionStart"],[1,144,80,22],[1,146,81,4,"interactionComplete"],[1,167,81,25],[1,171,88,2,"runAfterInteractions"],[1,192,78,27],[1,201,89,4,"task"],[1,204,96,4],[1,208,96,10,"tasks"],[1,213,97,10,"promise"],[1,215,97,20],[1,219,97,24,"Promise"],[1,227,97,32],[1,236,97,32,"resolve"],[1,239,98,6,"_scheduleUpdate"],[1,243,99,10,"task"],[1,246,100,8,"tasks"],[1,248,100,14,"push"],[1,253,100,19,"task"],[1,256,102,6,"tasks"],[1,258,102,12,"push"],[1,264,103,8,"run"],[1,268,103,13,"resolve"],[1,270,104,8,"name"],[1,275,104,14],[1,287,104,29,"task"],[1,290,104,37,"task"],[1,292,104,42,"name"],[1,298,104,51],[1,305,106,6,"_taskQueue"],[1,307,106,17,"enqueueTasks"],[1,320,106,30,"tasks"],[1,325,108,4],[1,332,109,6,"then"],[1,337,109,12,"promise"],[1,339,109,20,"then"],[1,344,109,25,"bind"],[1,349,109,30,"promise"],[1,352,110,6,"done"],[1,357,110,12],[1,368,111,8],[1,371,111,12,"promise"],[1,373,111,20,"done"],[1,378,112,10],[1,385,112,17,"promise"],[1,387,112,25,"done"],[1,392,112,17,"apply"],[1,398,112,17,"promise"],[1,400,112,24,"arguments"],[1,411,114,10,"console"],[1,419,114,18,"warn"],[1,424,115,12],[1,501,119,6,"cancel"],[1,508,119,14],[1,519,120,8,"_taskQueue"],[1,521,120,19,"cancelTasks"],[1,533,120,31,"tasks"],[1,539,128,2,"createInteractionHandle"],[1,563,78,27],[1,574,130,4,"_scheduleUpdate"],[1,578,131,4],[1,582,131,10,"handle"],[1,586,131,21,"_inc"],[1,588,133,4],[1,595,132,4,"_addInteractionSet"],[1,597,132,23,"add"],[1,601,132,27,"handle"],[1,604,133,11,"handle"],[1,607,139,2,"clearInteractionHandle"],[1,630,78,27],[1,639,139,25,"handle"],[1,642,141,4,"invariant"],[1,646,141,16,"handle"],[1,648,141,24],[1,703,142,4,"_scheduleUpdate"],[1,707,143,4,"_addInteractionSet"],[1,709,143,23,"delete"],[1,716,143,30,"handle"],[1,719,144,4,"_deleteInteractionSet"],[1,721,144,26,"add"],[1,725,144,30,"handle"],[1,729,147,2,"addListener"],[1,741,147,16,"_emitter"],[1,743,147,25,"addListener"],[1,755,147,37,"bind"],[1,760,147,42,"_emitter"],[1,763,154,2,"setDeadline"],[1,775,78,27],[1,784,154,14,"deadline"],[1,787,155,4,"_deadline"],[1,789,155,16,"deadline"],[1,793,159,6,"_interactionSet"],[1,795,159,24],[1,799,159,28,"Set"],[1,803,160,6,"_addInteractionSet"],[1,805,160,27],[1,809,160,31,"Set"],[1,813,161,6,"_deleteInteractionSet"],[1,815,161,30],[1,819,161,34,"Set"],[1,823,162,6,"_taskQueue"],[1,825,162,19],[1,829,162,23,"TaskQueue"],[1,832,162,34,"onMoreTasks"],[1,844,162,47,"_scheduleUpdate"],[1,848,163,4,"_nextUpdateHandle"],[1,850,163,24],[1,852,164,4,"_inc"],[1,854,164,11],[1,856,165,4,"_deadline"],[1,859,165,13],[1,861,172,0],[1,870,172,9,"_scheduleUpdate"],[1,874,173,7,"_nextUpdateHandle"],[1,878,178,6,"_nextUpdateHandle"],[1,880,174,8,"_deadline"],[1,882,174,20],[1,884,178,26,"setTimeout"],[1,895,178,37,"_processUpdate"],[1,897,178,36],[1,900,180,26,"setImmediate"],[1,913,180,39,"_processUpdate"],[1,917,188,0],[1,926,188,9,"_processUpdate"],[1,930,189,2,"_nextUpdateHandle"],[1,932,189,22],[1,934,191,2],[1,938,191,8,"interactionCount"],[1,940,191,27,"_interactionSet"],[1,942,191,43,"size"],[1,947,192,2,"_addInteractionSet"],[1,949,192,21,"forEach"],[1,957,192,29],[1,966,192,29,"handle"],[1,969,192,35],[1,976,192,39,"_interactionSet"],[1,978,192,55,"add"],[1,982,192,59,"handle"],[1,987,193,2,"_deleteInteractionSet"],[1,989,193,24,"forEach"],[1,997,193,32],[1,1006,193,32,"handle"],[1,1009,193,38],[1,1016,193,42,"_interactionSet"],[1,1018,193,58,"delete"],[1,1025,193,65,"handle"],[1,1030,194,2],[1,1034,194,8,"nextInteractionCount"],[1,1036,194,31,"_interactionSet"],[1,1038,194,47,"size"],[1,1043,205,2],[1,1046,196,27],[1,1050,196,6,"interactionCount"],[1,1053,196,57],[1,1057,196,32,"nextInteractionCount"],[1,1059,198,4,"_emitter"],[1,1061,198,13,"emit"],[1,1066,198,18,"InteractionManager"],[1,1068,198,37,"Events"],[1,1075,198,44,"interactionComplete"],[1,1096,199,34],[1,1100,199,13,"interactionCount"],[1,1103,199,64],[1,1107,199,39,"nextInteractionCount"],[1,1110,201,4,"_emitter"],[1,1112,201,13,"emit"],[1,1117,201,18,"InteractionManager"],[1,1119,201,37,"Events"],[1,1126,201,44,"interactionStart"],[1,1144,205,31],[1,1148,205,6,"nextInteractionCount"],[1,1150,206,4],[1,1155,206,11,"_taskQueue"],[1,1157,206,22,"hasTasksToProcess"],[1,1178,208,6],[1,1181,207,6,"_taskQueue"],[1,1183,207,17,"processNext"],[1,1197,209,8,"_deadline"],[1,1199,209,20],[1,1202,210,8,"BatchedBridge"],[1,1204,210,22,"getEventLoopRunningTime"],[1,1231,210,51,"_deadline"],[1,1233,211,8],[1,1234,213,8,"_scheduleUpdate"],[1,1238,214,8],[1,1244,218,2,"_addInteractionSet"],[1,1246,218,21,"clear"],[1,1254,219,2,"_deleteInteractionSet"],[1,1256,219,24,"clear"],[1,1264,222,0,"module"],[1,1266,222,7,"exports"],[1,1274,222,17,"InteractionManager"]],"functionMap":{"names":["<global>","runAfterInteractions","Promise$argument_0","done","cancel","createInteractionHandle","clearInteractionHandle","setDeadline","_scheduleUpdate","_processUpdate","_addInteractionSet.forEach$argument_0","_deleteInteractionSet.forEach$argument_0"],"mappings":"AAA;ECuF;gCCS;KDU;YEG;OFQ;cGC;OHE;GDE;EKK;GLM;EMK;GNM;EOS;GPE;AQgB;CRW;ASK;6BCI,qCD;gCEC,wCF;CT2B"}},"type":"js/module"}]}