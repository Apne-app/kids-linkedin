{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false}},{"name":"./errors","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),s=function(){this.initialize.apply(this,arguments)};s.prototype={initialize:function(t,n){this.client=t,this.token=n,this.signature=n},buildURL:function(){for(var t='reaction/',n=0;n<arguments.length;n++)t+=arguments[n]+'/';return t},all:function(t,n){return this.client.get({url:this.buildURL(),signature:this.signature},n)},_convertTargetFeeds:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){return'string'==typeof t?t:t.id})},add:function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=u.id,l=u.targetFeeds,h=void 0===l?[]:l,c=u.userId,_=u.targetFeedsExtraData,v=arguments.length>4?arguments[4]:void 0;n instanceof Object&&(n=n.id);var f={id:o,activity_id:n,kind:t,data:s,target_feeds:h=this._convertTargetFeeds(h),user_id:c};return null!=_&&(f.target_feeds_extra_data=_),this.client.post({url:this.buildURL(),body:f,signature:this.signature},v)},addChild:function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=u.targetFeeds,l=void 0===o?[]:o,h=u.userId,c=u.targetFeedsExtraData,_=arguments.length>4?arguments[4]:void 0;n instanceof Object&&(n=n.id);var v={parent:n,kind:t,data:s,target_feeds:l=this._convertTargetFeeds(l),user_id:h};return null!=c&&(v.target_feeds_extra_data=c),this.client.post({url:this.buildURL(),body:v,signature:this.signature},_)},get:function(t,n){return this.client.get({url:this.buildURL(t),signature:this.signature},n)},filter:function(s,u){var o=s.user_id,l=s.activity_id,h=s.reaction_id,c=t(s,[\"user_id\",\"activity_id\",\"reaction_id\"]);if(c.limit||(c.limit=10),(o?1:0)+(l?1:0)+(h?1:0)!=1)throw new n.SiteError('Must provide exactly one value for one of these params: user_id, activity_id, reaction_id');var _=(o?'user_id':l&&'activity_id')||h&&'reaction_id',v=o||l||h,f=this.buildURL(_,v);return s.kind&&(f=this.buildURL(_,v,s.kind)),this.client.get({url:f,qs:c,signature:this.signature},u)},update:function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=s.targetFeeds,o=void 0===u?[]:u,l=s.targetFeedsExtraData,h=arguments.length>3?arguments[3]:void 0,c={data:n,target_feeds:o=this._convertTargetFeeds(o)};return null!=l&&(c.target_feeds_extra_data=l),this.client.put({url:this.buildURL(t),body:c,signature:this.signature},h)},delete:function(t,n){return this.client.delete({url:this.buildURL(t),signature:this.signature},n)}},m.exports=s});","lineCount":1,"map":[[1,28,1,0],[1,32,1,4,"_objectWithoutProperties"],[1,34,1,31,"require"],[1,36,1,38,"d"],[1,38,1,38],[1,42,3,4,"errors"],[1,44,3,13,"require"],[1,46,3,20,"d"],[1,48,3,20],[1,52,5,4,"StreamReaction"],[1,54,5,21],[1,65,6,2,"this"],[1,70,6,7,"initialize"],[1,81,6,18,"apply"],[1,87,6,24,"this"],[1,92,6,30,"arguments"],[1,104,9,0,"StreamReaction"],[1,106,9,15,"prototype"],[1,117,10,2,"initialize"],[1,128,10,14],[1,137,10,34,"client"],[1,139,10,42,"token"],[1,142,19,4,"this"],[1,147,19,9,"client"],[1,154,19,18,"client"],[1,156,20,4,"this"],[1,161,20,9,"token"],[1,167,20,17,"token"],[1,169,21,4,"this"],[1,174,21,9,"signature"],[1,184,21,21,"token"],[1,187,23,2,"buildURL"],[1,196,23,12],[1,207,26,4],[1,211,24,4],[1,215,24,8,"url"],[1,217,24,14],[1,229,26,13,"i"],[1,231,26,17],[1,233,26,20,"i"],[1,235,26,24,"arguments"],[1,245,26,34,"length"],[1,252,26,42,"i"],[1,256,27,6,"url"],[1,259,27,13,"arguments"],[1,269,27,23,"i"],[1,272,27,28],[1,276,30,4],[1,283,30,11,"url"],[1,286,32,2,"all"],[1,290,32,7],[1,299,32,20,"options"],[1,301,32,29,"callback"],[1,304,43,4],[1,311,43,11,"this"],[1,316,43,16,"client"],[1,323,43,23,"get"],[1,328,44,6,"url"],[1,332,44,11,"this"],[1,337,44,16,"buildURL"],[1,348,45,6,"signature"],[1,358,45,17,"this"],[1,363,45,22,"signature"],[1,374,46,7,"callback"],[1,378,48,2,"_convertTargetFeeds"],[1,398,48,23],[1,409,50,4],[1,416,49,22,"arguments"],[1,426,49,32,"length"],[1,433,49,41],[1,441,49,63,"undefined"],[1,445,49,46,"arguments"],[1,455,49,56],[1,458,49,75,"arguments"],[1,468,49,85],[1,475,50,23,"map"],[1,479,50,27],[1,488,50,37,"elem"],[1,491,51,6],[1,497,51,29],[1,514,51,20,"elem"],[1,516,51,40,"elem"],[1,518,51,47,"elem"],[1,520,51,52,"id"],[1,526,54,2,"add"],[1,530,54,7],[1,539,54,20,"kind"],[1,541,54,26,"activity"],[1,544,55,4],[1,548,55,8,"data"],[1,550,55,15,"arguments"],[1,560,55,25,"length"],[1,567,55,34],[1,575,55,56,"undefined"],[1,579,55,39,"arguments"],[1,589,55,49],[1,592,55,68,"arguments"],[1,602,55,78],[1,608,57,8,"_ref"],[1,610,57,15,"arguments"],[1,620,57,25,"length"],[1,627,57,34],[1,635,57,56,"undefined"],[1,639,57,39,"arguments"],[1,649,57,49],[1,652,57,68,"arguments"],[1,662,57,78],[1,668,58,8,"id"],[1,670,58,13,"_ref"],[1,672,58,18,"id"],[1,675,59,8,"_ref$targetFeeds"],[1,677,59,27,"_ref"],[1,679,59,32,"targetFeeds"],[1,691,60,8,"targetFeeds"],[1,698,60,38,"undefined"],[1,702,60,22,"_ref$targetFeeds"],[1,707,60,57,"_ref$targetFeeds"],[1,709,61,8,"userId"],[1,711,61,17,"_ref"],[1,713,61,22,"userId"],[1,720,62,8,"targetFeedsExtraData"],[1,722,62,31,"_ref"],[1,724,62,36,"targetFeedsExtraData"],[1,745,64,8,"callback"],[1,747,64,19,"arguments"],[1,757,64,29,"length"],[1,764,64,38],[1,766,64,42,"arguments"],[1,776,64,52],[1,784,64,57,"undefined"],[1,786,79,8,"activity"],[1,799,79,28,"Object"],[1,808,80,6,"activity"],[1,810,80,17,"activity"],[1,812,80,26,"id"],[1,816,84,4],[1,820,84,8,"body"],[1,823,85,6,"id"],[1,826,85,10,"id"],[1,828,86,6,"activity_id"],[1,840,86,19,"activity"],[1,842,87,6,"kind"],[1,847,87,12,"kind"],[1,849,88,6,"data"],[1,854,88,12,"data"],[1,856,89,6,"target_feeds"],[1,869,83,4,"targetFeeds"],[1,871,83,18,"this"],[1,876,83,23,"_convertTargetFeeds"],[1,896,83,43,"targetFeeds"],[1,899,90,6,"user_id"],[1,907,90,15,"userId"],[1,910,97,4],[1,917,93,32],[1,923,93,8,"targetFeedsExtraData"],[1,927,94,6,"body"],[1,929,94,11,"target_feeds_extra_data"],[1,953,94,37,"targetFeedsExtraData"],[1,956,97,11,"this"],[1,961,97,16,"client"],[1,968,97,23,"post"],[1,974,98,6,"url"],[1,978,98,11,"this"],[1,983,98,16,"buildURL"],[1,994,99,6,"body"],[1,999,99,12,"body"],[1,1001,100,6,"signature"],[1,1011,100,17,"this"],[1,1016,100,22,"signature"],[1,1027,101,7,"callback"],[1,1031,103,2,"addChild"],[1,1040,103,12],[1,1049,103,30,"kind"],[1,1051,103,36,"reaction"],[1,1054,104,4],[1,1058,104,8,"data"],[1,1060,104,15,"arguments"],[1,1070,104,25,"length"],[1,1077,104,34],[1,1085,104,56,"undefined"],[1,1089,104,39,"arguments"],[1,1099,104,49],[1,1102,104,68,"arguments"],[1,1112,104,78],[1,1118,106,8,"_ref2"],[1,1120,106,16,"arguments"],[1,1130,106,26,"length"],[1,1137,106,35],[1,1145,106,57,"undefined"],[1,1149,106,40,"arguments"],[1,1159,106,50],[1,1162,106,69,"arguments"],[1,1172,106,79],[1,1178,107,8,"_ref2$targetFeeds"],[1,1180,107,28,"_ref2"],[1,1182,107,34,"targetFeeds"],[1,1194,108,8,"targetFeeds"],[1,1201,108,39,"undefined"],[1,1205,108,22,"_ref2$targetFeeds"],[1,1210,108,58,"_ref2$targetFeeds"],[1,1212,109,8,"userId"],[1,1214,109,17,"_ref2"],[1,1216,109,23,"userId"],[1,1223,110,8,"targetFeedsExtraData"],[1,1225,110,31,"_ref2"],[1,1227,110,37,"targetFeedsExtraData"],[1,1248,112,8,"callback"],[1,1250,112,19,"arguments"],[1,1260,112,29,"length"],[1,1267,112,38],[1,1269,112,42,"arguments"],[1,1279,112,52],[1,1287,112,57,"undefined"],[1,1289,127,8,"reaction"],[1,1302,127,28,"Object"],[1,1311,128,6,"reaction"],[1,1313,128,17,"reaction"],[1,1315,128,26,"id"],[1,1319,132,4],[1,1323,132,8,"body"],[1,1326,133,6,"parent"],[1,1333,133,14,"reaction"],[1,1335,134,6,"kind"],[1,1340,134,12,"kind"],[1,1342,135,6,"data"],[1,1347,135,12,"data"],[1,1349,136,6,"target_feeds"],[1,1362,131,4,"targetFeeds"],[1,1364,131,18,"this"],[1,1369,131,23,"_convertTargetFeeds"],[1,1389,131,43,"targetFeeds"],[1,1392,137,6,"user_id"],[1,1400,137,15,"userId"],[1,1403,144,4],[1,1410,140,32],[1,1416,140,8,"targetFeedsExtraData"],[1,1420,141,6,"body"],[1,1422,141,11,"target_feeds_extra_data"],[1,1446,141,37,"targetFeedsExtraData"],[1,1449,144,11,"this"],[1,1454,144,16,"client"],[1,1461,144,23,"post"],[1,1467,145,6,"url"],[1,1471,145,11,"this"],[1,1476,145,16,"buildURL"],[1,1487,146,6,"body"],[1,1492,146,12,"body"],[1,1494,147,6,"signature"],[1,1504,147,17,"this"],[1,1509,147,22,"signature"],[1,1520,148,7,"callback"],[1,1524,150,2,"get"],[1,1528,150,7],[1,1537,150,20,"id"],[1,1539,150,24,"callback"],[1,1542,160,4],[1,1549,160,11,"this"],[1,1554,160,16,"client"],[1,1561,160,23,"get"],[1,1566,161,6,"url"],[1,1570,161,11,"this"],[1,1575,161,16,"buildURL"],[1,1584,161,25,"id"],[1,1587,162,6,"signature"],[1,1597,162,17,"this"],[1,1602,162,22,"signature"],[1,1613,163,7,"callback"],[1,1617,165,2,"filter"],[1,1624,165,10],[1,1633,165,26,"conditions"],[1,1635,165,38,"callback"],[1,1638,181,4],[1,1642,181,8,"user_id"],[1,1644,181,18,"conditions"],[1,1646,181,29,"user_id"],[1,1654,182,8,"activity_id"],[1,1656,182,22,"conditions"],[1,1658,182,33,"activity_id"],[1,1670,183,8,"reaction_id"],[1,1672,183,22,"conditions"],[1,1674,183,33,"reaction_id"],[1,1686,184,8,"qs"],[1,1688,184,13,"_objectWithoutProperties"],[1,1690,184,38,"conditions"],[1,1693,184,51],[1,1703,184,62],[1,1717,184,77],[1,1733,190,4],[1,1736,186,9,"qs"],[1,1738,186,12,"limit"],[1,1746,187,6,"qs"],[1,1748,187,9,"limit"],[1,1754,187,17],[1,1759,190,9,"user_id"],[1,1761,190,19],[1,1763,190,23],[1,1767,190,29,"activity_id"],[1,1769,190,43],[1,1771,190,47],[1,1775,190,53,"reaction_id"],[1,1777,190,67],[1,1779,190,71],[1,1783,190,77],[1,1785,191,6],[1,1791,191,12],[1,1795,191,16,"errors"],[1,1797,191,23,"SiteError"],[1,1807,191,33],[1,1900,194,4],[1,1904,194,8,"lookupType"],[1,1907,194,21,"user_id"],[1,1909,194,32],[1,1919,194,45,"activity_id"],[1,1922,194,60],[1,1938,194,77,"reaction_id"],[1,1941,194,92],[1,1955,195,8,"value"],[1,1957,195,16,"user_id"],[1,1960,195,27,"activity_id"],[1,1963,195,42,"reaction_id"],[1,1965,196,8,"url"],[1,1967,196,14,"this"],[1,1972,196,19,"buildURL"],[1,1981,196,28,"lookupType"],[1,1983,196,40,"value"],[1,1986,202,4],[1,1993,198,8,"conditions"],[1,1995,198,19,"kind"],[1,2002,199,6,"url"],[1,2004,199,12,"this"],[1,2009,199,17,"buildURL"],[1,2018,199,26,"lookupType"],[1,2020,199,38,"value"],[1,2022,199,45,"conditions"],[1,2024,199,56,"kind"],[1,2031,202,11,"this"],[1,2036,202,16,"client"],[1,2043,202,23,"get"],[1,2048,203,6,"url"],[1,2052,203,11,"url"],[1,2054,204,6,"qs"],[1,2057,204,10,"qs"],[1,2059,205,6,"signature"],[1,2069,205,17,"this"],[1,2074,205,22,"signature"],[1,2085,206,7,"callback"],[1,2089,208,2,"update"],[1,2096,208,10],[1,2105,208,26,"id"],[1,2107,208,30,"data"],[1,2110,209,4],[1,2114,209,8,"_ref3"],[1,2116,209,16,"arguments"],[1,2126,209,26,"length"],[1,2133,209,35],[1,2141,209,57,"undefined"],[1,2145,209,40,"arguments"],[1,2155,209,50],[1,2158,209,69,"arguments"],[1,2168,209,79],[1,2174,210,8,"_ref3$targetFeeds"],[1,2176,210,28,"_ref3"],[1,2178,210,34,"targetFeeds"],[1,2190,211,8,"targetFeeds"],[1,2197,211,39,"undefined"],[1,2201,211,22,"_ref3$targetFeeds"],[1,2206,211,58,"_ref3$targetFeeds"],[1,2208,212,8,"targetFeedsExtraData"],[1,2210,212,31,"_ref3"],[1,2212,212,37,"targetFeedsExtraData"],[1,2233,214,8,"callback"],[1,2235,214,19,"arguments"],[1,2245,214,29,"length"],[1,2252,214,38],[1,2254,214,42,"arguments"],[1,2264,214,52],[1,2272,214,57,"undefined"],[1,2274,229,8,"body"],[1,2277,230,6,"data"],[1,2282,230,12,"data"],[1,2284,231,6,"target_feeds"],[1,2297,228,4,"targetFeeds"],[1,2299,228,18,"this"],[1,2304,228,23,"_convertTargetFeeds"],[1,2324,228,43,"targetFeeds"],[1,2328,238,4],[1,2335,234,32],[1,2341,234,8,"targetFeedsExtraData"],[1,2345,235,6,"body"],[1,2347,235,11,"target_feeds_extra_data"],[1,2371,235,37,"targetFeedsExtraData"],[1,2374,238,11,"this"],[1,2379,238,16,"client"],[1,2386,238,23,"put"],[1,2391,239,6,"url"],[1,2395,239,11,"this"],[1,2400,239,16,"buildURL"],[1,2409,239,25,"id"],[1,2412,240,6,"body"],[1,2417,240,12,"body"],[1,2419,241,6,"signature"],[1,2429,241,17,"this"],[1,2434,241,22,"signature"],[1,2445,242,7,"callback"],[1,2449,244,2,"delete"],[1,2456,244,10],[1,2465,244,27,"id"],[1,2467,244,31,"callback"],[1,2470,254,4],[1,2477,254,11,"this"],[1,2482,254,16,"client"],[1,2489,254,23,"delete"],[1,2497,255,6,"url"],[1,2501,255,11,"this"],[1,2506,255,16,"buildURL"],[1,2515,255,25,"id"],[1,2518,256,6,"signature"],[1,2528,256,17,"this"],[1,2533,256,22,"signature"],[1,2544,257,7,"callback"],[1,2549,260,0,"module"],[1,2551,260,7,"exports"],[1,2559,260,17,"StreamReaction"]],"functionMap":{"names":["<global>","StreamReaction","initialize","buildURL","all","_convertTargetFeeds","targetFeeds.map$argument_0","add","addChild","get","filter","update","_delete"],"mappings":"AAA;qBCI;CDE;cEG;GFY;YGC;GHQ;OIC;GJe;uBKC;2BCE;KDE;GLC;OOC;GPgD;YQC;GR8C;OSC;GTc;UUC;GV0C;UWC;GXmC;UYC;GZc"}},"type":"js/module"}]}