{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false,"locs":[]}},{"name":"react","data":{"isAsync":false,"locs":[]}},{"name":"./NavigationBuilderContext","data":{"isAsync":false,"locs":[]}},{"name":"./NavigationRouteContext","data":{"isAsync":false,"locs":[]}},{"name":"./isArrayEqual","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useOnGetState;\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/defineProperty\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[3], \"react\"));\n\n  var _NavigationBuilderContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./NavigationBuilderContext\"));\n\n  var _NavigationRouteContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"./NavigationRouteContext\"));\n\n  var _isArrayEqual = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./isArrayEqual\"));\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function useOnGetState(_ref) {\n    var getState = _ref.getState,\n        getStateListeners = _ref.getStateListeners;\n\n    var _React$useContext = React.useContext(_NavigationBuilderContext.default),\n        addKeyedListener = _React$useContext.addKeyedListener;\n\n    var route = React.useContext(_NavigationRouteContext.default);\n    var key = route ? route.key : 'root';\n    var getRehydratedState = React.useCallback(function () {\n      var state = getState();\n      var routes = state.routes.map(function (route) {\n        var _getStateListeners$ro;\n\n        var childState = (_getStateListeners$ro = getStateListeners[route.key]) == null ? void 0 : _getStateListeners$ro.call(getStateListeners);\n\n        if (route.state === childState) {\n          return route;\n        }\n\n        return _objectSpread(_objectSpread({}, route), {}, {\n          state: childState\n        });\n      });\n\n      if ((0, _isArrayEqual.default)(state.routes, routes)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        routes: routes\n      });\n    }, [getState, getStateListeners]);\n    React.useEffect(function () {\n      return addKeyedListener == null ? void 0 : addKeyedListener('getState', key, getRehydratedState);\n    }, [addKeyedListener, getRehydratedState, key]);\n  }\n});","lineCount":62,"map":[[13,0,1,0],[15,0,3,0],[17,0,6,0],[19,0,7,0],[25,0,14,15],[25,11,14,24,"useOnGetState"],[25,24,14,15],[25,31,17,12],[26,0,17,12],[26,8,15,2,"getState"],[26,16,17,12],[26,24,15,2,"getState"],[26,32,17,12],[27,0,17,12],[27,8,16,2,"getStateListeners"],[27,25,17,12],[27,33,16,2,"getStateListeners"],[27,50,17,12],[29,0,17,12],[29,28,18,31,"React"],[29,33,18,36],[29,34,18,37,"useContext"],[29,44,18,31],[29,45,18,48,"NavigationBuilderContext"],[29,78,18,31],[29,79,17,12],[30,0,17,12],[30,8,18,10,"addKeyedListener"],[30,24,17,12],[30,45,18,10,"addKeyedListener"],[30,61,17,12],[32,0,19,2],[32,8,19,8,"route"],[32,13,19,13],[32,16,19,16,"React"],[32,21,19,21],[32,22,19,22,"useContext"],[32,32,19,16],[32,33,19,33,"NavigationRouteContext"],[32,64,19,16],[32,65,19,2],[33,0,20,2],[33,8,20,8,"key"],[33,11,20,11],[33,14,20,14,"route"],[33,19,20,19],[33,22,20,22,"route"],[33,27,20,27],[33,28,20,28,"key"],[33,31,20,19],[33,34,20,34],[33,40,20,2],[34,0,22,2],[34,8,22,8,"getRehydratedState"],[34,26,22,26],[34,29,22,29,"React"],[34,34,22,34],[34,35,22,35,"useCallback"],[34,46,22,29],[34,47,22,47],[34,59,22,53],[35,0,23,4],[35,10,23,10,"state"],[35,15,23,15],[35,18,23,18,"getState"],[35,26,23,26],[35,28,23,4],[36,0,26,4],[36,10,26,10,"routes"],[36,16,26,16],[36,19,26,19,"state"],[36,24,26,24],[36,25,26,25,"routes"],[36,31,26,19],[36,32,26,32,"map"],[36,35,26,19],[36,36,26,36],[36,46,26,37,"route"],[36,51,26,36],[36,53,26,47],[37,0,26,47],[39,0,27,6],[39,12,27,12,"childState"],[39,22,27,22],[39,50,27,25,"getStateListeners"],[39,67,27,42],[39,68,27,43,"route"],[39,73,27,48],[39,74,27,49,"key"],[39,77,27,42],[39,78,27,22],[39,99,27,25],[39,126,27,25,"getStateListeners"],[39,143,27,42],[39,144,27,6],[41,0,29,6],[41,12,29,10,"route"],[41,17,29,15],[41,18,29,16,"state"],[41,23,29,10],[41,28,29,26,"childState"],[41,38,29,6],[41,40,29,38],[42,0,30,8],[42,17,30,15,"route"],[42,22,30,8],[43,0,31,7],[45,0,33,6],[45,47,33,18,"route"],[45,52,33,6],[46,0,33,25,"state"],[46,10,33,25,"state"],[46,15,33,30],[46,17,33,32,"childState"],[47,0,33,6],[48,0,34,5],[48,7,26,19],[48,8,26,4],[50,0,36,4],[50,10,36,8],[50,37,36,21,"state"],[50,42,36,26],[50,43,36,27,"routes"],[50,49,36,8],[50,51,36,35,"routes"],[50,57,36,8],[50,58,36,4],[50,60,36,44],[51,0,37,6],[51,15,37,13,"state"],[51,20,37,6],[52,0,38,5],[54,0,40,4],[54,45,40,16,"state"],[54,50,40,4],[55,0,40,23,"routes"],[55,8,40,23,"routes"],[55,14,40,29],[55,16,40,23,"routes"],[56,0,40,4],[57,0,41,3],[57,5,22,29],[57,7,41,5],[57,8,41,6,"getState"],[57,16,41,5],[57,18,41,16,"getStateListeners"],[57,35,41,5],[57,36,22,29],[57,37,22,2],[58,0,43,2,"React"],[58,4,43,2,"React"],[58,9,43,7],[58,10,43,8,"useEffect"],[58,19,43,2],[58,20,43,18],[58,32,43,24],[59,0,44,4],[59,13,44,11,"addKeyedListener"],[59,29,44,4],[59,49,44,11,"addKeyedListener"],[59,65,44,27],[59,66,44,30],[59,76,44,27],[59,78,44,42,"key"],[59,81,44,27],[59,83,44,47,"getRehydratedState"],[59,101,44,27],[59,102,44,4],[60,0,45,3],[60,5,43,2],[60,7,45,5],[60,8,45,6,"addKeyedListener"],[60,24,45,5],[60,26,45,24,"getRehydratedState"],[60,44,45,5],[60,46,45,44,"key"],[60,49,45,5],[60,50,43,2],[61,0,46,1]],"functionMap":{"names":["<global>","useOnGetState","React.useCallback$argument_0","state.routes.map$argument_0","React.useEffect$argument_0"],"mappings":"AAA;eCa;+CCQ;oCCI;KDQ;GDO;kBGE;GHE;CDC"}},"type":"js/module"}]}