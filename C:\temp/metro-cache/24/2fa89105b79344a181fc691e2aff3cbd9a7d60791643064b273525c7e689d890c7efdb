{"dependencies":[{"name":"xmldom","data":{"isAsync":false,"locs":[{"start":{"line":1,"column":18},"end":{"line":1,"column":35}}]}},{"name":"./parsers/rssv2","data":{"isAsync":false,"locs":[{"start":{"line":2,"column":20},"end":{"line":2,"column":46}}]}},{"name":"./parsers/atomv1","data":{"isAsync":false,"locs":[{"start":{"line":3,"column":21},"end":{"line":3,"column":48}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var DOMParser = _$$_REQUIRE(_dependencyMap[0], \"xmldom\").DOMParser;\n\n  var rssV2Parser = _$$_REQUIRE(_dependencyMap[1], \"./parsers/rssv2\");\n\n  var atomV1Parser = _$$_REQUIRE(_dependencyMap[2], \"./parsers/atomv1\");\n\n  var getParser = function getParser(document) {\n    var isRssSpecification = document.getElementsByTagName('channel')[0] !== undefined;\n    var isAtomSpecification = document.getElementsByTagName('feed')[0] !== undefined;\n\n    if (isRssSpecification) {\n      return rssV2Parser;\n    }\n\n    if (isAtomSpecification) {\n      return atomV1Parser;\n    }\n\n    return null;\n  };\n\n  exports.parse = function (feed) {\n    return new Promise(function (resolve, reject) {\n      var document = new DOMParser({\n        errorHandler: function errorHandler(_level, msg) {\n          reject(msg);\n        }\n      }).parseFromString(feed, 'text/xml');\n      var parser = getParser(document);\n\n      if (!parser) {\n        reject('Unable to find any RSS element in feed');\n      }\n\n      var parsedFeed = parser.parse(document);\n      resolve(parsedFeed);\n    });\n  };\n});","lineCount":40,"map":[[2,0,1,0],[2,6,1,6,"DOMParser"],[2,15,1,15],[2,18,1,18,"require"],[2,29,1,25],[2,58,1,18],[2,59,1,36,"DOMParser"],[2,68,1,0],[4,0,2,0],[4,6,2,6,"rssV2Parser"],[4,17,2,17],[4,20,2,20,"require"],[4,31,2,27],[4,69,2,0],[6,0,3,0],[6,6,3,6,"atomV1Parser"],[6,18,3,18],[6,21,3,21,"require"],[6,32,3,28],[6,71,3,0],[8,0,5,0],[8,6,5,6,"getParser"],[8,15,5,15],[8,18,5,18],[8,27,5,6,"getParser"],[8,36,5,18],[8,37,5,19,"document"],[8,45,5,18],[8,47,5,32],[9,0,6,2],[9,8,6,8,"isRssSpecification"],[9,26,6,26],[9,29,7,4,"document"],[9,37,7,12],[9,38,7,13,"getElementsByTagName"],[9,58,7,4],[9,59,7,34],[9,68,7,4],[9,70,7,45],[9,71,7,4],[9,77,7,52,"undefined"],[9,86,6,2],[10,0,8,2],[10,8,8,8,"isAtomSpecification"],[10,27,8,27],[10,30,9,4,"document"],[10,38,9,12],[10,39,9,13,"getElementsByTagName"],[10,59,9,4],[10,60,9,34],[10,66,9,4],[10,68,9,42],[10,69,9,4],[10,75,9,49,"undefined"],[10,84,8,2],[12,0,11,2],[12,8,11,6,"isRssSpecification"],[12,26,11,2],[12,28,11,26],[13,0,12,4],[13,13,12,11,"rssV2Parser"],[13,24,12,4],[14,0,13,3],[16,0,15,2],[16,8,15,6,"isAtomSpecification"],[16,27,15,2],[16,29,15,27],[17,0,16,4],[17,13,16,11,"atomV1Parser"],[17,25,16,4],[18,0,17,3],[20,0,19,2],[20,11,19,9],[20,15,19,2],[21,0,20,1],[21,3,5,0],[23,0,22,0,"exports"],[23,2,22,0,"exports"],[23,9,22,7],[23,10,22,8,"parse"],[23,15,22,0],[23,18,22,16],[23,28,22,17,"feed"],[23,32,22,16],[24,0,22,16],[24,11,23,2],[24,15,23,6,"Promise"],[24,22,23,2],[24,23,23,14],[24,33,23,15,"resolve"],[24,40,23,14],[24,42,23,24,"reject"],[24,48,23,14],[24,50,23,35],[25,0,24,4],[25,10,24,10,"document"],[25,18,24,18],[25,21,24,21],[25,25,24,25,"DOMParser"],[25,34,24,21],[25,35,24,35],[26,0,25,6,"errorHandler"],[26,8,25,6,"errorHandler"],[26,20,25,18],[26,22,25,20],[26,44,25,21,"_level"],[26,50,25,20],[26,52,25,29,"msg"],[26,55,25,20],[26,57,25,37],[27,0,26,8,"reject"],[27,10,26,8,"reject"],[27,16,26,14],[27,17,26,15,"msg"],[27,20,26,14],[27,21,26,8],[28,0,27,7],[29,0,24,35],[29,7,24,21],[29,9,28,7,"parseFromString"],[29,24,24,21],[29,25,28,23,"feed"],[29,29,24,21],[29,31,28,29],[29,41,24,21],[29,42,24,4],[30,0,30,4],[30,10,30,10,"parser"],[30,16,30,16],[30,19,30,19,"getParser"],[30,28,30,28],[30,29,30,29,"document"],[30,37,30,28],[30,38,30,4],[32,0,32,4],[32,10,32,8],[32,11,32,9,"parser"],[32,17,32,4],[32,19,32,17],[33,0,33,6,"reject"],[33,8,33,6,"reject"],[33,14,33,12],[33,15,33,13],[33,55,33,12],[33,56,33,6],[34,0,34,5],[36,0,36,4],[36,10,36,10,"parsedFeed"],[36,20,36,20],[36,23,36,23,"parser"],[36,29,36,29],[36,30,36,30,"parse"],[36,35,36,23],[36,36,36,36,"document"],[36,44,36,23],[36,45,36,4],[37,0,38,4,"resolve"],[37,6,38,4,"resolve"],[37,13,38,11],[37,14,38,12,"parsedFeed"],[37,24,38,11],[37,25,38,4],[38,0,39,3],[38,5,23,2],[38,6,22,16],[39,0,22,16],[39,3,22,0]],"functionMap":{"names":["<global>","getParser","exports.parse","Promise$argument_0","DOMParser$argument_0.errorHandler"],"mappings":"AAA;kBCI;CDe;gBEE;cCC;oBCE;ODE;GDY,CF"}},"type":"js/module"}]}