{"dependencies":[{"name":"./socket-io","data":{"isAsync":false}},{"name":"./constants","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(d[0]),t=r(d[1]);e.attachListeners=function(c,o,u,s,l){var E,f,T=o.setLastMessage,_=o.setReadyState;return u.current.fromSocketIO&&(E=n.setUpSocketIOPing(c)),c.onmessage=function(n){u.current.onMessage&&u.current.onMessage(n),'function'==typeof u.current.filter&&!0!==u.current.filter(n)||T(n)},c.onopen=function(n){u.current.onOpen&&u.current.onOpen(n),l.current=0,_(t.ReadyState.OPEN)},c.onclose=function(n){var c,o;if(u.current.onClose&&u.current.onClose(n),_(t.ReadyState.CLOSED),u.current.shouldReconnect&&u.current.shouldReconnect(n)){var E=null!==(c=u.current.reconnectAttempts)&&void 0!==c?c:t.DEFAULT_RECONNECT_LIMIT;l.current<E?f=setTimeout(function(){l.current++,s()},null!==(o=u.current.reconnectInterval)&&void 0!==o?o:t.DEFAULT_RECONNECT_INTERVAL_MS):console.error(\"Max reconnect attempts of \"+E+\" exceeded\")}},c.onerror=function(n){var c,o;u.current.onError&&u.current.onError(n),u.current.retryOnError&&l.current<(null!==(c=u.current.reconnectAttempts)&&void 0!==c?c:t.DEFAULT_RECONNECT_LIMIT)&&(f=setTimeout(function(){l.current++,s()},null!==(o=u.current.reconnectInterval)&&void 0!==o?o:t.DEFAULT_RECONNECT_INTERVAL_MS))},function(){_(t.ReadyState.CLOSING),f&&clearTimeout(f),c.close(),E&&clearInterval(E)}}});","lineCount":1,"map":[[1,28,1,0],[1,41,2,0,"Object"],[1,48,2,7,"defineProperty"],[1,63,2,22,"exports"],[1,65,2,31],[1,79,2,47,"value"],[1,86,2,54],[1,90,3,0],[1,94,3,4,"socket_io_1"],[1,96,3,18,"require"],[1,98,3,25,"d"],[1,100,3,25],[1,104,4,4,"constants_1"],[1,106,4,18,"require"],[1,108,4,25,"d"],[1,110,4,25],[1,114,5,0,"exports"],[1,116,5,8,"attachListeners"],[1,132,5,26],[1,141,5,36,"webSocketInstance"],[1,143,5,55,"setters"],[1,145,5,64,"optionsRef"],[1,147,5,76,"reconnect"],[1,149,5,87,"reconnectCount"],[1,152,6,4],[1,156,7,8,"interval"],[1,158,8,8,"reconnectTimeout"],[1,160,6,8,"setLastMessage"],[1,162,6,25,"setters"],[1,164,6,33,"setLastMessage"],[1,179,6,49,"setReadyState"],[1,181,6,65,"setters"],[1,183,6,73,"setReadyState"],[1,197,53,4],[1,204,9,8,"optionsRef"],[1,206,9,19,"current"],[1,214,9,27,"fromSocketIO"],[1,229,10,8,"interval"],[1,231,10,19,"socket_io_1"],[1,233,10,31,"setUpSocketIOPing"],[1,251,10,49,"webSocketInstance"],[1,255,12,4,"webSocketInstance"],[1,257,12,22,"onmessage"],[1,267,12,34],[1,276,12,44,"message"],[1,279,13,8,"optionsRef"],[1,281,13,19,"current"],[1,289,13,27,"onMessage"],[1,300,13,40,"optionsRef"],[1,302,13,51,"current"],[1,310,13,59,"onMessage"],[1,320,13,69,"message"],[1,323,14,49],[1,342,14,19,"optionsRef"],[1,344,14,30,"current"],[1,352,14,38,"filter"],[1,361,14,102],[1,365,14,63,"optionsRef"],[1,367,14,74,"current"],[1,375,14,82,"filter"],[1,382,14,89,"message"],[1,386,17,8,"setLastMessage"],[1,388,17,23,"message"],[1,392,19,4,"webSocketInstance"],[1,394,19,22,"onopen"],[1,401,19,31],[1,410,19,41,"event"],[1,413,20,8,"optionsRef"],[1,415,20,19,"current"],[1,423,20,27,"onOpen"],[1,431,20,37,"optionsRef"],[1,433,20,48,"current"],[1,441,20,56,"onOpen"],[1,448,20,63,"event"],[1,451,21,8,"reconnectCount"],[1,453,21,23,"current"],[1,461,21,33],[1,463,22,8,"setReadyState"],[1,465,22,22,"constants_1"],[1,467,22,34,"ReadyState"],[1,478,22,45,"OPEN"],[1,485,24,4,"webSocketInstance"],[1,487,24,22,"onclose"],[1,495,24,32],[1,504,24,42,"event"],[1,507,25,8],[1,511,25,12,"_a"],[1,513,25,16,"_b"],[1,515,28,8],[1,518,26,8,"optionsRef"],[1,520,26,19,"current"],[1,528,26,27,"onClose"],[1,537,26,38,"optionsRef"],[1,539,26,49,"current"],[1,547,26,57,"onClose"],[1,555,26,65,"event"],[1,558,27,8,"setReadyState"],[1,560,27,22,"constants_1"],[1,562,27,34,"ReadyState"],[1,573,27,45,"CLOSED"],[1,581,28,12,"optionsRef"],[1,583,28,23,"current"],[1,591,28,31,"shouldReconnect"],[1,608,28,50,"optionsRef"],[1,610,28,61,"current"],[1,618,28,69,"shouldReconnect"],[1,634,28,85,"event"],[1,637,28,93],[1,638,29,12],[1,642,29,16,"reconnectAttempts"],[1,644,29,88],[1,652,29,37,"_a"],[1,654,29,42,"optionsRef"],[1,656,29,53,"current"],[1,664,29,61,"reconnectAttempts"],[1,689,29,98,"undefined"],[1,693,29,96,"_a"],[1,695,29,112,"_a"],[1,697,29,117,"constants_1"],[1,699,29,129,"DEFAULT_RECONNECT_LIMIT"],[1,723,30,16,"reconnectCount"],[1,725,30,31,"current"],[1,733,30,41,"reconnectAttempts"],[1,735,31,16,"reconnectTimeout"],[1,737,31,35,"setTimeout"],[1,748,31,46],[1,759,32,20,"reconnectCount"],[1,761,32,35,"current"],[1,771,33,20,"reconnect"],[1,776,34,71],[1,784,34,20,"_b"],[1,786,34,25,"optionsRef"],[1,788,34,36,"current"],[1,796,34,44,"reconnectInterval"],[1,821,34,81,"undefined"],[1,825,34,79,"_b"],[1,827,34,95,"_b"],[1,829,34,100,"constants_1"],[1,831,34,112,"DEFAULT_RECONNECT_INTERVAL_MS"],[1,862,37,16,"console"],[1,870,37,24,"error"],[1,876,37,30],[1,905,37,61,"reconnectAttempts"],[1,907,37,81],[1,922,41,4,"webSocketInstance"],[1,924,41,22,"onerror"],[1,932,41,32],[1,941,41,42,"error"],[1,944,42,8],[1,948,42,12,"_a"],[1,950,42,16,"_b"],[1,952,43,8,"optionsRef"],[1,954,43,19,"current"],[1,962,43,27,"onError"],[1,971,43,38,"optionsRef"],[1,973,43,49,"current"],[1,981,43,57,"onError"],[1,989,43,65,"error"],[1,992,44,12,"optionsRef"],[1,994,44,23,"current"],[1,1002,44,31,"retryOnError"],[1,1016,45,16,"reconnectCount"],[1,1018,45,31,"current"],[1,1027,45,93],[1,1035,45,42,"_a"],[1,1037,45,47,"optionsRef"],[1,1039,45,58,"current"],[1,1047,45,66,"reconnectAttempts"],[1,1072,45,103,"undefined"],[1,1076,45,101,"_a"],[1,1078,45,117,"_a"],[1,1080,45,122,"constants_1"],[1,1082,45,134,"DEFAULT_RECONNECT_LIMIT"],[1,1109,46,16,"reconnectTimeout"],[1,1111,46,35,"setTimeout"],[1,1122,46,46],[1,1133,47,20,"reconnectCount"],[1,1135,47,35,"current"],[1,1145,48,20,"reconnect"],[1,1150,49,71],[1,1158,49,20,"_b"],[1,1160,49,25,"optionsRef"],[1,1162,49,36,"current"],[1,1170,49,44,"reconnectInterval"],[1,1195,49,81,"undefined"],[1,1199,49,79,"_b"],[1,1201,49,95,"_b"],[1,1203,49,100,"constants_1"],[1,1205,49,112,"DEFAULT_RECONNECT_INTERVAL_MS"],[1,1238,53,11],[1,1249,54,8,"setReadyState"],[1,1251,54,22,"constants_1"],[1,1253,54,34,"ReadyState"],[1,1264,54,45,"CLOSING"],[1,1273,55,12,"reconnectTimeout"],[1,1276,56,12,"clearTimeout"],[1,1289,56,25,"reconnectTimeout"],[1,1292,57,8,"webSocketInstance"],[1,1294,57,26,"close"],[1,1302,58,12,"interval"],[1,1305,59,12,"clearInterval"],[1,1319,59,26,"interval"]],"functionMap":{"names":["<global>","exports.attachListeners","webSocketInstance.onmessage","webSocketInstance.onopen","webSocketInstance.onclose","setTimeout$argument_0","webSocketInstance.onerror","<anonymous>"],"mappings":"AAA;0BCI;kCCO;KDM;+BEC;KFI;gCGC;8CCO;iBDG;KHM;gCKC;8CDK;iBCG;KLG;WMC;KNO;CDC"}},"type":"js/module"}]}