{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false,"locs":[]}},{"name":"./NativeWebSocketModule","data":{"isAsync":false,"locs":[]}},{"name":"../Blob/Blob","data":{"isAsync":false,"locs":[{"start":{"line":13,"column":13},"end":{"line":13,"column":36}}]}},{"name":"../Blob/BlobManager","data":{"isAsync":false,"locs":[{"start":{"line":14,"column":20},"end":{"line":14,"column":50}}]}},{"name":"event-target-shim","data":{"isAsync":false,"locs":[{"start":{"line":15,"column":20},"end":{"line":15,"column":48}}]}},{"name":"../EventEmitter/NativeEventEmitter","data":{"isAsync":false,"locs":[{"start":{"line":16,"column":27},"end":{"line":16,"column":72}}]}},{"name":"./WebSocketEvent","data":{"isAsync":false,"locs":[{"start":{"line":17,"column":23},"end":{"line":17,"column":50}}]}},{"name":"base64-js","data":{"isAsync":false,"locs":[{"start":{"line":19,"column":15},"end":{"line":19,"column":35}}]}},{"name":"../Utilities/binaryToBase64","data":{"isAsync":false,"locs":[{"start":{"line":20,"column":23},"end":{"line":20,"column":61}}]}},{"name":"invariant","data":{"isAsync":false,"locs":[{"start":{"line":21,"column":18},"end":{"line":21,"column":38}}]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7]));function h(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var y=r(d[8]),b=r(d[9]),p=r(d[10]),v=r(d[11]),_=r(d[12]),E=r(d[13]),k=r(d[14]),I=r(d[15]),S=0,N=1,w=2,O=3,C=0,L=(function(t){(0,c.default)(A,t);var p,L,T=(p=A,L=h(),function(){var t,s=(0,l.default)(p);if(L){var n=(0,l.default)(this).constructor;t=Reflect.construct(s,arguments,n)}else t=s.apply(this,arguments);return(0,u.default)(this,t)});function A(t,o,c){var u;(0,n.default)(this,A),(u=T.call(this)).CONNECTING=S,u.OPEN=N,u.CLOSING=w,u.CLOSED=O,u.readyState=S,'string'==typeof o&&(o=[o]);var l=c||{},h=l.headers,y=void 0===h?{}:h,b=(0,s.default)(l,[\"headers\"]);return b&&'string'==typeof b.origin&&(console.warn('Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.'),y.origin=b.origin,delete b.origin),Object.keys(b).length>0&&console.warn('Unrecognized WebSocket connection option(s) `'+Object.keys(b).join('`, `')+\"`. Did you mean to put these under `headers`?\"),Array.isArray(o)||(o=null),u._eventEmitter=new v(f.default),u._socketId=C++,u._registerEvents(),f.default.connect(t,o,{headers:y},u._socketId),u}return(0,o.default)(A,[{key:\"binaryType\",get:function(){return this._binaryType},set:function(t){if('blob'!==t&&'arraybuffer'!==t)throw new Error(\"binaryType must be either 'blob' or 'arraybuffer'\");'blob'!==this._binaryType&&'blob'!==t||(I(b.isAvailable,'Native module BlobModule is required for blob support'),'blob'===t?b.addWebSocketHandler(this._socketId):b.removeWebSocketHandler(this._socketId)),this._binaryType=t}},{key:\"close\",value:function(t,s){this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.readyState=this.CLOSING,this._close(t,s))}},{key:\"send\",value:function(t){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');if(t instanceof y)return I(b.isAvailable,'Native module BlobModule is required for blob support'),void b.sendOverSocket(t,this._socketId);if('string'!=typeof t){if(!(t instanceof ArrayBuffer||ArrayBuffer.isView(t)))throw new Error('Unsupported data type');f.default.sendBinary(k(t),this._socketId)}else f.default.send(t,this._socketId)}},{key:\"ping\",value:function(){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');f.default.ping(this._socketId)}},{key:\"_close\",value:function(t,s){var n='number'==typeof t?t:1e3,o='string'==typeof s?s:'';f.default.close(n,o,this._socketId),b.isAvailable&&'blob'===this._binaryType&&b.removeWebSocketHandler(this._socketId)}},{key:\"_unregisterEvents\",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:\"_registerEvents\",value:function(){var t=this;this._subscriptions=[this._eventEmitter.addListener('websocketMessage',function(s){if(s.id===t._socketId){var n=s.data;switch(s.type){case'binary':n=E.toByteArray(s.data).buffer;break;case'blob':n=b.createFromOptions(s.data)}t.dispatchEvent(new _('message',{data:n}))}}),this._eventEmitter.addListener('websocketOpen',function(s){s.id===t._socketId&&(t.readyState=t.OPEN,t.protocol=s.protocol,t.dispatchEvent(new _('open')))}),this._eventEmitter.addListener('websocketClosed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new _('close',{code:s.code,reason:s.reason})),t._unregisterEvents(),t.close())}),this._eventEmitter.addListener('websocketFailed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new _('error',{message:s.message})),t.dispatchEvent(new _('close',{message:s.message})),t._unregisterEvents(),t.close())})]}}]),A})(p.apply(void 0,['close','error','message','open']));L.CONNECTING=S,L.OPEN=N,L.CLOSING=w,L.CLOSED=O,m.exports=L});","lineCount":1,"map":[[1,28,11,0],[1,133,24,0,"_NativeWebSocketModule"],[1,135,24,0,"_interopRequireDefault"],[1,137,24,0,"r"],[1,139,24,0,"d"],[1,141,24,0],[1,399,13,0],[1,403,13,6,"Blob"],[1,405,13,13,"require"],[1,407,13,20,"d"],[1,409,13,20],[1,413,14,6,"BlobManager"],[1,415,14,20,"require"],[1,417,14,27,"d"],[1,419,14,27],[1,423,15,6,"EventTarget"],[1,425,15,20,"require"],[1,427,15,27,"d"],[1,429,15,27],[1,434,16,6,"NativeEventEmitter"],[1,436,16,27,"require"],[1,438,16,34,"d"],[1,440,16,34],[1,445,17,6,"WebSocketEvent"],[1,447,17,23,"require"],[1,449,17,30,"d"],[1,451,17,30],[1,456,19,6,"base64"],[1,458,19,15,"require"],[1,460,19,22,"d"],[1,462,19,22],[1,467,20,6,"binaryToBase64"],[1,469,20,23,"require"],[1,471,20,30,"d"],[1,473,20,30],[1,478,21,6,"invariant"],[1,480,21,18,"require"],[1,482,21,25,"d"],[1,484,21,25],[1,489,40,6,"CONNECTING"],[1,491,40,19],[1,493,41,6,"OPEN"],[1,495,41,13],[1,497,42,6,"CLOSING"],[1,499,42,16],[1,501,43,6,"CLOSED"],[1,503,43,15],[1,505,49,4,"nextWebSocketId"],[1,507,49,22],[1,509,57,6,"WebSocket"],[1,740,84,2],[1,749,84,2,"WebSocket"],[1,751,85,4,"url"],[1,753,86,4,"protocols"],[1,755,87,4,"options"],[1,758,88,4],[1,762,88,4,"_this"],[1,765,88,4],[1,767,88,4,"_classCallCheck2"],[1,769,88,4,"default"],[1,778,88,4,"this"],[1,783,88,4,"WebSocket"],[1,787,89,4,"_this"],[1,789,89,4,"_super"],[1,791,89,4,"call"],[1,796,89,4,"this"],[1,803,63,2,"CONNECTING"],[1,814,63,23,"CONNECTING"],[1,816,88,4,"_this"],[1,818,64,2,"OPEN"],[1,823,64,17,"OPEN"],[1,825,88,4,"_this"],[1,827,65,2,"CLOSING"],[1,835,65,20,"CLOSING"],[1,837,88,4,"_this"],[1,839,66,2,"CLOSED"],[1,846,66,19,"CLOSED"],[1,848,88,4,"_this"],[1,850,81,2,"readyState"],[1,861,81,23,"CONNECTING"],[1,863,90,29],[1,880,90,15,"protocols"],[1,884,91,6,"protocols"],[1,887,91,19,"protocols"],[1,891,88,4],[1,895,88,4,"_ref2"],[1,897,94,44,"options"],[1,903,88,4,"_ref2$headers"],[1,905,88,4,"_ref2"],[1,907,94,11,"headers"],[1,915,94,11,"headers"],[1,922,88,4,"undefined"],[1,926,88,4,"_ref2$headers"],[1,931,88,4,"_ref2$headers"],[1,933,94,28,"unrecognized"],[1,936,88,4],[1,938,88,4,"_objectWithoutProperties2"],[1,940,88,4,"default"],[1,949,88,4,"_ref2"],[1,952,88,4],[1,964,88,4],[1,971,100,8,"unrecognized"],[1,974,100,55],[1,991,100,31,"unrecognized"],[1,993,100,44,"origin"],[1,1002,101,6,"console"],[1,1010,101,14,"warn"],[1,1015,102,8],[1,1122,107,6,"headers"],[1,1124,107,14,"origin"],[1,1131,107,23,"unrecognized"],[1,1133,107,36,"origin"],[1,1147,111,13,"unrecognized"],[1,1149,111,26,"origin"],[1,1157,115,8,"Object"],[1,1164,115,15,"keys"],[1,1169,115,20,"unrecognized"],[1,1172,115,34,"length"],[1,1179,115,43],[1,1182,116,6,"console"],[1,1190,116,14,"warn"],[1,1195,117,8],[1,1243,118,10,"Object"],[1,1250,118,17,"keys"],[1,1255,118,22,"unrecognized"],[1,1258,118,36,"join"],[1,1263,118,41],[1,1271,119,10],[1,1320,124,9,"Array"],[1,1326,124,15,"isArray"],[1,1334,124,23,"protocols"],[1,1339,125,6,"protocols"],[1,1341,125,18],[1,1347,128,4,"_this"],[1,1349,128,9,"_eventEmitter"],[1,1363,128,25],[1,1367,128,29,"NativeEventEmitter"],[1,1369,128,48,"NativeWebSocketModule"],[1,1371,128,48,"NativeWebSocketModule"],[1,1380,129,4,"_this"],[1,1382,129,9,"_socketId"],[1,1392,129,21,"nextWebSocketId"],[1,1396,130,4,"_this"],[1,1398,130,9,"_registerEvents"],[1,1416,131,4,"NativeWebSocketModule"],[1,1418,131,4,"NativeWebSocketModule"],[1,1426,131,26,"connect"],[1,1434,131,34,"url"],[1,1436,131,39,"protocols"],[1,1439,131,51,"headers"],[1,1447,131,51,"headers"],[1,1450,131,61,"_this"],[1,1452,131,66,"_socketId"],[1,1463,88,4,"_this"],[1,1510,134,2],[1,1521,135,4],[1,1528,135,11,"this"],[1,1533,135,16,"_binaryType"],[1,1550,138,2],[1,1559,138,17,"binaryType"],[1,1562,139,4],[1,1565,139,23],[1,1574,139,8,"binaryType"],[1,1577,139,48],[1,1593,139,33,"binaryType"],[1,1595,140,6],[1,1601,140,12],[1,1605,140,16,"Error"],[1,1611,140,22],[1,1664,142,29],[1,1673,142,8,"this"],[1,1678,142,13,"_binaryType"],[1,1691,142,54],[1,1700,142,39,"binaryType"],[1,1704,143,6,"invariant"],[1,1706,144,8,"BlobManager"],[1,1708,144,20,"isAvailable"],[1,1720,145,8],[1,1777,147,25],[1,1786,147,10,"binaryType"],[1,1788,148,8,"BlobManager"],[1,1790,148,20,"addWebSocketHandler"],[1,1810,148,40,"this"],[1,1815,148,45,"_socketId"],[1,1826,150,8,"BlobManager"],[1,1828,150,20,"removeWebSocketHandler"],[1,1851,150,43,"this"],[1,1856,150,48,"_socketId"],[1,1868,153,4,"this"],[1,1873,153,9,"_binaryType"],[1,1885,153,23,"binaryType"],[1,1908,156,2],[1,1917,156,8,"code"],[1,1919,156,23,"reason"],[1,1922,157,8,"this"],[1,1927,157,13,"readyState"],[1,1940,157,28,"this"],[1,1945,157,33,"CLOSING"],[1,1954,157,44,"this"],[1,1959,157,49,"readyState"],[1,1972,157,64,"this"],[1,1977,157,69,"CLOSED"],[1,1986,161,4,"this"],[1,1991,161,9,"readyState"],[1,2002,161,22,"this"],[1,2007,161,27,"CLOSING"],[1,2015,162,4,"this"],[1,2020,162,9,"_close"],[1,2027,162,16,"code"],[1,2029,162,22,"reason"],[1,2053,165,2],[1,2062,165,7,"data"],[1,2065,166,4],[1,2068,166,8,"this"],[1,2073,166,13,"readyState"],[1,2086,166,28,"this"],[1,2091,166,33,"CONNECTING"],[1,2102,167,6],[1,2108,167,12],[1,2112,167,16,"Error"],[1,2118,167,22],[1,2139,170,4],[1,2142,170,8,"data"],[1,2155,170,24,"Blob"],[1,2157,176,6],[1,2164,171,6,"invariant"],[1,2166,172,8,"BlobManager"],[1,2168,172,20,"isAvailable"],[1,2180,173,8],[1,2242,175,6,"BlobManager"],[1,2244,175,18,"sendOverSocket"],[1,2259,175,33,"data"],[1,2261,175,39,"this"],[1,2266,175,44,"_socketId"],[1,2277,179,4],[1,2280,179,24],[1,2297,179,15,"data"],[1,2299,179,4],[1,2300,184,4],[1,2305,184,8,"data"],[1,2318,184,24,"ArrayBuffer"],[1,2331,184,39,"ArrayBuffer"],[1,2343,184,51,"isView"],[1,2350,184,58,"data"],[1,2354,189,4],[1,2360,189,10],[1,2364,189,14,"Error"],[1,2370,189,20],[1,2395,185,6,"NativeWebSocketModule"],[1,2397,185,6,"NativeWebSocketModule"],[1,2405,185,28,"sendBinary"],[1,2416,185,39,"binaryToBase64"],[1,2418,185,54,"data"],[1,2421,185,61,"this"],[1,2426,185,66,"_socketId"],[1,2442,180,6,"NativeWebSocketModule"],[1,2444,180,6,"NativeWebSocketModule"],[1,2452,180,28,"send"],[1,2457,180,33,"data"],[1,2459,180,39,"this"],[1,2464,180,44,"_socketId"],[1,2495,192,2],[1,2506,193,4],[1,2509,193,8,"this"],[1,2514,193,13,"readyState"],[1,2527,193,28,"this"],[1,2532,193,33,"CONNECTING"],[1,2543,194,6],[1,2549,194,12],[1,2553,194,16,"Error"],[1,2559,194,22],[1,2580,197,4,"NativeWebSocketModule"],[1,2582,197,4,"NativeWebSocketModule"],[1,2590,197,26,"ping"],[1,2595,197,31,"this"],[1,2600,197,36,"_socketId"],[1,2633,200,2],[1,2642,200,9,"code"],[1,2644,200,24,"reason"],[1,2647,202,4],[1,2651,202,10,"statusCode"],[1,2653,202,39],[1,2670,202,30,"code"],[1,2672,202,50,"code"],[1,2674,45,21],[1,2678,203,10,"closeReason"],[1,2680,203,42],[1,2697,203,31,"reason"],[1,2699,203,53,"reason"],[1,2701,203,62],[1,2704,204,4,"NativeWebSocketModule"],[1,2706,204,4,"NativeWebSocketModule"],[1,2714,204,26,"close"],[1,2720,204,32,"statusCode"],[1,2722,204,44,"closeReason"],[1,2724,204,57,"this"],[1,2729,204,62,"_socketId"],[1,2740,206,8,"BlobManager"],[1,2742,206,20,"isAvailable"],[1,2755,206,56],[1,2764,206,35,"this"],[1,2769,206,40,"_binaryType"],[1,2782,207,6,"BlobManager"],[1,2784,207,18,"removeWebSocketHandler"],[1,2807,207,41,"this"],[1,2812,207,46,"_socketId"],[1,2856,211,2],[1,2867,212,4,"this"],[1,2872,212,9,"_subscriptions"],[1,2887,212,24,"forEach"],[1,2895,212,32],[1,2904,212,32,"e"],[1,2907,212,33],[1,2914,212,37,"e"],[1,2916,212,39,"remove"],[1,2927,213,4,"this"],[1,2932,213,9,"_subscriptions"],[1,2981,216,2],[1,2992,216,26],[1,2996,216,26,"_this2"],[1,2998,216,26,"this"],[1,3003,217,4,"this"],[1,3008,217,9,"_subscriptions"],[1,3024,218,6,"this"],[1,3029,218,11,"_eventEmitter"],[1,3043,218,25,"addListener"],[1,3055,218,37],[1,3074,218,57],[1,3083,218,57,"ev"],[1,3086,219,8],[1,3089,219,12,"ev"],[1,3091,219,15,"id"],[1,3096,219,22,"_this2"],[1,3098,219,27,"_socketId"],[1,3108,219,8],[1,3109,222,8],[1,3113,222,12,"data"],[1,3115,222,19,"ev"],[1,3117,222,22,"data"],[1,3122,223,8],[1,3129,223,16,"ev"],[1,3131,223,19,"type"],[1,3137,224,10],[1,3141,224,15],[1,3150,225,12,"data"],[1,3152,225,19,"base64"],[1,3154,225,26,"toByteArray"],[1,3166,225,38,"ev"],[1,3168,225,41,"data"],[1,3174,225,47,"buffer"],[1,3181,226,12],[1,3187,227,10],[1,3191,227,15],[1,3198,228,12,"data"],[1,3200,228,19,"BlobManager"],[1,3202,228,31,"createFromOptions"],[1,3220,228,49,"ev"],[1,3222,228,52,"data"],[1,3228,231,8,"_this2"],[1,3230,231,13,"dispatchEvent"],[1,3244,231,27],[1,3248,231,31,"WebSocketEvent"],[1,3250,231,46],[1,3261,231,58,"data"],[1,3266,231,58,"data"],[1,3274,233,6,"this"],[1,3279,233,11,"_eventEmitter"],[1,3293,233,25,"addListener"],[1,3305,233,37],[1,3321,233,54],[1,3330,233,54,"ev"],[1,3333,234,12,"ev"],[1,3335,234,15,"id"],[1,3340,234,22,"_this2"],[1,3342,234,27,"_socketId"],[1,3354,237,8,"_this2"],[1,3356,237,13,"readyState"],[1,3367,237,26,"_this2"],[1,3369,237,31,"OPEN"],[1,3374,238,8,"_this2"],[1,3376,238,13,"protocol"],[1,3385,238,24,"ev"],[1,3387,238,27,"protocol"],[1,3396,239,8,"_this2"],[1,3398,239,13,"dispatchEvent"],[1,3412,239,27],[1,3416,239,31,"WebSocketEvent"],[1,3418,239,46],[1,3430,241,6,"this"],[1,3435,241,11,"_eventEmitter"],[1,3449,241,25,"addListener"],[1,3461,241,37],[1,3479,241,56],[1,3488,241,56,"ev"],[1,3491,242,12,"ev"],[1,3493,242,15,"id"],[1,3498,242,22,"_this2"],[1,3500,242,27,"_socketId"],[1,3512,245,8,"_this2"],[1,3514,245,13,"readyState"],[1,3525,245,26,"_this2"],[1,3527,245,31,"CLOSED"],[1,3534,246,8,"_this2"],[1,3536,246,13,"dispatchEvent"],[1,3550,247,10],[1,3554,247,14,"WebSocketEvent"],[1,3556,247,29],[1,3565,248,12,"code"],[1,3570,248,18,"ev"],[1,3572,248,21,"code"],[1,3577,249,12,"reason"],[1,3584,249,20,"ev"],[1,3586,249,23,"reason"],[1,3596,252,8,"_this2"],[1,3598,252,13,"_unregisterEvents"],[1,3618,253,8,"_this2"],[1,3620,253,13,"close"],[1,3631,255,6,"this"],[1,3636,255,11,"_eventEmitter"],[1,3650,255,25,"addListener"],[1,3662,255,37],[1,3680,255,56],[1,3689,255,56,"ev"],[1,3692,256,12,"ev"],[1,3694,256,15,"id"],[1,3699,256,22,"_this2"],[1,3701,256,27,"_socketId"],[1,3713,259,8,"_this2"],[1,3715,259,13,"readyState"],[1,3726,259,26,"_this2"],[1,3728,259,31,"CLOSED"],[1,3735,260,8,"_this2"],[1,3737,260,13,"dispatchEvent"],[1,3751,261,10],[1,3755,261,14,"WebSocketEvent"],[1,3757,261,29],[1,3766,262,12,"message"],[1,3774,262,21,"ev"],[1,3776,262,24,"message"],[1,3787,265,8,"_this2"],[1,3789,265,13,"dispatchEvent"],[1,3803,266,10],[1,3807,266,14,"WebSocketEvent"],[1,3809,266,29],[1,3818,267,12,"message"],[1,3826,267,21,"ev"],[1,3828,267,24,"message"],[1,3839,270,8,"_this2"],[1,3841,270,13,"_unregisterEvents"],[1,3861,271,8,"_this2"],[1,3863,271,13,"close"],[1,3883,57,25,"EventTarget"],[1,3885,57,36,"apply"],[1,3896,57,25,"undefined"],[1,3899,47,26],[1,3907,47,35],[1,3915,47,44],[1,3925,47,55],[1,3935,57,6,"WebSocket"],[1,3937,58,9,"CONNECTING"],[1,3948,58,30,"CONNECTING"],[1,3950,57,6,"WebSocket"],[1,3952,59,9,"OPEN"],[1,3957,59,24,"OPEN"],[1,3959,57,6,"WebSocket"],[1,3961,60,9,"CLOSING"],[1,3969,60,27,"CLOSING"],[1,3971,57,6,"WebSocket"],[1,3973,61,9,"CLOSED"],[1,3980,61,26,"CLOSED"],[1,3982,277,0,"module"],[1,3984,277,7,"exports"],[1,3992,277,17,"WebSocket"]],"functionMap":{"names":["<global>","WebSocket","constructor","get__binaryType","set__binaryType","close","send","ping","_close","_unregisterEvents","_subscriptions.forEach$argument_0","_registerEvents","_eventEmitter.addListener$argument_1"],"mappings":"AAA;ACwD;EC2B;GDgD;EEE;GFE;EGE;GHgB;EIE;GJO;EKE;GLyB;EME;GNM;EOE;GPS;EQE;gCCC,eD;GRE;EUE;yDCE;ODc;sDCC;ODO;wDCC;ODa;wDCC;ODiB;GVE;CDC"}},"type":"js/module"}]}