{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[{"start":{"line":3,"column":29},"end":{"line":3,"column":84}}]}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false,"locs":[{"start":{"line":10,"column":55},"end":{"line":10,"column":112}}]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[{"start":{"line":12,"column":46},"end":{"line":12,"column":94}}]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[{"start":{"line":14,"column":43},"end":{"line":14,"column":88}}]}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false,"locs":[{"start":{"line":16,"column":46},"end":{"line":16,"column":94}}]}},{"name":"./errors","data":{"isAsync":false,"locs":[{"start":{"line":18,"column":14},"end":{"line":18,"column":33}}]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.StreamReaction=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),s=t(r(d[4])),l=r(d[5]),c=(function(){function t(n,u){(0,o.default)(this,t),(0,s.default)(this,\"client\",void 0),(0,s.default)(this,\"token\",void 0),(0,s.default)(this,\"buildURL\",function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return\"\".concat(['reaction'].concat(n).join('/'),\"/\")}),(0,s.default)(this,\"_convertTargetFeeds\",function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){return'string'==typeof t?t:t.id})}),this.client=n,this.token=u}return(0,u.default)(t,[{key:\"add\",value:function(t,n,o){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=u.id,l=u.targetFeeds,c=void 0===l?[]:l,h=u.userId,v=u.targetFeedsExtraData,_={id:s,activity_id:n instanceof Object?n.id:n,kind:t,data:o||{},target_feeds:this._convertTargetFeeds(c),user_id:h};return null!=v&&(_.target_feeds_extra_data=v),this.client.post({url:this.buildURL(),body:_,token:this.token})}},{key:\"addChild\",value:function(t,n,o){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=u.targetFeeds,l=void 0===s?[]:s,c=u.userId,h=u.targetFeedsExtraData,v={parent:n instanceof Object?n.id:n,kind:t,data:o||{},target_feeds:this._convertTargetFeeds(l),user_id:c};return null!=h&&(v.target_feeds_extra_data=h),this.client.post({url:this.buildURL(),body:v,token:this.token})}},{key:\"get\",value:function(t){return this.client.get({url:this.buildURL(t),token:this.token})}},{key:\"filter\",value:function(t){var o=t.user_id,u=t.activity_id,s=t.reaction_id,c=(0,n.default)(t,[\"user_id\",\"activity_id\",\"reaction_id\"]);if(c.limit||(c.limit=10),(o?1:0)+(u?1:0)+(s?1:0)!=1)throw new l.SiteError('Must provide exactly one value for one of these params: user_id, activity_id, reaction_id');var h=(o?'user_id':u&&'activity_id')||s&&'reaction_id',v=o||u||s,_=t.kind?this.buildURL(h,v,t.kind):this.buildURL(h,v);return this.client.get({url:_,qs:c,token:this.token})}},{key:\"update\",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=o.targetFeeds,s=void 0===u?[]:u,l=o.targetFeedsExtraData,c={data:n,target_feeds:this._convertTargetFeeds(s)};return null!=l&&(c.target_feeds_extra_data=l),this.client.put({url:this.buildURL(t),body:c,token:this.token})}},{key:\"delete\",value:function(t){return this.client.delete({url:this.buildURL(t),token:this.token})}}]),t})();e.StreamReaction=c});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0],[1,45,3,4,"_interopRequireDefault"],[1,47,3,29,"require"],[1,49,3,36,"d"],[1,51,3,36],[1,55,5,0,"Object"],[1,62,5,7,"defineProperty"],[1,77,5,22,"exports"],[1,79,5,31],[1,93,6,2,"value"],[1,100,6,9],[1,104,8,0,"exports"],[1,106,8,8,"StreamReaction"],[1,126,8,0,"undefined"],[1,128,10,0],[1,132,10,4,"_objectWithoutProperties2"],[1,134,10,32,"_interopRequireDefault"],[1,136,10,55,"require"],[1,138,10,62,"d"],[1,140,10,62],[1,145,12,4,"_classCallCheck2"],[1,147,12,23,"_interopRequireDefault"],[1,149,12,46,"require"],[1,151,12,53,"d"],[1,153,12,53],[1,158,14,4,"_createClass2"],[1,160,14,20,"_interopRequireDefault"],[1,162,14,43,"require"],[1,164,14,50,"d"],[1,166,14,50],[1,171,16,4,"_defineProperty2"],[1,173,16,23,"_interopRequireDefault"],[1,175,16,46,"require"],[1,177,16,53,"d"],[1,179,16,53],[1,184,18,4,"_errors"],[1,186,18,14,"require"],[1,188,18,21,"d"],[1,190,18,21],[1,194,20,4,"StreamReaction"],[1,197,20,34],[1,208,30,2],[1,217,30,11,"StreamReaction"],[1,219,30,26,"client"],[1,221,30,34,"token"],[1,225,31,4],[1,227,31,8,"_classCallCheck2"],[1,229,31,25,"default"],[1,238,31,34,"this"],[1,243,31,40,"StreamReaction"],[1,247,32,4],[1,249,32,8,"_defineProperty2"],[1,251,32,25,"default"],[1,260,32,34,"this"],[1,265,32,40],[1,279,32,4,"undefined"],[1,283,33,4],[1,285,33,8,"_defineProperty2"],[1,287,33,25,"default"],[1,296,33,34,"this"],[1,301,33,40],[1,314,33,4,"undefined"],[1,318,34,4],[1,320,34,8,"_defineProperty2"],[1,322,34,25,"default"],[1,331,34,34,"this"],[1,336,34,40],[1,347,34,52],[1,358,35,6],[1,362,35,11],[1,366,35,15,"_len"],[1,368,35,22,"arguments"],[1,378,35,32,"length"],[1,385,35,40,"args"],[1,387,35,47],[1,391,35,51,"Array"],[1,397,35,57,"_len"],[1,400,35,64,"_key"],[1,402,35,71],[1,404,35,74,"_key"],[1,406,35,81,"_len"],[1,408,35,87,"_key"],[1,412,36,8,"args"],[1,414,36,13,"_key"],[1,417,36,21,"arguments"],[1,427,36,31,"_key"],[1,430,39,6],[1,436,39,13],[1,439,39,16,"concat"],[1,447,39,24],[1,459,39,36,"concat"],[1,466,39,43,"args"],[1,469,39,49,"join"],[1,474,39,54],[1,479,39,60],[1,487,41,4],[1,489,41,8,"_defineProperty2"],[1,491,41,25,"default"],[1,500,41,34,"this"],[1,505,41,40],[1,527,41,63],[1,538,43,6],[1,545,42,24,"arguments"],[1,555,42,34,"length"],[1,562,42,43],[1,570,42,65,"undefined"],[1,574,42,48,"arguments"],[1,584,42,58],[1,587,42,77,"arguments"],[1,597,42,87],[1,604,43,25,"map"],[1,608,43,29],[1,617,43,39,"elem"],[1,620,44,8],[1,626,44,31],[1,643,44,22,"elem"],[1,645,44,42,"elem"],[1,647,44,49,"elem"],[1,649,44,54,"id"],[1,656,47,4,"this"],[1,661,47,9,"client"],[1,668,47,18,"client"],[1,670,48,4,"this"],[1,675,48,9,"token"],[1,681,48,17,"token"],[1,683,258,2],[1,690,51,2],[1,692,51,6,"_createClass2"],[1,694,51,20,"default"],[1,703,51,29,"StreamReaction"],[1,707,52,4,"key"],[1,711,52,9],[1,717,53,4,"value"],[1,723,71,4],[1,732,71,17,"kind"],[1,734,71,23,"activity"],[1,736,71,33,"data"],[1,739,72,6],[1,743,72,10,"_ref"],[1,745,72,17,"arguments"],[1,755,72,27,"length"],[1,762,72,36],[1,770,72,58,"undefined"],[1,774,72,41,"arguments"],[1,784,72,51],[1,787,72,70,"arguments"],[1,797,72,80],[1,803,73,10,"id"],[1,805,73,15,"_ref"],[1,807,73,20,"id"],[1,810,74,10,"_ref$targetFeeds"],[1,812,74,29,"_ref"],[1,814,74,34,"targetFeeds"],[1,826,75,10,"targetFeeds"],[1,833,75,40,"undefined"],[1,837,75,24,"_ref$targetFeeds"],[1,842,75,59,"_ref$targetFeeds"],[1,844,76,10,"userId"],[1,846,76,19,"_ref"],[1,848,76,24,"userId"],[1,855,77,10,"targetFeedsExtraData"],[1,857,77,33,"_ref"],[1,859,77,38,"targetFeedsExtraData"],[1,880,79,10,"body"],[1,883,80,8,"id"],[1,886,80,12,"id"],[1,888,81,8,"activity_id"],[1,900,81,21,"activity"],[1,913,81,41,"Object"],[1,920,81,50,"activity"],[1,922,81,59,"id"],[1,925,81,64,"activity"],[1,927,82,8,"kind"],[1,932,82,14,"kind"],[1,934,83,8,"data"],[1,939,83,14,"data"],[1,945,84,8,"target_feeds"],[1,958,84,22,"this"],[1,963,84,27,"_convertTargetFeeds"],[1,983,84,47,"targetFeeds"],[1,986,85,8,"user_id"],[1,994,85,17,"userId"],[1,997,92,6],[1,1004,88,34],[1,1010,88,10,"targetFeedsExtraData"],[1,1014,89,8,"body"],[1,1016,89,13,"target_feeds_extra_data"],[1,1040,89,39,"targetFeedsExtraData"],[1,1043,92,13,"this"],[1,1048,92,18,"client"],[1,1055,92,25,"post"],[1,1061,93,8,"url"],[1,1065,93,13,"this"],[1,1070,93,18,"buildURL"],[1,1081,94,8,"body"],[1,1086,94,14,"body"],[1,1088,95,8,"token"],[1,1094,95,15,"this"],[1,1099,95,20,"token"],[1,1110,116,4,"key"],[1,1114,116,9],[1,1125,117,4,"value"],[1,1131,117,11],[1,1140,117,29,"kind"],[1,1142,117,35,"reaction"],[1,1144,117,45,"data"],[1,1147,118,6],[1,1151,118,10,"_ref2"],[1,1153,118,18,"arguments"],[1,1163,118,28,"length"],[1,1170,118,37],[1,1178,118,59,"undefined"],[1,1182,118,42,"arguments"],[1,1192,118,52],[1,1195,118,71,"arguments"],[1,1205,118,81],[1,1211,119,10,"_ref2$targetFeeds"],[1,1213,119,30,"_ref2"],[1,1215,119,36,"targetFeeds"],[1,1227,120,10,"targetFeeds"],[1,1234,120,41,"undefined"],[1,1238,120,24,"_ref2$targetFeeds"],[1,1243,120,60,"_ref2$targetFeeds"],[1,1245,121,10,"userId"],[1,1247,121,19,"_ref2"],[1,1249,121,25,"userId"],[1,1256,122,10,"targetFeedsExtraData"],[1,1258,122,33,"_ref2"],[1,1260,122,39,"targetFeedsExtraData"],[1,1281,124,10,"body"],[1,1284,125,8,"parent"],[1,1291,125,16,"reaction"],[1,1304,125,36,"Object"],[1,1311,125,45,"reaction"],[1,1313,125,54,"id"],[1,1316,125,59,"reaction"],[1,1318,126,8,"kind"],[1,1323,126,14,"kind"],[1,1325,127,8,"data"],[1,1330,127,14,"data"],[1,1336,128,8,"target_feeds"],[1,1349,128,22,"this"],[1,1354,128,27,"_convertTargetFeeds"],[1,1374,128,47,"targetFeeds"],[1,1377,129,8,"user_id"],[1,1385,129,17,"userId"],[1,1388,136,6],[1,1395,132,34],[1,1401,132,10,"targetFeedsExtraData"],[1,1405,133,8,"body"],[1,1407,133,13,"target_feeds_extra_data"],[1,1431,133,39,"targetFeedsExtraData"],[1,1434,136,13,"this"],[1,1439,136,18,"client"],[1,1446,136,25,"post"],[1,1452,137,8,"url"],[1,1456,137,13,"this"],[1,1461,137,18,"buildURL"],[1,1472,138,8,"body"],[1,1477,138,14,"body"],[1,1479,139,8,"token"],[1,1485,139,15,"this"],[1,1490,139,20,"token"],[1,1501,153,4,"key"],[1,1505,153,9],[1,1511,154,4,"value"],[1,1517,154,11],[1,1526,154,24,"id"],[1,1529,155,6],[1,1536,155,13,"this"],[1,1541,155,18,"client"],[1,1548,155,25,"get"],[1,1553,156,8,"url"],[1,1557,156,13,"this"],[1,1562,156,18,"buildURL"],[1,1571,156,27,"id"],[1,1574,157,8,"token"],[1,1580,157,15,"this"],[1,1585,157,20,"token"],[1,1596,177,4,"key"],[1,1600,177,9],[1,1609,178,4,"value"],[1,1615,178,11],[1,1624,178,27,"conditions"],[1,1627,179,6],[1,1631,179,10,"userId"],[1,1633,179,19,"conditions"],[1,1635,179,30,"user_id"],[1,1643,180,10,"activityId"],[1,1645,180,23,"conditions"],[1,1647,180,34,"activity_id"],[1,1659,181,10,"reactionId"],[1,1661,181,23,"conditions"],[1,1663,181,34,"reaction_id"],[1,1675,182,10,"qs"],[1,1678,182,15],[1,1680,182,19,"_objectWithoutProperties2"],[1,1682,182,45,"default"],[1,1691,182,54,"conditions"],[1,1694,182,67],[1,1704,182,78],[1,1718,182,93],[1,1734,188,6],[1,1737,184,11,"qs"],[1,1739,184,14,"limit"],[1,1747,185,8,"qs"],[1,1749,185,11,"limit"],[1,1755,185,19],[1,1760,188,11,"userId"],[1,1762,188,20],[1,1764,188,24],[1,1768,188,30,"activityId"],[1,1770,188,43],[1,1772,188,47],[1,1776,188,53,"reactionId"],[1,1778,188,66],[1,1780,188,70],[1,1784,188,77],[1,1786,189,8],[1,1792,189,14],[1,1796,189,18,"_errors"],[1,1798,189,26,"SiteError"],[1,1808,189,36],[1,1901,192,6],[1,1905,192,10,"lookupType"],[1,1908,192,23,"userId"],[1,1910,192,33],[1,1920,192,46,"activityId"],[1,1923,192,60],[1,1939,192,77,"reactionId"],[1,1942,192,91],[1,1956,193,10,"value"],[1,1958,193,18,"userId"],[1,1961,193,28,"activityId"],[1,1964,193,42,"reactionId"],[1,1966,194,10,"url"],[1,1968,194,16,"conditions"],[1,1970,194,27,"kind"],[1,1975,194,34,"this"],[1,1980,194,39,"buildURL"],[1,1989,194,48,"lookupType"],[1,1991,194,60,"value"],[1,1993,194,67,"conditions"],[1,1995,194,78,"kind"],[1,2001,194,86,"this"],[1,2006,194,91,"buildURL"],[1,2015,194,100,"lookupType"],[1,2017,194,112,"value"],[1,2020,195,6],[1,2027,195,13,"this"],[1,2032,195,18,"client"],[1,2039,195,25,"get"],[1,2044,196,8,"url"],[1,2048,196,13,"url"],[1,2050,197,8,"qs"],[1,2053,197,12,"qs"],[1,2055,198,8,"token"],[1,2061,198,15,"this"],[1,2066,198,20,"token"],[1,2077,217,4,"key"],[1,2081,217,9],[1,2090,218,4,"value"],[1,2096,218,11],[1,2105,218,27,"id"],[1,2107,218,31,"data"],[1,2110,219,6],[1,2114,219,10,"_ref3"],[1,2116,219,18,"arguments"],[1,2126,219,28,"length"],[1,2133,219,37],[1,2141,219,59,"undefined"],[1,2145,219,42,"arguments"],[1,2155,219,52],[1,2158,219,71,"arguments"],[1,2168,219,81],[1,2174,220,10,"_ref3$targetFeeds"],[1,2176,220,30,"_ref3"],[1,2178,220,36,"targetFeeds"],[1,2190,221,10,"targetFeeds"],[1,2197,221,41,"undefined"],[1,2201,221,24,"_ref3$targetFeeds"],[1,2206,221,60,"_ref3$targetFeeds"],[1,2208,222,10,"targetFeedsExtraData"],[1,2210,222,33,"_ref3"],[1,2212,222,39,"targetFeedsExtraData"],[1,2233,224,10,"body"],[1,2236,225,8,"data"],[1,2241,225,14,"data"],[1,2243,226,8,"target_feeds"],[1,2256,226,22,"this"],[1,2261,226,27,"_convertTargetFeeds"],[1,2281,226,47,"targetFeeds"],[1,2285,233,6],[1,2292,229,34],[1,2298,229,10,"targetFeedsExtraData"],[1,2302,230,8,"body"],[1,2304,230,13,"target_feeds_extra_data"],[1,2328,230,39,"targetFeedsExtraData"],[1,2331,233,13,"this"],[1,2336,233,18,"client"],[1,2343,233,25,"put"],[1,2348,234,8,"url"],[1,2352,234,13,"this"],[1,2357,234,18,"buildURL"],[1,2366,234,27,"id"],[1,2369,235,8,"body"],[1,2374,235,14,"body"],[1,2376,236,8,"token"],[1,2382,236,15,"this"],[1,2387,236,20,"token"],[1,2398,250,4,"key"],[1,2402,250,9],[1,2411,251,4,"value"],[1,2417,251,11],[1,2426,251,28,"id"],[1,2429,252,6],[1,2436,252,13,"this"],[1,2441,252,18,"client"],[1,2448,252,25,"delete"],[1,2456,253,8,"url"],[1,2460,253,13,"this"],[1,2465,253,18,"buildURL"],[1,2474,253,27,"id"],[1,2477,254,8,"token"],[1,2483,254,15,"this"],[1,2488,254,20,"token"],[1,2500,258,9,"StreamReaction"],[1,2503,20,34],[1,2506,261,0,"exports"],[1,2508,261,8,"StreamReaction"],[1,2523,261,25,"StreamReaction"]],"functionMap":{"names":["<global>","<anonymous>","StreamReaction","targetFeeds.map$argument_0","add","addChild","get","filter","update","_delete"],"mappings":"AAA;kCCmB;ECU;oDDI;KCM;+DDC;6BEE;OFE;KCC;GDG;IGsB;KH0B;WIoB;KJwB;WKa;KLK;WMmB;KNsB;WOkB;KPoB;WQa;KRK;CDG"}},"type":"js/module"}]}