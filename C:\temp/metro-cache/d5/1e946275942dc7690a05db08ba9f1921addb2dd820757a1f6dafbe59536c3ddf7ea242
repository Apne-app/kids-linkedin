{"dependencies":[{"name":"./errors","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var errors = _$$_REQUIRE(_dependencyMap[0], \"./errors\");\n\n  var Collections = function Collections() {\n    this.initialize.apply(this, arguments);\n  };\n\n  Collections.prototype = {\n    initialize: function initialize(client, token) {\n      this.client = client;\n      this.token = token;\n    },\n    buildURL: function buildURL(collection, itemId) {\n      var url = 'collections/' + collection + '/';\n\n      if (itemId === undefined) {\n        return url;\n      }\n\n      return url + itemId + '/';\n    },\n    entry: function entry(collection, itemId, itemData) {\n      return new CollectionEntry(this, collection, itemId, itemData);\n    },\n    get: function get(collection, itemId, callback) {\n      var self = this;\n      return this.client.get({\n        url: this.buildURL(collection, itemId),\n        signature: this.token\n      }).then(function (response) {\n        var entry = self.client.collections.entry(response.collection, response.id, response.data);\n        entry.full = response;\n\n        if (callback) {\n          callback(entry);\n        }\n\n        return entry;\n      });\n    },\n    add: function add(collection, itemId, itemData, callback) {\n      var self = this;\n\n      if (itemId === null) {\n        itemId = undefined;\n      }\n\n      var body = {\n        id: itemId,\n        data: itemData\n      };\n      return this.client.post({\n        url: this.buildURL(collection),\n        body: body,\n        signature: this.token\n      }).then(function (response) {\n        var entry = self.client.collections.entry(response.collection, response.id, response.data);\n        entry.full = response;\n\n        if (callback) {\n          callback(entry);\n        }\n\n        return entry;\n      });\n    },\n    update: function update(collection, entryId, data, callback) {\n      var self = this;\n      var body = {\n        data: data\n      };\n      return this.client.put({\n        url: this.buildURL(collection, entryId),\n        body: body,\n        signature: this.token\n      }).then(function (response) {\n        var entry = self.client.collections.entry(response.collection, response.id, response.data);\n        entry.full = response;\n\n        if (callback) {\n          callback(entry);\n        }\n\n        return entry;\n      });\n    },\n    delete: function _delete(collection, entryId, callback) {\n      return this.client['delete']({\n        url: this.buildURL(collection, entryId),\n        signature: this.token\n      }, callback);\n    },\n    upsert: function upsert(collection, data, callback) {\n      if (!this.client.usingApiSecret) {\n        throw new errors.SiteError('This method can only be used server-side using your API Secret');\n      }\n\n      var last = arguments[arguments.length - 1];\n      callback = last.call ? last : undefined;\n\n      if (!Array.isArray(data)) {\n        data = [data];\n      }\n\n      var data_json = {\n        data: {}\n      };\n      data_json['data'][collection] = data;\n      return this.client.post({\n        url: 'collections/',\n        serviceName: 'api',\n        body: data_json,\n        signature: this.client.getCollectionsToken()\n      }, callback);\n    },\n    select: function select(collection, ids, callback) {\n      if (!this.client.usingApiSecret) {\n        throw new errors.SiteError('This method can only be used server-side using your API Secret');\n      }\n\n      var last = arguments[arguments.length - 1];\n      callback = last.call ? last : undefined;\n\n      if (!Array.isArray(ids)) {\n        ids = [ids];\n      }\n\n      var params = {\n        foreign_ids: ids.map(function (id) {\n          return collection + ':' + id;\n        }).join(',')\n      };\n      return this.client.get({\n        url: 'collections/',\n        serviceName: 'api',\n        qs: params,\n        signature: this.client.getCollectionsToken()\n      }, callback);\n    },\n    deleteMany: function deleteMany(collection, ids, callback) {\n      if (!this.client.usingApiSecret) {\n        throw new errors.SiteError('This method can only be used server-side using your API Secret');\n      }\n\n      var last = arguments[arguments.length - 1];\n      callback = last.call ? last : undefined;\n\n      if (!Array.isArray(ids)) {\n        ids = [ids];\n      }\n\n      ids = ids.map(function (id) {\n        return id.toString();\n      }).join(',');\n      var params = {\n        collection_name: collection,\n        ids: ids\n      };\n      return this.client.delete({\n        url: 'collections/',\n        serviceName: 'api',\n        qs: params,\n        signature: this.client.getCollectionsToken()\n      }, callback);\n    }\n  };\n\n  var CollectionEntry = function CollectionEntry() {\n    this.initialize.apply(this, arguments);\n  };\n\n  CollectionEntry.prototype = {\n    initialize: function initialize(store, collection, id, data) {\n      this.collection = collection;\n      this.store = store;\n      this.id = id;\n      this.data = data;\n    },\n    _streamRef: function _streamRef() {\n      return \"SO:\".concat(this.collection, \":\").concat(this.id);\n    },\n    get: function get(callback) {\n      var _this = this;\n\n      return this.store.get(this.collection, this.id).then(function (response) {\n        _this.data = response.data;\n        _this.full = response;\n\n        if (callback) {\n          callback(response);\n        }\n\n        return response;\n      });\n    },\n    add: function add(callback) {\n      var _this2 = this;\n\n      return this.store.add(this.collection, this.id, this.data).then(function (response) {\n        _this2.data = response.data;\n        _this2.full = response;\n\n        if (callback) {\n          callback(response);\n        }\n\n        return response;\n      });\n    },\n    update: function update(callback) {\n      var _this3 = this;\n\n      return this.store.update(this.collection, this.id, this.data).then(function (response) {\n        _this3.data = response.data;\n        _this3.full = response;\n\n        if (callback) {\n          callback(response);\n        }\n\n        return response;\n      });\n    },\n    delete: function _delete(callback) {\n      var _this4 = this;\n\n      return this.store.delete(this.collection, this.id).then(function (response) {\n        _this4.data = null;\n        _this4.full = null;\n\n        if (callback) {\n          callback(response);\n        }\n\n        return response;\n      });\n    }\n  };\n  module.exports = Collections;\n});","lineCount":240,"map":[[2,0,1,0],[2,6,1,4,"errors"],[2,12,1,10],[2,15,1,13,"require"],[2,26,1,20],[2,57,1,0],[4,0,3,0],[4,6,3,4,"Collections"],[4,17,3,15],[4,20,3,18],[4,29,3,27,"Collections"],[4,40,3,18],[4,43,3,41],[5,0,4,2],[5,9,4,7,"initialize"],[5,19,4,2],[5,20,4,18,"apply"],[5,25,4,2],[5,26,4,24],[5,30,4,2],[5,32,4,30,"arguments"],[5,41,4,2],[6,0,5,1],[6,3,3,0],[8,0,7,0,"Collections"],[8,2,7,0,"Collections"],[8,13,7,11],[8,14,7,12,"prototype"],[8,23,7,0],[8,26,7,24],[9,0,8,2,"initialize"],[9,4,8,2,"initialize"],[9,14,8,12],[9,16,8,14],[9,25,8,23,"initialize"],[9,35,8,14],[9,36,8,34,"client"],[9,42,8,14],[9,44,8,42,"token"],[9,49,8,14],[9,51,8,49],[10,0,16,4],[10,11,16,9,"client"],[10,17,16,4],[10,20,16,18,"client"],[10,26,16,4],[11,0,17,4],[11,11,17,9,"token"],[11,16,17,4],[11,19,17,17,"token"],[11,24,17,4],[12,0,18,3],[12,5,7,24],[13,0,19,2,"buildURL"],[13,4,19,2,"buildURL"],[13,12,19,10],[13,14,19,12],[13,23,19,21,"buildURL"],[13,31,19,12],[13,32,19,30,"collection"],[13,42,19,12],[13,44,19,42,"itemId"],[13,50,19,12],[13,52,19,50],[14,0,20,4],[14,10,20,8,"url"],[14,13,20,11],[14,16,20,14],[14,33,20,31,"collection"],[14,43,20,14],[14,46,20,44],[14,49,20,4],[16,0,22,4],[16,10,22,8,"itemId"],[16,16,22,14],[16,21,22,19,"undefined"],[16,30,22,4],[16,32,22,30],[17,0,23,6],[17,15,23,13,"url"],[17,18,23,6],[18,0,24,5],[20,0,26,4],[20,13,26,11,"url"],[20,16,26,14],[20,19,26,17,"itemId"],[20,25,26,11],[20,28,26,26],[20,31,26,4],[21,0,27,3],[21,5,7,24],[22,0,28,2,"entry"],[22,4,28,2,"entry"],[22,9,28,7],[22,11,28,9],[22,20,28,18,"entry"],[22,25,28,9],[22,26,28,24,"collection"],[22,36,28,9],[22,38,28,36,"itemId"],[22,44,28,9],[22,46,28,44,"itemData"],[22,54,28,9],[22,56,28,54],[23,0,29,4],[23,13,29,11],[23,17,29,15,"CollectionEntry"],[23,32,29,11],[23,33,29,31],[23,37,29,11],[23,39,29,37,"collection"],[23,49,29,11],[23,51,29,49,"itemId"],[23,57,29,11],[23,59,29,57,"itemData"],[23,67,29,11],[23,68,29,4],[24,0,30,3],[24,5,7,24],[25,0,31,2,"get"],[25,4,31,2,"get"],[25,7,31,5],[25,9,31,7],[25,18,31,16,"get"],[25,21,31,7],[25,22,31,20,"collection"],[25,32,31,7],[25,34,31,32,"itemId"],[25,40,31,7],[25,42,31,40,"callback"],[25,50,31,7],[25,52,31,50],[26,0,42,4],[26,10,42,8,"self"],[26,14,42,12],[26,17,42,15],[26,21,42,4],[27,0,43,4],[27,13,43,11],[27,18,43,16,"client"],[27,24,43,11],[27,25,43,23,"get"],[27,28,43,11],[27,29,43,27],[28,0,44,6,"url"],[28,8,44,6,"url"],[28,11,44,9],[28,13,44,11],[28,18,44,16,"buildURL"],[28,26,44,11],[28,27,44,25,"collection"],[28,37,44,11],[28,39,44,37,"itemId"],[28,45,44,11],[28,46,43,27],[29,0,45,6,"signature"],[29,8,45,6,"signature"],[29,17,45,15],[29,19,45,17],[29,24,45,22,"token"],[30,0,43,27],[30,7,43,11],[30,9,46,7,"then"],[30,13,43,11],[30,14,46,12],[30,24,46,22,"response"],[30,32,46,12],[30,34,46,32],[31,0,47,6],[31,12,47,10,"entry"],[31,17,47,15],[31,20,47,18,"self"],[31,24,47,22],[31,25,47,23,"client"],[31,31,47,18],[31,32,47,30,"collections"],[31,43,47,18],[31,44,47,42,"entry"],[31,49,47,18],[31,50,47,48,"response"],[31,58,47,56],[31,59,47,57,"collection"],[31,69,47,18],[31,71,47,69,"response"],[31,79,47,77],[31,80,47,78,"id"],[31,82,47,18],[31,84,47,82,"response"],[31,92,47,90],[31,93,47,91,"data"],[31,97,47,18],[31,98,47,6],[32,0,48,6,"entry"],[32,8,48,6,"entry"],[32,13,48,11],[32,14,48,12,"full"],[32,18,48,6],[32,21,48,19,"response"],[32,29,48,6],[34,0,50,6],[34,12,50,10,"callback"],[34,20,50,6],[34,22,50,20],[35,0,51,8,"callback"],[35,10,51,8,"callback"],[35,18,51,16],[35,19,51,17,"entry"],[35,24,51,16],[35,25,51,8],[36,0,52,7],[38,0,54,6],[38,15,54,13,"entry"],[38,20,54,6],[39,0,55,5],[39,7,43,11],[39,8,43,4],[40,0,56,3],[40,5,7,24],[41,0,57,2,"add"],[41,4,57,2,"add"],[41,7,57,5],[41,9,57,7],[41,18,57,16,"add"],[41,21,57,7],[41,22,57,20,"collection"],[41,32,57,7],[41,34,57,32,"itemId"],[41,40,57,7],[41,42,57,40,"itemData"],[41,50,57,7],[41,52,57,50,"callback"],[41,60,57,7],[41,62,57,60],[42,0,69,4],[42,10,69,8,"self"],[42,14,69,12],[42,17,69,15],[42,21,69,4],[44,0,71,4],[44,10,71,8,"itemId"],[44,16,71,14],[44,21,71,19],[44,25,71,4],[44,27,71,25],[45,0,72,6,"itemId"],[45,8,72,6,"itemId"],[45,14,72,12],[45,17,72,15,"undefined"],[45,26,72,6],[46,0,73,5],[48,0,75,4],[48,10,75,8,"body"],[48,14,75,12],[48,17,75,15],[49,0,76,6,"id"],[49,8,76,6,"id"],[49,10,76,8],[49,12,76,10,"itemId"],[49,18,75,15],[50,0,77,6,"data"],[50,8,77,6,"data"],[50,12,77,10],[50,14,77,12,"itemData"],[51,0,75,15],[51,7,75,4],[52,0,79,4],[52,13,79,11],[52,18,79,16,"client"],[52,24,79,11],[52,25,79,23,"post"],[52,29,79,11],[52,30,79,28],[53,0,80,6,"url"],[53,8,80,6,"url"],[53,11,80,9],[53,13,80,11],[53,18,80,16,"buildURL"],[53,26,80,11],[53,27,80,25,"collection"],[53,37,80,11],[53,38,79,28],[54,0,81,6,"body"],[54,8,81,6,"body"],[54,12,81,10],[54,14,81,12,"body"],[54,18,79,28],[55,0,82,6,"signature"],[55,8,82,6,"signature"],[55,17,82,15],[55,19,82,17],[55,24,82,22,"token"],[56,0,79,28],[56,7,79,11],[56,9,83,7,"then"],[56,13,79,11],[56,14,83,12],[56,24,83,22,"response"],[56,32,83,12],[56,34,83,32],[57,0,84,6],[57,12,84,10,"entry"],[57,17,84,15],[57,20,84,18,"self"],[57,24,84,22],[57,25,84,23,"client"],[57,31,84,18],[57,32,84,30,"collections"],[57,43,84,18],[57,44,84,42,"entry"],[57,49,84,18],[57,50,84,48,"response"],[57,58,84,56],[57,59,84,57,"collection"],[57,69,84,18],[57,71,84,69,"response"],[57,79,84,77],[57,80,84,78,"id"],[57,82,84,18],[57,84,84,82,"response"],[57,92,84,90],[57,93,84,91,"data"],[57,97,84,18],[57,98,84,6],[58,0,85,6,"entry"],[58,8,85,6,"entry"],[58,13,85,11],[58,14,85,12,"full"],[58,18,85,6],[58,21,85,19,"response"],[58,29,85,6],[60,0,87,6],[60,12,87,10,"callback"],[60,20,87,6],[60,22,87,20],[61,0,88,8,"callback"],[61,10,88,8,"callback"],[61,18,88,16],[61,19,88,17,"entry"],[61,24,88,16],[61,25,88,8],[62,0,89,7],[64,0,91,6],[64,15,91,13,"entry"],[64,20,91,6],[65,0,92,5],[65,7,79,11],[65,8,79,4],[66,0,93,3],[66,5,7,24],[67,0,94,2,"update"],[67,4,94,2,"update"],[67,10,94,8],[67,12,94,10],[67,21,94,19,"update"],[67,27,94,10],[67,28,94,26,"collection"],[67,38,94,10],[67,40,94,38,"entryId"],[67,47,94,10],[67,49,94,47,"data"],[67,53,94,10],[67,55,94,53,"callback"],[67,63,94,10],[67,65,94,63],[68,0,107,4],[68,10,107,8,"self"],[68,14,107,12],[68,17,107,15],[68,21,107,4],[69,0,108,4],[69,10,108,8,"body"],[69,14,108,12],[69,17,108,15],[70,0,109,6,"data"],[70,8,109,6,"data"],[70,12,109,10],[70,14,109,12,"data"],[71,0,108,15],[71,7,108,4],[72,0,111,4],[72,13,111,11],[72,18,111,16,"client"],[72,24,111,11],[72,25,111,23,"put"],[72,28,111,11],[72,29,111,27],[73,0,112,6,"url"],[73,8,112,6,"url"],[73,11,112,9],[73,13,112,11],[73,18,112,16,"buildURL"],[73,26,112,11],[73,27,112,25,"collection"],[73,37,112,11],[73,39,112,37,"entryId"],[73,46,112,11],[73,47,111,27],[74,0,113,6,"body"],[74,8,113,6,"body"],[74,12,113,10],[74,14,113,12,"body"],[74,18,111,27],[75,0,114,6,"signature"],[75,8,114,6,"signature"],[75,17,114,15],[75,19,114,17],[75,24,114,22,"token"],[76,0,111,27],[76,7,111,11],[76,9,115,7,"then"],[76,13,111,11],[76,14,115,12],[76,24,115,22,"response"],[76,32,115,12],[76,34,115,32],[77,0,116,6],[77,12,116,10,"entry"],[77,17,116,15],[77,20,116,18,"self"],[77,24,116,22],[77,25,116,23,"client"],[77,31,116,18],[77,32,116,30,"collections"],[77,43,116,18],[77,44,116,42,"entry"],[77,49,116,18],[77,50,116,48,"response"],[77,58,116,56],[77,59,116,57,"collection"],[77,69,116,18],[77,71,116,69,"response"],[77,79,116,77],[77,80,116,78,"id"],[77,82,116,18],[77,84,116,82,"response"],[77,92,116,90],[77,93,116,91,"data"],[77,97,116,18],[77,98,116,6],[78,0,117,6,"entry"],[78,8,117,6,"entry"],[78,13,117,11],[78,14,117,12,"full"],[78,18,117,6],[78,21,117,19,"response"],[78,29,117,6],[80,0,119,6],[80,12,119,10,"callback"],[80,20,119,6],[80,22,119,20],[81,0,120,8,"callback"],[81,10,120,8,"callback"],[81,18,120,16],[81,19,120,17,"entry"],[81,24,120,16],[81,25,120,8],[82,0,121,7],[84,0,123,6],[84,15,123,13,"entry"],[84,20,123,6],[85,0,124,5],[85,7,111,11],[85,8,111,4],[86,0,125,3],[86,5,7,24],[87,0,126,2,"delete"],[87,4,126,2,"delete"],[87,10,126,8],[87,12,126,10],[87,21,126,19,"_delete"],[87,28,126,10],[87,29,126,27,"collection"],[87,39,126,10],[87,41,126,39,"entryId"],[87,48,126,10],[87,50,126,48,"callback"],[87,58,126,10],[87,60,126,58],[88,0,136,4],[88,13,136,11],[88,18,136,16,"client"],[88,24,136,11],[88,25,136,23],[88,33,136,11],[88,35,136,33],[89,0,137,6,"url"],[89,8,137,6,"url"],[89,11,137,9],[89,13,137,11],[89,18,137,16,"buildURL"],[89,26,137,11],[89,27,137,25,"collection"],[89,37,137,11],[89,39,137,37,"entryId"],[89,46,137,11],[89,47,136,33],[90,0,138,6,"signature"],[90,8,138,6,"signature"],[90,17,138,15],[90,19,138,17],[90,24,138,22,"token"],[91,0,136,33],[91,7,136,11],[91,9,139,7,"callback"],[91,17,136,11],[91,18,136,4],[92,0,140,3],[92,5,7,24],[93,0,141,2,"upsert"],[93,4,141,2,"upsert"],[93,10,141,8],[93,12,141,10],[93,21,141,19,"upsert"],[93,27,141,10],[93,28,141,26,"collection"],[93,38,141,10],[93,40,141,38,"data"],[93,44,141,10],[93,46,141,44,"callback"],[93,54,141,10],[93,56,141,54],[94,0,151,4],[94,10,151,8],[94,11,151,9],[94,16,151,14,"client"],[94,22,151,9],[94,23,151,21,"usingApiSecret"],[94,37,151,4],[94,39,151,37],[95,0,152,6],[95,14,152,12],[95,18,152,16,"errors"],[95,24,152,22],[95,25,152,23,"SiteError"],[95,34,152,12],[95,35,152,33],[95,99,152,12],[95,100,152,6],[96,0,153,5],[98,0,155,4],[98,10,155,8,"last"],[98,14,155,12],[98,17,155,15,"arguments"],[98,26,155,24],[98,27,155,25,"arguments"],[98,36,155,34],[98,37,155,35,"length"],[98,43,155,25],[98,46,155,44],[98,47,155,24],[98,48,155,4],[99,0,157,4,"callback"],[99,6,157,4,"callback"],[99,14,157,12],[99,17,157,15,"last"],[99,21,157,19],[99,22,157,20,"call"],[99,26,157,15],[99,29,157,27,"last"],[99,33,157,15],[99,36,157,34,"undefined"],[99,45,157,4],[101,0,159,4],[101,10,159,8],[101,11,159,9,"Array"],[101,16,159,14],[101,17,159,15,"isArray"],[101,24,159,9],[101,25,159,23,"data"],[101,29,159,9],[101,30,159,4],[101,32,159,30],[102,0,160,6,"data"],[102,8,160,6,"data"],[102,12,160,10],[102,15,160,13],[102,16,160,14,"data"],[102,20,160,13],[102,21,160,6],[103,0,161,5],[105,0,163,4],[105,10,163,8,"data_json"],[105,19,163,17],[105,22,163,20],[106,0,164,6,"data"],[106,8,164,6,"data"],[106,12,164,10],[106,14,164,12],[107,0,163,20],[107,7,163,4],[108,0,166,4,"data_json"],[108,6,166,4,"data_json"],[108,15,166,13],[108,16,166,14],[108,22,166,13],[108,23,166,4],[108,24,166,22,"collection"],[108,34,166,4],[108,38,166,36,"data"],[108,42,166,4],[109,0,167,4],[109,13,167,11],[109,18,167,16,"client"],[109,24,167,11],[109,25,167,23,"post"],[109,29,167,11],[109,30,167,28],[110,0,168,6,"url"],[110,8,168,6,"url"],[110,11,168,9],[110,13,168,11],[110,27,167,28],[111,0,169,6,"serviceName"],[111,8,169,6,"serviceName"],[111,19,169,17],[111,21,169,19],[111,26,167,28],[112,0,170,6,"body"],[112,8,170,6,"body"],[112,12,170,10],[112,14,170,12,"data_json"],[112,23,167,28],[113,0,171,6,"signature"],[113,8,171,6,"signature"],[113,17,171,15],[113,19,171,17],[113,24,171,22,"client"],[113,30,171,17],[113,31,171,29,"getCollectionsToken"],[113,50,171,17],[114,0,167,28],[114,7,167,11],[114,9,172,7,"callback"],[114,17,167,11],[114,18,167,4],[115,0,173,3],[115,5,7,24],[116,0,174,2,"select"],[116,4,174,2,"select"],[116,10,174,8],[116,12,174,10],[116,21,174,19,"select"],[116,27,174,10],[116,28,174,26,"collection"],[116,38,174,10],[116,40,174,38,"ids"],[116,43,174,10],[116,45,174,43,"callback"],[116,53,174,10],[116,55,174,53],[117,0,184,4],[117,10,184,8],[117,11,184,9],[117,16,184,14,"client"],[117,22,184,9],[117,23,184,21,"usingApiSecret"],[117,37,184,4],[117,39,184,37],[118,0,185,6],[118,14,185,12],[118,18,185,16,"errors"],[118,24,185,22],[118,25,185,23,"SiteError"],[118,34,185,12],[118,35,185,33],[118,99,185,12],[118,100,185,6],[119,0,186,5],[121,0,188,4],[121,10,188,8,"last"],[121,14,188,12],[121,17,188,15,"arguments"],[121,26,188,24],[121,27,188,25,"arguments"],[121,36,188,34],[121,37,188,35,"length"],[121,43,188,25],[121,46,188,44],[121,47,188,24],[121,48,188,4],[122,0,190,4,"callback"],[122,6,190,4,"callback"],[122,14,190,12],[122,17,190,15,"last"],[122,21,190,19],[122,22,190,20,"call"],[122,26,190,15],[122,29,190,27,"last"],[122,33,190,15],[122,36,190,34,"undefined"],[122,45,190,4],[124,0,192,4],[124,10,192,8],[124,11,192,9,"Array"],[124,16,192,14],[124,17,192,15,"isArray"],[124,24,192,9],[124,25,192,23,"ids"],[124,28,192,9],[124,29,192,4],[124,31,192,29],[125,0,193,6,"ids"],[125,8,193,6,"ids"],[125,11,193,9],[125,14,193,12],[125,15,193,13,"ids"],[125,18,193,12],[125,19,193,6],[126,0,194,5],[128,0,196,4],[128,10,196,8,"params"],[128,16,196,14],[128,19,196,17],[129,0,197,6,"foreign_ids"],[129,8,197,6,"foreign_ids"],[129,19,197,17],[129,21,197,19,"ids"],[129,24,197,22],[129,25,197,23,"map"],[129,28,197,19],[129,29,197,27],[129,39,197,37,"id"],[129,41,197,27],[129,43,197,41],[130,0,198,8],[130,17,198,15,"collection"],[130,27,198,25],[130,30,198,28],[130,33,198,15],[130,36,198,34,"id"],[130,38,198,8],[131,0,199,7],[131,9,197,19],[131,11,199,9,"join"],[131,15,197,19],[131,16,199,14],[131,19,197,19],[132,0,196,17],[132,7,196,4],[133,0,201,4],[133,13,201,11],[133,18,201,16,"client"],[133,24,201,11],[133,25,201,23,"get"],[133,28,201,11],[133,29,201,27],[134,0,202,6,"url"],[134,8,202,6,"url"],[134,11,202,9],[134,13,202,11],[134,27,201,27],[135,0,203,6,"serviceName"],[135,8,203,6,"serviceName"],[135,19,203,17],[135,21,203,19],[135,26,201,27],[136,0,204,6,"qs"],[136,8,204,6,"qs"],[136,10,204,8],[136,12,204,10,"params"],[136,18,201,27],[137,0,205,6,"signature"],[137,8,205,6,"signature"],[137,17,205,15],[137,19,205,17],[137,24,205,22,"client"],[137,30,205,17],[137,31,205,29,"getCollectionsToken"],[137,50,205,17],[138,0,201,27],[138,7,201,11],[138,9,206,7,"callback"],[138,17,201,11],[138,18,201,4],[139,0,207,3],[139,5,7,24],[140,0,208,2,"deleteMany"],[140,4,208,2,"deleteMany"],[140,14,208,12],[140,16,208,14],[140,25,208,23,"deleteMany"],[140,35,208,14],[140,36,208,34,"collection"],[140,46,208,14],[140,48,208,46,"ids"],[140,51,208,14],[140,53,208,51,"callback"],[140,61,208,14],[140,63,208,61],[141,0,218,4],[141,10,218,8],[141,11,218,9],[141,16,218,14,"client"],[141,22,218,9],[141,23,218,21,"usingApiSecret"],[141,37,218,4],[141,39,218,37],[142,0,219,6],[142,14,219,12],[142,18,219,16,"errors"],[142,24,219,22],[142,25,219,23,"SiteError"],[142,34,219,12],[142,35,219,33],[142,99,219,12],[142,100,219,6],[143,0,220,5],[145,0,222,4],[145,10,222,8,"last"],[145,14,222,12],[145,17,222,15,"arguments"],[145,26,222,24],[145,27,222,25,"arguments"],[145,36,222,34],[145,37,222,35,"length"],[145,43,222,25],[145,46,222,44],[145,47,222,24],[145,48,222,4],[146,0,224,4,"callback"],[146,6,224,4,"callback"],[146,14,224,12],[146,17,224,15,"last"],[146,21,224,19],[146,22,224,20,"call"],[146,26,224,15],[146,29,224,27,"last"],[146,33,224,15],[146,36,224,34,"undefined"],[146,45,224,4],[148,0,226,4],[148,10,226,8],[148,11,226,9,"Array"],[148,16,226,14],[148,17,226,15,"isArray"],[148,24,226,9],[148,25,226,23,"ids"],[148,28,226,9],[148,29,226,4],[148,31,226,29],[149,0,227,6,"ids"],[149,8,227,6,"ids"],[149,11,227,9],[149,14,227,12],[149,15,227,13,"ids"],[149,18,227,12],[149,19,227,6],[150,0,228,5],[152,0,230,4,"ids"],[152,6,230,4,"ids"],[152,9,230,7],[152,12,230,10,"ids"],[152,15,230,13],[152,16,230,14,"map"],[152,19,230,10],[152,20,230,18],[152,30,230,28,"id"],[152,32,230,18],[152,34,230,32],[153,0,231,6],[153,15,231,13,"id"],[153,17,231,15],[153,18,231,16,"toString"],[153,26,231,13],[153,28,231,6],[154,0,232,5],[154,7,230,10],[154,9,232,7,"join"],[154,13,230,10],[154,14,232,12],[154,17,230,10],[154,18,230,4],[155,0,233,4],[155,10,233,8,"params"],[155,16,233,14],[155,19,233,17],[156,0,234,6,"collection_name"],[156,8,234,6,"collection_name"],[156,23,234,21],[156,25,234,23,"collection"],[156,35,233,17],[157,0,235,6,"ids"],[157,8,235,6,"ids"],[157,11,235,9],[157,13,235,11,"ids"],[158,0,233,17],[158,7,233,4],[159,0,237,4],[159,13,237,11],[159,18,237,16,"client"],[159,24,237,11],[159,25,237,23,"delete"],[159,31,237,11],[159,32,237,30],[160,0,238,6,"url"],[160,8,238,6,"url"],[160,11,238,9],[160,13,238,11],[160,27,237,30],[161,0,239,6,"serviceName"],[161,8,239,6,"serviceName"],[161,19,239,17],[161,21,239,19],[161,26,237,30],[162,0,240,6,"qs"],[162,8,240,6,"qs"],[162,10,240,8],[162,12,240,10,"params"],[162,18,237,30],[163,0,241,6,"signature"],[163,8,241,6,"signature"],[163,17,241,15],[163,19,241,17],[163,24,241,22,"client"],[163,30,241,17],[163,31,241,29,"getCollectionsToken"],[163,50,241,17],[164,0,237,30],[164,7,237,11],[164,9,242,7,"callback"],[164,17,237,11],[164,18,237,4],[165,0,243,3],[166,0,7,24],[166,3,7,0],[168,0,246,0],[168,6,246,4,"CollectionEntry"],[168,21,246,19],[168,24,246,22],[168,33,246,31,"CollectionEntry"],[168,48,246,22],[168,51,246,49],[169,0,247,2],[169,9,247,7,"initialize"],[169,19,247,2],[169,20,247,18,"apply"],[169,25,247,2],[169,26,247,24],[169,30,247,2],[169,32,247,30,"arguments"],[169,41,247,2],[170,0,248,1],[170,3,246,0],[172,0,250,0,"CollectionEntry"],[172,2,250,0,"CollectionEntry"],[172,17,250,15],[172,18,250,16,"prototype"],[172,27,250,0],[172,30,250,28],[173,0,251,2,"initialize"],[173,4,251,2,"initialize"],[173,14,251,12],[173,16,251,14],[173,25,251,23,"initialize"],[173,35,251,14],[173,36,251,34,"store"],[173,41,251,14],[173,43,251,41,"collection"],[173,53,251,14],[173,55,251,53,"id"],[173,57,251,14],[173,59,251,57,"data"],[173,63,251,14],[173,65,251,63],[174,0,252,4],[174,11,252,9,"collection"],[174,21,252,4],[174,24,252,22,"collection"],[174,34,252,4],[175,0,253,4],[175,11,253,9,"store"],[175,16,253,4],[175,19,253,17,"store"],[175,24,253,4],[176,0,254,4],[176,11,254,9,"id"],[176,13,254,4],[176,16,254,14,"id"],[176,18,254,4],[177,0,255,4],[177,11,255,9,"data"],[177,15,255,4],[177,18,255,16,"data"],[177,22,255,4],[178,0,256,3],[178,5,250,28],[179,0,257,2,"_streamRef"],[179,4,257,2,"_streamRef"],[179,14,257,12],[179,16,257,14],[179,25,257,23,"_streamRef"],[179,35,257,14],[179,38,257,36],[180,0,258,4],[180,13,258,11],[180,19,258,17,"concat"],[180,25,258,11],[180,26,258,24],[180,31,258,29,"collection"],[180,41,258,11],[180,43,258,41],[180,46,258,11],[180,48,258,46,"concat"],[180,54,258,11],[180,55,258,53],[180,60,258,58,"id"],[180,62,258,11],[180,63,258,4],[181,0,259,3],[181,5,250,28],[182,0,260,2,"get"],[182,4,260,2,"get"],[182,7,260,5],[182,9,260,7],[182,18,260,16,"get"],[182,21,260,7],[182,22,260,20,"callback"],[182,30,260,7],[182,32,260,30],[183,0,261,4],[183,10,261,8,"_this"],[183,15,261,13],[183,18,261,16],[183,22,261,4],[185,0,271,4],[185,13,271,11],[185,18,271,16,"store"],[185,23,271,11],[185,24,271,22,"get"],[185,27,271,11],[185,28,271,26],[185,33,271,31,"collection"],[185,43,271,11],[185,45,271,43],[185,50,271,48,"id"],[185,52,271,11],[185,54,271,52,"then"],[185,58,271,11],[185,59,271,57],[185,69,271,67,"response"],[185,77,271,57],[185,79,271,77],[186,0,272,6,"_this"],[186,8,272,6,"_this"],[186,13,272,11],[186,14,272,12,"data"],[186,18,272,6],[186,21,272,19,"response"],[186,29,272,27],[186,30,272,28,"data"],[186,34,272,6],[187,0,273,6,"_this"],[187,8,273,6,"_this"],[187,13,273,11],[187,14,273,12,"full"],[187,18,273,6],[187,21,273,19,"response"],[187,29,273,6],[189,0,275,6],[189,12,275,10,"callback"],[189,20,275,6],[189,22,275,20],[190,0,276,8,"callback"],[190,10,276,8,"callback"],[190,18,276,16],[190,19,276,17,"response"],[190,27,276,16],[190,28,276,8],[191,0,277,7],[193,0,279,6],[193,15,279,13,"response"],[193,23,279,6],[194,0,280,5],[194,7,271,11],[194,8,271,4],[195,0,281,3],[195,5,250,28],[196,0,282,2,"add"],[196,4,282,2,"add"],[196,7,282,5],[196,9,282,7],[196,18,282,16,"add"],[196,21,282,7],[196,22,282,20,"callback"],[196,30,282,7],[196,32,282,30],[197,0,283,4],[197,10,283,8,"_this2"],[197,16,283,14],[197,19,283,17],[197,23,283,4],[199,0,293,4],[199,13,293,11],[199,18,293,16,"store"],[199,23,293,11],[199,24,293,22,"add"],[199,27,293,11],[199,28,293,26],[199,33,293,31,"collection"],[199,43,293,11],[199,45,293,43],[199,50,293,48,"id"],[199,52,293,11],[199,54,293,52],[199,59,293,57,"data"],[199,63,293,11],[199,65,293,63,"then"],[199,69,293,11],[199,70,293,68],[199,80,293,78,"response"],[199,88,293,68],[199,90,293,88],[200,0,294,6,"_this2"],[200,8,294,6,"_this2"],[200,14,294,12],[200,15,294,13,"data"],[200,19,294,6],[200,22,294,20,"response"],[200,30,294,28],[200,31,294,29,"data"],[200,35,294,6],[201,0,295,6,"_this2"],[201,8,295,6,"_this2"],[201,14,295,12],[201,15,295,13,"full"],[201,19,295,6],[201,22,295,20,"response"],[201,30,295,6],[203,0,297,6],[203,12,297,10,"callback"],[203,20,297,6],[203,22,297,20],[204,0,298,8,"callback"],[204,10,298,8,"callback"],[204,18,298,16],[204,19,298,17,"response"],[204,27,298,16],[204,28,298,8],[205,0,299,7],[207,0,301,6],[207,15,301,13,"response"],[207,23,301,6],[208,0,302,5],[208,7,293,11],[208,8,293,4],[209,0,303,3],[209,5,250,28],[210,0,304,2,"update"],[210,4,304,2,"update"],[210,10,304,8],[210,12,304,10],[210,21,304,19,"update"],[210,27,304,10],[210,28,304,26,"callback"],[210,36,304,10],[210,38,304,36],[211,0,305,4],[211,10,305,8,"_this3"],[211,16,305,14],[211,19,305,17],[211,23,305,4],[213,0,316,4],[213,13,316,11],[213,18,316,16,"store"],[213,23,316,11],[213,24,316,22,"update"],[213,30,316,11],[213,31,316,29],[213,36,316,34,"collection"],[213,46,316,11],[213,48,316,46],[213,53,316,51,"id"],[213,55,316,11],[213,57,316,55],[213,62,316,60,"data"],[213,66,316,11],[213,68,316,66,"then"],[213,72,316,11],[213,73,316,71],[213,83,316,81,"response"],[213,91,316,71],[213,93,316,91],[214,0,317,6,"_this3"],[214,8,317,6,"_this3"],[214,14,317,12],[214,15,317,13,"data"],[214,19,317,6],[214,22,317,20,"response"],[214,30,317,28],[214,31,317,29,"data"],[214,35,317,6],[215,0,318,6,"_this3"],[215,8,318,6,"_this3"],[215,14,318,12],[215,15,318,13,"full"],[215,19,318,6],[215,22,318,20,"response"],[215,30,318,6],[217,0,320,6],[217,12,320,10,"callback"],[217,20,320,6],[217,22,320,20],[218,0,321,8,"callback"],[218,10,321,8,"callback"],[218,18,321,16],[218,19,321,17,"response"],[218,27,321,16],[218,28,321,8],[219,0,322,7],[221,0,324,6],[221,15,324,13,"response"],[221,23,324,6],[222,0,325,5],[222,7,316,11],[222,8,316,4],[223,0,326,3],[223,5,250,28],[224,0,327,2,"delete"],[224,4,327,2,"delete"],[224,10,327,8],[224,12,327,10],[224,21,327,19,"_delete"],[224,28,327,10],[224,29,327,27,"callback"],[224,37,327,10],[224,39,327,37],[225,0,328,4],[225,10,328,8,"_this4"],[225,16,328,14],[225,19,328,17],[225,23,328,4],[227,0,338,4],[227,13,338,11],[227,18,338,16,"store"],[227,23,338,11],[227,24,338,22,"delete"],[227,30,338,11],[227,31,338,29],[227,36,338,34,"collection"],[227,46,338,11],[227,48,338,46],[227,53,338,51,"id"],[227,55,338,11],[227,57,338,55,"then"],[227,61,338,11],[227,62,338,60],[227,72,338,70,"response"],[227,80,338,60],[227,82,338,80],[228,0,339,6,"_this4"],[228,8,339,6,"_this4"],[228,14,339,12],[228,15,339,13,"data"],[228,19,339,6],[228,22,339,20],[228,26,339,6],[229,0,340,6,"_this4"],[229,8,340,6,"_this4"],[229,14,340,12],[229,15,340,13,"full"],[229,19,340,6],[229,22,340,20],[229,26,340,6],[231,0,342,6],[231,12,342,10,"callback"],[231,20,342,6],[231,22,342,20],[232,0,343,8,"callback"],[232,10,343,8,"callback"],[232,18,343,16],[232,19,343,17,"response"],[232,27,343,16],[232,28,343,8],[233,0,344,7],[235,0,346,6],[235,15,346,13,"response"],[235,23,346,6],[236,0,347,5],[236,7,338,11],[236,8,338,4],[237,0,348,3],[238,0,250,28],[238,3,250,0],[239,0,350,0,"module"],[239,2,350,0,"module"],[239,8,350,6],[239,9,350,7,"exports"],[239,16,350,0],[239,19,350,17,"Collections"],[239,30,350,0]],"functionMap":{"names":["<global>","Collections","initialize","buildURL","entry","get","client.get.then$argument_0","add","client.post.then$argument_0","update","client.put.then$argument_0","_delete","upsert","select","ids.map$argument_0","deleteMany","CollectionEntry","_streamRef","store.get.then$argument_0","store.add.then$argument_0","store.update.then$argument_0","store._delete.then$argument_0"],"mappings":"AAA;kBCE;CDE;cEG;GFU;YGC;GHQ;SIC;GJE;OKC;YCe;KDS;GLC;OOC;YC0B;KDS;GPC;USC;YCqB;KDS;GTC;UWC;GXc;UYC;GZgC;UaC;2BCuB;ODE;GbQ;ceC;kBDsB;KCE;GfW;sBgBG;ChBE;cEG;GFK;ciBC;GjBE;OKC;yDaW;KbS;GLC;OOC;oEYW;KZS;GPC;USC;uEWY;KXS;GTC;UWC;4DUW;KVS;GXC"}},"type":"js/module"}]}