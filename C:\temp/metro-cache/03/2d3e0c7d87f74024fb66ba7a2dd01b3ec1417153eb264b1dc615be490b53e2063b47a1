{"dependencies":[{"name":"validate.js","data":{"isAsync":false}},{"name":"./specs.js","data":{"isAsync":false}},{"name":"./errors.js","data":{"isAsync":false}},{"name":"./client.js","data":{"isAsync":false}},{"name":"./async.js","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),p=function(t){this.configure(t||{})};p.prototype.configure=function(t){this.client=new s(t),this.userData=null},p.prototype.setUser=function(t){this.userData=t},p.prototype._sendEventFactory=function(n,s){return function(p){var u=t(p,s,{format:'flat'});if(void 0!==u)throw new o.InvalidInputData('event data is not valid',u);return this._sendEvent(n,p)}},p.prototype._sendEvent=function(t,n){if(null===this.userData)throw new o.MissingUserId('userData was not set');return n.user_data=this.userData,this.client.send(t,n)},p.prototype.trackImpression=p.prototype._sendEventFactory('impression',n.impressionSpec),p.prototype.trackEngagement=p.prototype._sendEventFactory('engagement',n.engagementSpec),p.Client=s,p.errors=o,'undefined'!=typeof window&&r(d[4])(p),m.exports=p});","lineCount":1,"map":[[1,28,1,0],[1,32,1,4,"validate"],[1,34,1,15,"require"],[1,36,1,22,"d"],[1,38,1,22],[1,42,2,2,"specs"],[1,44,2,10,"require"],[1,46,2,17,"d"],[1,48,2,17],[1,52,3,2,"errors"],[1,54,3,11,"require"],[1,56,3,18,"d"],[1,58,3,18],[1,62,4,2,"Client"],[1,64,4,11,"require"],[1,66,4,18,"d"],[1,68,4,18],[1,72,6,4,"StreamAnalytics"],[1,74,6,22],[1,83,6,32,"config"],[1,86,7,2,"this"],[1,91,7,7,"configure"],[1,101,7,17,"config"],[1,109,10,0,"StreamAnalytics"],[1,111,10,16,"prototype"],[1,121,10,26,"configure"],[1,131,10,38],[1,140,10,48,"cfg"],[1,143,11,2,"this"],[1,148,11,7,"client"],[1,155,11,16],[1,159,11,20,"Client"],[1,161,11,27,"cfg"],[1,164,12,2,"this"],[1,169,12,7,"userData"],[1,178,12,18],[1,184,15,0,"StreamAnalytics"],[1,186,15,16,"prototype"],[1,196,15,26,"setUser"],[1,204,15,36],[1,213,15,46,"userData"],[1,216,16,2,"this"],[1,221,16,7,"userData"],[1,230,16,18,"userData"],[1,233,19,0,"StreamAnalytics"],[1,235,19,16,"prototype"],[1,245,19,26,"_sendEventFactory"],[1,263,19,46],[1,272,19,56,"resourceName"],[1,274,19,70,"dataSpec"],[1,277,21,2],[1,284,21,9],[1,293,21,19,"eventData"],[1,296,22,4],[1,300,22,8,"validationErrors"],[1,302,22,27,"validate"],[1,304,22,36,"eventData"],[1,306,22,47,"dataSpec"],[1,309,22,59,"format"],[1,316,22,67],[1,325,23,4],[1,333,23,38],[1,337,23,16,"validationErrors"],[1,339,24,6],[1,345,24,12],[1,349,24,16,"errors"],[1,351,24,23,"InvalidInputData"],[1,368,24,40],[1,394,24,67,"validationErrors"],[1,397,27,4],[1,404,27,11,"this"],[1,409,27,16,"_sendEvent"],[1,420,27,27,"resourceName"],[1,422,27,41,"eventData"],[1,427,31,0,"StreamAnalytics"],[1,429,31,16,"prototype"],[1,439,31,26,"_sendEvent"],[1,450,31,39],[1,459,31,49,"resourceName"],[1,461,31,63,"eventData"],[1,464,32,2],[1,467,32,24],[1,474,32,6,"this"],[1,479,32,11,"userData"],[1,488,33,4],[1,494,33,10],[1,498,33,14,"errors"],[1,500,33,21,"MissingUserId"],[1,514,33,35],[1,538,37,2],[1,545,36,2,"eventData"],[1,547,36,11],[1,557,36,27,"this"],[1,562,36,32,"userData"],[1,571,37,9,"this"],[1,576,37,14,"client"],[1,583,37,21,"send"],[1,588,37,26,"resourceName"],[1,590,37,40,"eventData"],[1,594,40,0,"StreamAnalytics"],[1,596,40,16,"prototype"],[1,606,40,26,"trackImpression"],[1,622,41,2,"StreamAnalytics"],[1,624,41,18,"prototype"],[1,634,41,28,"_sendEventFactory"],[1,652,42,4],[1,665,43,4,"specs"],[1,667,43,10,"impressionSpec"],[1,683,45,0,"StreamAnalytics"],[1,685,45,16,"prototype"],[1,695,45,26,"trackEngagement"],[1,711,46,2,"StreamAnalytics"],[1,713,46,18,"prototype"],[1,723,46,28,"_sendEventFactory"],[1,741,47,4],[1,754,48,4,"specs"],[1,756,48,10,"engagementSpec"],[1,772,51,0,"StreamAnalytics"],[1,774,51,16,"Client"],[1,781,51,25,"Client"],[1,783,52,0,"StreamAnalytics"],[1,785,52,16,"errors"],[1,792,52,25,"errors"],[1,794,54,24],[1,814,54,12,"window"],[1,822,55,2,"require"],[1,824,55,9,"d"],[1,826,55,9],[1,829,55,2,"require"],[1,830,55,24,"StreamAnalytics"],[1,833,57,0,"module"],[1,835,57,7,"exports"],[1,843,57,17,"StreamAnalytics"]],"functionMap":{"names":["<global>","StreamAnalytics","StreamAnalytics.prototype.configure","StreamAnalytics.prototype.setUser","StreamAnalytics.prototype._sendEventFactory","<anonymous>","StreamAnalytics.prototype._sendEvent"],"mappings":"AAA;sBCK;CDE;sCEE;CFG;oCGE;CHE;8CIE;SCE;GDO;CJC;uCME;CNO"}},"type":"js/module"}]}