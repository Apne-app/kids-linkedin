{"dependencies":[{"name":"request","data":{"isAsync":false}},{"name":"./errors.js","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),s=function(){this.initialize.apply(this,arguments)};s.prototype={baseUrl:'https://analytics.stream-io-api.com/analytics/v1.0/',initialize:function(t){var s=t||{};if(!s.apiKey||!s.token)throw new n.MisconfiguredClient('the client must be initialized with apiKey and token');this.apiKey=s.apiKey,this.token=s.token},send:function(t,s){return this.post({url:this.baseUrl+t+'/',body:s},function(t,s){if(t)throw t;if(!/^2\\d\\d$/.test(s.statusCode))throw new n.APIError(s.responseText)})},userAgent:function(){return'stream-javascript-client-'+(this.node?'node':'browser')+\"-unknown\"},enrichKwargs:function(t){return void 0===t.qs&&(t.qs={}),t.qs.api_key=this.apiKey,t.json=!0,t.headers={},t.headers['stream-auth-type']='jwt',t.headers.Authorization=this.token,t.headers['X-Stream-Client']=this.userAgent(),t.timeout=1e4,t},post:function(n,s){return(n=this.enrichKwargs(n)).method='POST',t(n,s)}},m.exports=s});","lineCount":1,"map":[[1,28,1,0],[1,32,1,4,"request"],[1,34,1,14,"require"],[1,36,1,21,"d"],[1,38,1,21],[1,42,2,4,"errors"],[1,44,2,13,"require"],[1,46,2,20,"d"],[1,48,2,20],[1,52,4,4,"Client"],[1,54,4,13],[1,65,5,2,"this"],[1,70,5,7,"initialize"],[1,81,5,18,"apply"],[1,87,5,24,"this"],[1,92,5,30,"arguments"],[1,104,8,0,"Client"],[1,106,8,7,"prototype"],[1,117,9,2,"baseUrl"],[1,125,9,11],[1,179,11,2,"initialize"],[1,190,11,14],[1,199,11,24,"cfg"],[1,202,12,4],[1,206,12,8,"configs"],[1,208,12,18,"cfg"],[1,214,13,4],[1,218,13,9,"configs"],[1,220,13,17,"apiKey"],[1,229,13,28,"configs"],[1,231,13,36,"token"],[1,237,14,6],[1,243,14,12],[1,247,14,16,"errors"],[1,249,14,23,"MisconfiguredClient"],[1,269,14,43],[1,325,17,4,"this"],[1,330,17,9,"apiKey"],[1,337,17,18,"configs"],[1,339,17,26,"apiKey"],[1,346,18,4,"this"],[1,351,18,9,"token"],[1,357,18,17,"configs"],[1,359,18,25,"token"],[1,366,21,2,"send"],[1,371,21,8],[1,380,21,18,"resourceName"],[1,382,21,32,"eventData"],[1,385,33,4],[1,392,33,11,"this"],[1,397,33,16,"post"],[1,403,35,8,"url"],[1,407,35,15,"this"],[1,412,35,20,"baseUrl"],[1,420,35,30,"resourceName"],[1,422,35,45],[1,426,36,8,"body"],[1,431,36,16,"eventData"],[1,434,22,19],[1,443,22,29,"err"],[1,445,22,34,"response"],[1,448,23,6],[1,451,23,10,"err"],[1,453,24,8],[1,459,24,14,"err"],[1,461,27,6],[1,465,27,11],[1,475,27,21,"test"],[1,480,27,26,"response"],[1,482,27,35,"statusCode"],[1,494,28,8],[1,500,28,14],[1,504,28,18,"errors"],[1,506,28,25,"APIError"],[1,515,28,34,"response"],[1,517,28,43,"responseText"],[1,534,40,2,"userAgent"],[1,544,40,13],[1,555,43,4],[1,561,43,11],[1,590,41,23,"this"],[1,595,41,28,"node"],[1,600,41,36],[1,607,41,45],[1,618,43,55],[1,630,46,2,"enrichKwargs"],[1,643,46,16],[1,652,46,26,"kwargs"],[1,655,58,4],[1,667,47,22,"undefined"],[1,671,47,8,"kwargs"],[1,673,47,15,"qs"],[1,678,48,6,"kwargs"],[1,680,48,13,"qs"],[1,687,51,4,"kwargs"],[1,689,51,11,"qs"],[1,692,51,4],[1,700,51,27,"this"],[1,705,51,32,"apiKey"],[1,712,52,4,"kwargs"],[1,714,52,11,"json"],[1,720,52,18],[1,722,53,4,"kwargs"],[1,724,53,11,"headers"],[1,735,54,4,"kwargs"],[1,737,54,11,"headers"],[1,745,54,19],[1,765,54,41],[1,771,55,4,"kwargs"],[1,773,55,11,"headers"],[1,781,55,19,"Authorization"],[1,795,55,35,"this"],[1,800,55,40,"token"],[1,806,56,4,"kwargs"],[1,808,56,11,"headers"],[1,816,56,19],[1,835,56,40,"this"],[1,840,56,45,"userAgent"],[1,852,57,4,"kwargs"],[1,854,57,11,"timeout"],[1,862,57,4],[1,866,58,11,"kwargs"],[1,869,61,2,"post"],[1,874,61,8],[1,883,61,18,"kwargs"],[1,885,61,26,"callback"],[1,888,64,4],[1,895,62,4,"kwargs"],[1,897,62,13,"this"],[1,902,62,18,"enrichKwargs"],[1,915,62,31,"kwargs"],[1,919,63,11,"method"],[1,926,63,20],[1,933,64,11,"request"],[1,935,64,19,"kwargs"],[1,937,64,27,"callback"],[1,942,68,0,"module"],[1,944,68,7,"exports"],[1,952,68,17,"Client"]],"functionMap":{"names":["<global>","Client","Client.prototype.initialize","Client.prototype.send","callback","Client.prototype.userAgent","Client.prototype.enrichKwargs","Client.prototype.post"],"mappings":"AAA;aCG;CDE;cEK;GFQ;QGE;mBCC;KDS;GHO;aKE;GLI;gBME;GNa;QOE;GPI"}},"type":"js/module"}]}