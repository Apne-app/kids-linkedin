{"dependencies":[{"name":"@babel/runtime/helpers/extends","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _extends = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/extends\");\n\n  var StreamUser = function StreamUser() {\n    this.initialize.apply(this, arguments);\n  };\n\n  StreamUser.prototype = {\n    initialize: function initialize(client, userId, userAuthToken) {\n      this.client = client;\n      this.id = userId;\n      this.data = undefined;\n      this.full = undefined;\n      this.token = userAuthToken;\n      this.url = 'user/' + this.id + '/';\n    },\n    _streamRef: function _streamRef() {\n      return \"SU:\".concat(this.id);\n    },\n    ref: function ref() {\n      return this._streamRef();\n    },\n    delete: function _delete(callback) {\n      return this.client.delete({\n        url: this.url,\n        signature: this.token\n      }).then(function (response) {\n        if (callback) {\n          callback(response);\n        }\n\n        return response;\n      });\n    },\n    get: function get(options, callback) {\n      var _this = this;\n\n      return this.client.get({\n        url: this.url,\n        signature: this.token,\n        qs: options\n      }).then(function (response) {\n        _this.full = _extends({}, response);\n        delete _this.full.duration;\n        _this.data = _this.full.data;\n\n        if (callback) {\n          callback(response);\n        }\n\n        return _this;\n      });\n    },\n    _chooseData: function _chooseData(data) {\n      if (data !== undefined) {\n        return data;\n      }\n\n      if (this.data !== undefined) {\n        return this.data;\n      }\n\n      return {};\n    },\n    create: function create(data, options, callback) {\n      var _this2 = this;\n\n      return this.client.post({\n        url: 'user/',\n        body: {\n          id: this.id,\n          data: this._chooseData(data)\n        },\n        qs: options,\n        signature: this.token\n      }).then(function (response) {\n        _this2.full = _extends({}, response);\n        delete _this2.full.duration;\n        _this2.data = _this2.full.data;\n\n        if (callback) {\n          callback(response);\n        }\n\n        return _this2;\n      });\n    },\n    update: function update(data, callback) {\n      var _this3 = this;\n\n      return this.client.put({\n        url: this.url,\n        body: {\n          data: this._chooseData(data)\n        },\n        signature: this.token\n      }).then(function (response) {\n        _this3.full = _extends({}, response);\n        delete _this3.full.duration;\n        _this3.data = _this3.full.data;\n\n        if (callback) {\n          callback(response);\n        }\n\n        return _this3;\n      });\n    },\n    getOrCreate: function getOrCreate(data, callback) {\n      return this.create(data, {\n        get_or_create: true\n      }, callback);\n    },\n    profile: function profile(callback) {\n      return this.get({\n        with_follow_counts: true\n      }, callback);\n    }\n  };\n  module.exports = StreamUser;\n});","lineCount":121,"map":[[2,0,1,0],[2,6,1,4,"_extends"],[2,14,1,12],[2,17,1,15,"require"],[2,28,1,22],[2,81,1,0],[4,0,3,0],[4,6,3,4,"StreamUser"],[4,16,3,14],[4,19,3,17],[4,28,3,26,"StreamUser"],[4,38,3,17],[4,41,3,39],[5,0,4,2],[5,9,4,7,"initialize"],[5,19,4,2],[5,20,4,18,"apply"],[5,25,4,2],[5,26,4,24],[5,30,4,2],[5,32,4,30,"arguments"],[5,41,4,2],[6,0,5,1],[6,3,3,0],[8,0,7,0,"StreamUser"],[8,2,7,0,"StreamUser"],[8,12,7,10],[8,13,7,11,"prototype"],[8,22,7,0],[8,25,7,23],[9,0,8,2,"initialize"],[9,4,8,2,"initialize"],[9,14,8,12],[9,16,8,14],[9,25,8,23,"initialize"],[9,35,8,14],[9,36,8,34,"client"],[9,42,8,14],[9,44,8,42,"userId"],[9,50,8,14],[9,52,8,50,"userAuthToken"],[9,65,8,14],[9,67,8,65],[10,0,18,4],[10,11,18,9,"client"],[10,17,18,4],[10,20,18,18,"client"],[10,26,18,4],[11,0,19,4],[11,11,19,9,"id"],[11,13,19,4],[11,16,19,14,"userId"],[11,22,19,4],[12,0,20,4],[12,11,20,9,"data"],[12,15,20,4],[12,18,20,16,"undefined"],[12,27,20,4],[13,0,21,4],[13,11,21,9,"full"],[13,15,21,4],[13,18,21,16,"undefined"],[13,27,21,4],[14,0,22,4],[14,11,22,9,"token"],[14,16,22,4],[14,19,22,17,"userAuthToken"],[14,32,22,4],[15,0,23,4],[15,11,23,9,"url"],[15,14,23,4],[15,17,23,15],[15,27,23,25],[15,32,23,30,"id"],[15,34,23,15],[15,37,23,35],[15,40,23,4],[16,0,24,3],[16,5,7,23],[17,0,25,2,"_streamRef"],[17,4,25,2,"_streamRef"],[17,14,25,12],[17,16,25,14],[17,25,25,23,"_streamRef"],[17,35,25,14],[17,38,25,36],[18,0,26,4],[18,13,26,11],[18,19,26,17,"concat"],[18,25,26,11],[18,26,26,24],[18,31,26,29,"id"],[18,33,26,11],[18,34,26,4],[19,0,27,3],[19,5,7,23],[20,0,28,2,"ref"],[20,4,28,2,"ref"],[20,7,28,5],[20,9,28,7],[20,18,28,16,"ref"],[20,21,28,7],[20,24,28,22],[21,0,29,4],[21,13,29,11],[21,18,29,16,"_streamRef"],[21,28,29,11],[21,30,29,4],[22,0,30,3],[22,5,7,23],[23,0,31,2,"delete"],[23,4,31,2,"delete"],[23,10,31,8],[23,12,31,10],[23,21,31,19,"_delete"],[23,28,31,10],[23,29,31,27,"callback"],[23,37,31,10],[23,39,31,37],[24,0,32,4],[24,13,32,11],[24,18,32,16,"client"],[24,24,32,11],[24,25,32,23,"delete"],[24,31,32,11],[24,32,32,30],[25,0,33,6,"url"],[25,8,33,6,"url"],[25,11,33,9],[25,13,33,11],[25,18,33,16,"url"],[25,21,32,30],[26,0,34,6,"signature"],[26,8,34,6,"signature"],[26,17,34,15],[26,19,34,17],[26,24,34,22,"token"],[27,0,32,30],[27,7,32,11],[27,9,35,7,"then"],[27,13,32,11],[27,14,35,12],[27,24,35,22,"response"],[27,32,35,12],[27,34,35,32],[28,0,36,6],[28,12,36,10,"callback"],[28,20,36,6],[28,22,36,20],[29,0,37,8,"callback"],[29,10,37,8,"callback"],[29,18,37,16],[29,19,37,17,"response"],[29,27,37,16],[29,28,37,8],[30,0,38,7],[32,0,40,6],[32,15,40,13,"response"],[32,23,40,6],[33,0,41,5],[33,7,32,11],[33,8,32,4],[34,0,42,3],[34,5,7,23],[35,0,43,2,"get"],[35,4,43,2,"get"],[35,7,43,5],[35,9,43,7],[35,18,43,16,"get"],[35,21,43,7],[35,22,43,20,"options"],[35,29,43,7],[35,31,43,29,"callback"],[35,39,43,7],[35,41,43,39],[36,0,44,4],[36,10,44,8,"_this"],[36,15,44,13],[36,18,44,16],[36,22,44,4],[38,0,46,4],[38,13,46,11],[38,18,46,16,"client"],[38,24,46,11],[38,25,46,23,"get"],[38,28,46,11],[38,29,46,27],[39,0,47,6,"url"],[39,8,47,6,"url"],[39,11,47,9],[39,13,47,11],[39,18,47,16,"url"],[39,21,46,27],[40,0,48,6,"signature"],[40,8,48,6,"signature"],[40,17,48,15],[40,19,48,17],[40,24,48,22,"token"],[40,29,46,27],[41,0,49,6,"qs"],[41,8,49,6,"qs"],[41,10,49,8],[41,12,49,10,"options"],[42,0,46,27],[42,7,46,11],[42,9,50,7,"then"],[42,13,46,11],[42,14,50,12],[42,24,50,22,"response"],[42,32,50,12],[42,34,50,32],[43,0,51,6,"_this"],[43,8,51,6,"_this"],[43,13,51,11],[43,14,51,12,"full"],[43,18,51,6],[43,21,51,19,"_extends"],[43,29,51,27],[43,30,51,28],[43,32,51,27],[43,34,51,32,"response"],[43,42,51,27],[43,43,51,6],[44,0,52,6],[44,15,52,13,"_this"],[44,20,52,18],[44,21,52,19,"full"],[44,25,52,13],[44,26,52,24,"duration"],[44,34,52,6],[45,0,53,6,"_this"],[45,8,53,6,"_this"],[45,13,53,11],[45,14,53,12,"data"],[45,18,53,6],[45,21,53,19,"_this"],[45,26,53,24],[45,27,53,25,"full"],[45,31,53,19],[45,32,53,30,"data"],[45,36,53,6],[47,0,55,6],[47,12,55,10,"callback"],[47,20,55,6],[47,22,55,20],[48,0,56,8,"callback"],[48,10,56,8,"callback"],[48,18,56,16],[48,19,56,17,"response"],[48,27,56,16],[48,28,56,8],[49,0,57,7],[51,0,59,6],[51,15,59,13,"_this"],[51,20,59,6],[52,0,60,5],[52,7,46,11],[52,8,46,4],[53,0,61,3],[53,5,7,23],[54,0,62,2,"_chooseData"],[54,4,62,2,"_chooseData"],[54,15,62,13],[54,17,62,15],[54,26,62,24,"_chooseData"],[54,37,62,15],[54,38,62,36,"data"],[54,42,62,15],[54,44,62,42],[55,0,63,4],[55,10,63,8,"data"],[55,14,63,12],[55,19,63,17,"undefined"],[55,28,63,4],[55,30,63,28],[56,0,64,6],[56,15,64,13,"data"],[56,19,64,6],[57,0,65,5],[59,0,67,4],[59,10,67,8],[59,15,67,13,"data"],[59,19,67,8],[59,24,67,22,"undefined"],[59,33,67,4],[59,35,67,33],[60,0,68,6],[60,15,68,13],[60,20,68,18,"data"],[60,24,68,6],[61,0,69,5],[63,0,71,4],[63,13,71,11],[63,15,71,4],[64,0,72,3],[64,5,7,23],[65,0,73,2,"create"],[65,4,73,2,"create"],[65,10,73,8],[65,12,73,10],[65,21,73,19,"create"],[65,27,73,10],[65,28,73,26,"data"],[65,32,73,10],[65,34,73,32,"options"],[65,41,73,10],[65,43,73,41,"callback"],[65,51,73,10],[65,53,73,51],[66,0,74,4],[66,10,74,8,"_this2"],[66,16,74,14],[66,19,74,17],[66,23,74,4],[68,0,76,4],[68,13,76,11],[68,18,76,16,"client"],[68,24,76,11],[68,25,76,23,"post"],[68,29,76,11],[68,30,76,28],[69,0,77,6,"url"],[69,8,77,6,"url"],[69,11,77,9],[69,13,77,11],[69,20,76,28],[70,0,78,6,"body"],[70,8,78,6,"body"],[70,12,78,10],[70,14,78,12],[71,0,79,8,"id"],[71,10,79,8,"id"],[71,12,79,10],[71,14,79,12],[71,19,79,17,"id"],[71,21,78,12],[72,0,80,8,"data"],[72,10,80,8,"data"],[72,14,80,12],[72,16,80,14],[72,21,80,19,"_chooseData"],[72,32,80,14],[72,33,80,31,"data"],[72,37,80,14],[73,0,78,12],[73,9,76,28],[74,0,82,6,"qs"],[74,8,82,6,"qs"],[74,10,82,8],[74,12,82,10,"options"],[74,19,76,28],[75,0,83,6,"signature"],[75,8,83,6,"signature"],[75,17,83,15],[75,19,83,17],[75,24,83,22,"token"],[76,0,76,28],[76,7,76,11],[76,9,84,7,"then"],[76,13,76,11],[76,14,84,12],[76,24,84,22,"response"],[76,32,84,12],[76,34,84,32],[77,0,85,6,"_this2"],[77,8,85,6,"_this2"],[77,14,85,12],[77,15,85,13,"full"],[77,19,85,6],[77,22,85,20,"_extends"],[77,30,85,28],[77,31,85,29],[77,33,85,28],[77,35,85,33,"response"],[77,43,85,28],[77,44,85,6],[78,0,86,6],[78,15,86,13,"_this2"],[78,21,86,19],[78,22,86,20,"full"],[78,26,86,13],[78,27,86,25,"duration"],[78,35,86,6],[79,0,87,6,"_this2"],[79,8,87,6,"_this2"],[79,14,87,12],[79,15,87,13,"data"],[79,19,87,6],[79,22,87,20,"_this2"],[79,28,87,26],[79,29,87,27,"full"],[79,33,87,20],[79,34,87,32,"data"],[79,38,87,6],[81,0,89,6],[81,12,89,10,"callback"],[81,20,89,6],[81,22,89,20],[82,0,90,8,"callback"],[82,10,90,8,"callback"],[82,18,90,16],[82,19,90,17,"response"],[82,27,90,16],[82,28,90,8],[83,0,91,7],[85,0,93,6],[85,15,93,13,"_this2"],[85,21,93,6],[86,0,94,5],[86,7,76,11],[86,8,76,4],[87,0,95,3],[87,5,7,23],[88,0,96,2,"update"],[88,4,96,2,"update"],[88,10,96,8],[88,12,96,10],[88,21,96,19,"update"],[88,27,96,10],[88,28,96,26,"data"],[88,32,96,10],[88,34,96,32,"callback"],[88,42,96,10],[88,44,96,42],[89,0,97,4],[89,10,97,8,"_this3"],[89,16,97,14],[89,19,97,17],[89,23,97,4],[91,0,99,4],[91,13,99,11],[91,18,99,16,"client"],[91,24,99,11],[91,25,99,23,"put"],[91,28,99,11],[91,29,99,27],[92,0,100,6,"url"],[92,8,100,6,"url"],[92,11,100,9],[92,13,100,11],[92,18,100,16,"url"],[92,21,99,27],[93,0,101,6,"body"],[93,8,101,6,"body"],[93,12,101,10],[93,14,101,12],[94,0,102,8,"data"],[94,10,102,8,"data"],[94,14,102,12],[94,16,102,14],[94,21,102,19,"_chooseData"],[94,32,102,14],[94,33,102,31,"data"],[94,37,102,14],[95,0,101,12],[95,9,99,27],[96,0,104,6,"signature"],[96,8,104,6,"signature"],[96,17,104,15],[96,19,104,17],[96,24,104,22,"token"],[97,0,99,27],[97,7,99,11],[97,9,105,7,"then"],[97,13,99,11],[97,14,105,12],[97,24,105,22,"response"],[97,32,105,12],[97,34,105,32],[98,0,106,6,"_this3"],[98,8,106,6,"_this3"],[98,14,106,12],[98,15,106,13,"full"],[98,19,106,6],[98,22,106,20,"_extends"],[98,30,106,28],[98,31,106,29],[98,33,106,28],[98,35,106,33,"response"],[98,43,106,28],[98,44,106,6],[99,0,107,6],[99,15,107,13,"_this3"],[99,21,107,19],[99,22,107,20,"full"],[99,26,107,13],[99,27,107,25,"duration"],[99,35,107,6],[100,0,108,6,"_this3"],[100,8,108,6,"_this3"],[100,14,108,12],[100,15,108,13,"data"],[100,19,108,6],[100,22,108,20,"_this3"],[100,28,108,26],[100,29,108,27,"full"],[100,33,108,20],[100,34,108,32,"data"],[100,38,108,6],[102,0,110,6],[102,12,110,10,"callback"],[102,20,110,6],[102,22,110,20],[103,0,111,8,"callback"],[103,10,111,8,"callback"],[103,18,111,16],[103,19,111,17,"response"],[103,27,111,16],[103,28,111,8],[104,0,112,7],[106,0,114,6],[106,15,114,13,"_this3"],[106,21,114,6],[107,0,115,5],[107,7,99,11],[107,8,99,4],[108,0,116,3],[108,5,7,23],[109,0,117,2,"getOrCreate"],[109,4,117,2,"getOrCreate"],[109,15,117,13],[109,17,117,15],[109,26,117,24,"getOrCreate"],[109,37,117,15],[109,38,117,36,"data"],[109,42,117,15],[109,44,117,42,"callback"],[109,52,117,15],[109,54,117,52],[110,0,118,4],[110,13,118,11],[110,18,118,16,"create"],[110,24,118,11],[110,25,118,23,"data"],[110,29,118,11],[110,31,118,29],[111,0,119,6,"get_or_create"],[111,8,119,6,"get_or_create"],[111,21,119,19],[111,23,119,21],[112,0,118,29],[112,7,118,11],[112,9,120,7,"callback"],[112,17,118,11],[112,18,118,4],[113,0,121,3],[113,5,7,23],[114,0,122,2,"profile"],[114,4,122,2,"profile"],[114,11,122,9],[114,13,122,11],[114,22,122,20,"profile"],[114,29,122,11],[114,30,122,28,"callback"],[114,38,122,11],[114,40,122,38],[115,0,123,4],[115,13,123,11],[115,18,123,16,"get"],[115,21,123,11],[115,22,123,20],[116,0,124,6,"with_follow_counts"],[116,8,124,6,"with_follow_counts"],[116,26,124,24],[116,28,124,26],[117,0,123,20],[117,7,123,11],[117,9,125,7,"callback"],[117,17,123,11],[117,18,123,4],[118,0,126,3],[119,0,7,23],[119,3,7,0],[120,0,128,0,"module"],[120,2,128,0,"module"],[120,8,128,6],[120,9,128,7,"exports"],[120,16,128,0],[120,19,128,17,"StreamUser"],[120,29,128,0]],"functionMap":{"names":["<global>","StreamUser","initialize","_streamRef","ref","_delete","client._delete.then$argument_0","get","client.get.then$argument_0","_chooseData","create","client.post.then$argument_0","update","client.put.then$argument_0","getOrCreate","profile"],"mappings":"AAA;iBCE;CDE;cEG;GFgB;cGC;GHE;OIC;GJE;UKC;YCI;KDM;GLC;OOC;YCO;KDU;GPC;eSC;GTU;UUC;YCW;KDU;GVC;UYC;YCS;KDU;GZC;ecC;GdI;WeC;GfI"}},"type":"js/module"}]}