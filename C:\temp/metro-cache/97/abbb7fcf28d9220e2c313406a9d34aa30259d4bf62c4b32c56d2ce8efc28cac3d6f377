{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[{"start":{"line":3,"column":29},"end":{"line":3,"column":84}}]}},{"name":"@babel/runtime/helpers/extends","data":{"isAsync":false,"locs":[{"start":{"line":10,"column":39},"end":{"line":10,"column":80}}]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[{"start":{"line":12,"column":46},"end":{"line":12,"column":94}}]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[{"start":{"line":14,"column":43},"end":{"line":14,"column":88}}]}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false,"locs":[{"start":{"line":16,"column":46},"end":{"line":16,"column":94}}]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.StreamImageStore = void 0;\n\n  var _extends2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/extends\"));\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/defineProperty\"));\n\n  var StreamImageStore = function () {\n    function StreamImageStore(client, token) {\n      (0, _classCallCheck2.default)(this, StreamImageStore);\n      (0, _defineProperty2.default)(this, \"client\", void 0);\n      (0, _defineProperty2.default)(this, \"token\", void 0);\n      this.client = client;\n      this.token = token;\n    }\n\n    (0, _createClass2.default)(StreamImageStore, [{\n      key: \"upload\",\n      value: function upload(uri, name, contentType, onUploadProgress) {\n        return this.client.upload('images/', uri, name, contentType, onUploadProgress);\n      }\n    }, {\n      key: \"delete\",\n      value: function _delete(uri) {\n        return this.client.delete({\n          url: \"images/\",\n          qs: {\n            url: uri\n          },\n          token: this.token\n        });\n      }\n    }, {\n      key: \"refreshUrl\",\n      value: function refreshUrl(uri) {\n        return this.client.post({\n          url: 'images/refresh/',\n          body: {\n            url: uri\n          },\n          token: this.token\n        });\n      }\n    }, {\n      key: \"process\",\n      value: function process(uri, options) {\n        var params = (0, _extends2.default)(options, {\n          url: uri\n        });\n\n        if (Array.isArray(params.crop)) {\n          params.crop = params.crop.join(',');\n        }\n\n        return this.client.get({\n          url: \"images/\",\n          qs: params,\n          token: this.token\n        });\n      }\n    }, {\n      key: \"thumbnail\",\n      value: function thumbnail(uri, w, h) {\n        var _ref = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n          crop: 'center',\n          resize: 'clip'\n        },\n            crop = _ref.crop,\n            resize = _ref.resize;\n\n        return this.process(uri, {\n          w: w,\n          h: h,\n          crop: crop,\n          resize: resize\n        });\n      }\n    }]);\n    return StreamImageStore;\n  }();\n\n  exports.StreamImageStore = StreamImageStore;\n});","lineCount":94,"map":[[2,0,1,0],[4,0,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,42,3,36],[4,109,3,0],[6,0,5,0,"Object"],[6,2,5,0,"Object"],[6,8,5,6],[6,9,5,7,"defineProperty"],[6,23,5,0],[6,24,5,22,"exports"],[6,31,5,0],[6,33,5,31],[6,45,5,0],[6,47,5,45],[7,0,6,2,"value"],[7,4,6,2,"value"],[7,9,6,7],[7,11,6,9],[8,0,5,45],[8,3,5,0],[9,0,8,0,"exports"],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"StreamImageStore"],[9,26,8,0],[9,29,8,27],[9,34,8,32],[9,35,8,0],[11,0,10,0],[11,6,10,4,"_extends2"],[11,15,10,13],[11,18,10,16,"_interopRequireDefault"],[11,40,10,38],[11,41,10,39,"require"],[11,52,10,46],[11,105,10,38],[11,106,10,0],[13,0,12,0],[13,6,12,4,"_classCallCheck2"],[13,22,12,20],[13,25,12,23,"_interopRequireDefault"],[13,47,12,45],[13,48,12,46,"require"],[13,59,12,53],[13,119,12,45],[13,120,12,0],[15,0,14,0],[15,6,14,4,"_createClass2"],[15,19,14,17],[15,22,14,20,"_interopRequireDefault"],[15,44,14,42],[15,45,14,43,"require"],[15,56,14,50],[15,113,14,42],[15,114,14,0],[17,0,16,0],[17,6,16,4,"_defineProperty2"],[17,22,16,20],[17,25,16,23,"_interopRequireDefault"],[17,47,16,45],[17,48,16,46,"require"],[17,59,16,53],[17,119,16,45],[17,120,16,0],[19,0,18,0],[19,6,18,4,"StreamImageStore"],[19,22,18,20],[19,25,18,36],[19,37,18,48],[20,0,19,2],[20,13,19,11,"StreamImageStore"],[20,29,19,2],[20,30,19,28,"client"],[20,36,19,2],[20,38,19,36,"token"],[20,43,19,2],[20,45,19,43],[21,0,20,4],[21,7,20,5],[21,10,20,8,"_classCallCheck2"],[21,26,20,24],[21,27,20,25,"default"],[21,34,20,4],[21,36,20,34],[21,40,20,4],[21,42,20,40,"StreamImageStore"],[21,58,20,4],[22,0,21,4],[22,7,21,5],[22,10,21,8,"_defineProperty2"],[22,26,21,24],[22,27,21,25,"default"],[22,34,21,4],[22,36,21,34],[22,40,21,4],[22,42,21,40],[22,50,21,4],[22,52,21,50],[22,57,21,55],[22,58,21,4],[23,0,22,4],[23,7,22,5],[23,10,22,8,"_defineProperty2"],[23,26,22,24],[23,27,22,25,"default"],[23,34,22,4],[23,36,22,34],[23,40,22,4],[23,42,22,40],[23,49,22,4],[23,51,22,49],[23,56,22,54],[23,57,22,4],[24,0,23,4],[24,11,23,9,"client"],[24,17,23,4],[24,20,23,18,"client"],[24,26,23,4],[25,0,24,4],[25,11,24,9,"token"],[25,16,24,4],[25,19,24,17,"token"],[25,24,24,4],[26,0,25,3],[28,0,39,2],[28,5,39,3],[28,8,39,6,"_createClass2"],[28,21,39,19],[28,22,39,20,"default"],[28,29,39,2],[28,31,39,29,"StreamImageStore"],[28,47,39,2],[28,49,39,47],[28,50,39,48],[29,0,40,4,"key"],[29,6,40,4,"key"],[29,9,40,7],[29,11,40,9],[29,19,39,48],[30,0,41,4,"value"],[30,6,41,4,"value"],[30,11,41,9],[30,13,41,11],[30,22,41,20,"upload"],[30,28,41,11],[30,29,41,27,"uri"],[30,32,41,11],[30,34,41,32,"name"],[30,38,41,11],[30,40,41,38,"contentType"],[30,51,41,11],[30,53,41,51,"onUploadProgress"],[30,69,41,11],[30,71,41,69],[31,0,42,6],[31,15,42,13],[31,20,42,18,"client"],[31,26,42,13],[31,27,42,25,"upload"],[31,33,42,13],[31,34,42,32],[31,43,42,13],[31,45,42,43,"uri"],[31,48,42,13],[31,50,42,48,"name"],[31,54,42,13],[31,56,42,54,"contentType"],[31,67,42,13],[31,69,42,67,"onUploadProgress"],[31,85,42,13],[31,86,42,6],[32,0,43,5],[33,0,39,48],[33,5,39,47],[33,7,50,5],[34,0,51,4,"key"],[34,6,51,4,"key"],[34,9,51,7],[34,11,51,9],[34,19,50,5],[35,0,52,4,"value"],[35,6,52,4,"value"],[35,11,52,9],[35,13,52,11],[35,22,52,20,"_delete"],[35,29,52,11],[35,30,52,28,"uri"],[35,33,52,11],[35,35,52,33],[36,0,53,6],[36,15,53,13],[36,20,53,18,"client"],[36,26,53,13],[36,27,53,25,"delete"],[36,33,53,13],[36,34,53,32],[37,0,54,8,"url"],[37,10,54,8,"url"],[37,13,54,11],[37,15,54,13],[37,24,53,32],[38,0,55,8,"qs"],[38,10,55,8,"qs"],[38,12,55,10],[38,14,55,12],[39,0,56,10,"url"],[39,12,56,10,"url"],[39,15,56,13],[39,17,56,15,"uri"],[40,0,55,12],[40,11,53,32],[41,0,58,8,"token"],[41,10,58,8,"token"],[41,15,58,13],[41,17,58,15],[41,22,58,20,"token"],[42,0,53,32],[42,9,53,13],[42,10,53,6],[43,0,60,5],[44,0,50,5],[44,5,39,47],[44,7,68,5],[45,0,69,4,"key"],[45,6,69,4,"key"],[45,9,69,7],[45,11,69,9],[45,23,68,5],[46,0,70,4,"value"],[46,6,70,4,"value"],[46,11,70,9],[46,13,70,11],[46,22,70,20,"refreshUrl"],[46,32,70,11],[46,33,70,31,"uri"],[46,36,70,11],[46,38,70,36],[47,0,71,6],[47,15,71,13],[47,20,71,18,"client"],[47,26,71,13],[47,27,71,25,"post"],[47,31,71,13],[47,32,71,30],[48,0,72,8,"url"],[48,10,72,8,"url"],[48,13,72,11],[48,15,72,13],[48,32,71,30],[49,0,73,8,"body"],[49,10,73,8,"body"],[49,14,73,12],[49,16,73,14],[50,0,74,10,"url"],[50,12,74,10,"url"],[50,15,74,13],[50,17,74,15,"uri"],[51,0,73,14],[51,11,71,30],[52,0,76,8,"token"],[52,10,76,8,"token"],[52,15,76,13],[52,17,76,15],[52,22,76,20,"token"],[53,0,71,30],[53,9,71,13],[53,10,71,6],[54,0,78,5],[55,0,68,5],[55,5,39,47],[55,7,86,5],[56,0,87,4,"key"],[56,6,87,4,"key"],[56,9,87,7],[56,11,87,9],[56,20,86,5],[57,0,88,4,"value"],[57,6,88,4,"value"],[57,11,88,9],[57,13,88,11],[57,22,88,20,"process"],[57,29,88,11],[57,30,88,28,"uri"],[57,33,88,11],[57,35,88,33,"options"],[57,42,88,11],[57,44,88,42],[58,0,89,6],[58,12,89,10,"params"],[58,18,89,16],[58,21,89,19],[58,22,89,20],[58,25,89,23,"_extends2"],[58,34,89,32],[58,35,89,33,"default"],[58,42,89,19],[58,44,89,42,"options"],[58,51,89,19],[58,53,89,51],[59,0,90,8,"url"],[59,10,90,8,"url"],[59,13,90,11],[59,15,90,13,"uri"],[60,0,89,51],[60,9,89,19],[60,10,89,6],[62,0,93,6],[62,12,93,10,"Array"],[62,17,93,15],[62,18,93,16,"isArray"],[62,25,93,10],[62,26,93,24,"params"],[62,32,93,30],[62,33,93,31,"crop"],[62,37,93,10],[62,38,93,6],[62,40,93,38],[63,0,94,8,"params"],[63,10,94,8,"params"],[63,16,94,14],[63,17,94,15,"crop"],[63,21,94,8],[63,24,94,22,"params"],[63,30,94,28],[63,31,94,29,"crop"],[63,35,94,22],[63,36,94,34,"join"],[63,40,94,22],[63,41,94,39],[63,44,94,22],[63,45,94,8],[64,0,95,7],[66,0,97,6],[66,15,97,13],[66,20,97,18,"client"],[66,26,97,13],[66,27,97,25,"get"],[66,30,97,13],[66,31,97,29],[67,0,98,8,"url"],[67,10,98,8,"url"],[67,13,98,11],[67,15,98,13],[67,24,97,29],[68,0,99,8,"qs"],[68,10,99,8,"qs"],[68,12,99,10],[68,14,99,12,"params"],[68,20,97,29],[69,0,100,8,"token"],[69,10,100,8,"token"],[69,15,100,13],[69,17,100,15],[69,22,100,20,"token"],[70,0,97,29],[70,9,97,13],[70,10,97,6],[71,0,102,5],[72,0,86,5],[72,5,39,47],[72,7,112,5],[73,0,113,4,"key"],[73,6,113,4,"key"],[73,9,113,7],[73,11,113,9],[73,22,112,5],[74,0,114,4,"value"],[74,6,114,4,"value"],[74,11,114,9],[74,13,114,11],[74,22,114,20,"thumbnail"],[74,31,114,11],[74,32,114,30,"uri"],[74,35,114,11],[74,37,114,35,"w"],[74,38,114,11],[74,40,114,38,"h"],[74,41,114,11],[74,43,114,41],[75,0,115,6],[75,12,115,10,"_ref"],[75,16,115,14],[75,19,115,17,"arguments"],[75,28,115,26],[75,29,115,27,"length"],[75,35,115,17],[75,38,115,36],[75,39,115,17],[75,43,115,41,"arguments"],[75,52,115,50],[75,53,115,51],[75,54,115,50],[75,55,115,41],[75,60,115,58,"undefined"],[75,69,115,17],[75,72,115,70,"arguments"],[75,81,115,79],[75,82,115,80],[75,83,115,79],[75,84,115,17],[75,87,115,85],[76,0,116,8,"crop"],[76,10,116,8,"crop"],[76,14,116,12],[76,16,116,14],[76,24,115,85],[77,0,117,8,"resize"],[77,10,117,8,"resize"],[77,16,117,14],[77,18,117,16],[78,0,115,85],[78,9,115,6],[79,0,115,6],[79,12,119,10,"crop"],[79,16,119,14],[79,19,119,17,"_ref"],[79,23,119,21],[79,24,119,22,"crop"],[79,28,115,6],[80,0,115,6],[80,12,120,10,"resize"],[80,18,120,16],[80,21,120,19,"_ref"],[80,25,120,23],[80,26,120,24,"resize"],[80,32,115,6],[82,0,122,6],[82,15,122,13],[82,20,122,18,"process"],[82,27,122,13],[82,28,122,26,"uri"],[82,31,122,13],[82,33,122,31],[83,0,123,8,"w"],[83,10,123,8,"w"],[83,11,123,9],[83,13,123,11,"w"],[83,14,122,31],[84,0,124,8,"h"],[84,10,124,8,"h"],[84,11,124,9],[84,13,124,11,"h"],[84,14,122,31],[85,0,125,8,"crop"],[85,10,125,8,"crop"],[85,14,125,12],[85,16,125,14,"crop"],[85,20,122,31],[86,0,126,8,"resize"],[86,10,126,8,"resize"],[86,16,126,14],[86,18,126,16,"resize"],[87,0,122,31],[87,9,122,13],[87,10,122,6],[88,0,128,5],[89,0,112,5],[89,5,39,47],[89,6,39,2],[90,0,130,2],[90,11,130,9,"StreamImageStore"],[90,27,130,2],[91,0,131,1],[91,3,18,36],[91,5,18,0],[93,0,133,0,"exports"],[93,2,133,0,"exports"],[93,9,133,7],[93,10,133,8,"StreamImageStore"],[93,26,133,0],[93,29,133,27,"StreamImageStore"],[93,45,133,0]],"functionMap":{"names":["<global>","<anonymous>","StreamImageStore","upload","_delete","refreshUrl","process","thumbnail"],"mappings":"AAA;oCCiB;ECC;GDM;WEgB;KFE;WGS;KHQ;WIU;KJQ;WKU;KLc;WMY;KNc;CDG"}},"type":"js/module"}]}