{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[{"start":{"line":3,"column":29},"end":{"line":3,"column":84}}]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[{"start":{"line":10,"column":46},"end":{"line":10,"column":94}}]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[{"start":{"line":12,"column":43},"end":{"line":12,"column":88}}]}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false,"locs":[{"start":{"line":14,"column":46},"end":{"line":14,"column":94}}]}},{"name":"./user","data":{"isAsync":false,"locs":[{"start":{"line":16,"column":12},"end":{"line":16,"column":29}}]}},{"name":"./errors","data":{"isAsync":false,"locs":[{"start":{"line":18,"column":14},"end":{"line":18,"column":33}}]}},{"name":"./utils","data":{"isAsync":false,"locs":[{"start":{"line":20,"column":36},"end":{"line":20,"column":54}}]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.StreamFeed=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),l=r(d[4]),c=r(d[5]),f=t(r(d[6]));function u(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function h(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?u(Object(o),!0).forEach(function(n){(0,s.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var v=(function(){function t(o,l,u,h){if((0,n.default)(this,t),(0,s.default)(this,\"client\",void 0),(0,s.default)(this,\"token\",void 0),(0,s.default)(this,\"id\",void 0),(0,s.default)(this,\"slug\",void 0),(0,s.default)(this,\"userId\",void 0),(0,s.default)(this,\"feedUrl\",void 0),(0,s.default)(this,\"feedTogether\",void 0),(0,s.default)(this,\"notificationChannel\",void 0),!l||!u)throw new c.FeedError('Please provide a feed slug and user id, ie client.feed(\"user\", \"1\")');if(-1!==l.indexOf(':'))throw new c.FeedError('Please initialize the feed using client.feed(\"user\", \"1\") not client.feed(\"user:1\")');if(f.default.validateFeedSlug(l),f.default.validateUserId(u),!h)throw new c.FeedError('Missing token, in client side mode please provide a feed secret');this.client=o,this.slug=l,this.userId=u,this.id=\"\".concat(this.slug,\":\").concat(this.userId),this.token=h,this.feedUrl=this.id.replace(':','/'),this.feedTogether=this.id.replace(':',''),this.notificationChannel=\"site-\".concat(this.client.appId,\"-feed-\").concat(this.feedTogether)}return(0,o.default)(t,[{key:\"addActivity\",value:function(t){return!(t=f.default.replaceStreamObjects(t)).actor&&this.client.currentUser&&(t.actor=this.client.currentUser.ref()),this.client.post({url:\"feed/\".concat(this.feedUrl,\"/\"),body:t,token:this.token})}},{key:\"removeActivity\",value:function(t){return this.client.delete({url:\"feed/\".concat(this.feedUrl,\"/\").concat(t.foreignId||t,\"/\"),qs:t.foreignId?{foreign_id:'1'}:{},token:this.token})}},{key:\"addActivities\",value:function(t){return this.client.post({url:\"feed/\".concat(this.feedUrl,\"/\"),body:{activities:f.default.replaceStreamObjects(t)},token:this.token})}},{key:\"follow\",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n instanceof l.StreamUser&&(n=n.id),f.default.validateFeedSlug(t),f.default.validateUserId(n);var s={target:\"\".concat(t,\":\").concat(n)};return'number'==typeof o.limit&&(s.activity_copy_limit=o.limit),this.client.post({url:\"feed/\".concat(this.feedUrl,\"/following/\"),body:s,token:this.token})}},{key:\"unfollow\",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={};'boolean'==typeof o.keepHistory&&o.keepHistory&&(s.keep_history='1'),f.default.validateFeedSlug(t),f.default.validateUserId(n);var l=\"\".concat(t,\":\").concat(n);return this.client.delete({url:\"feed/\".concat(this.feedUrl,\"/following/\").concat(l,\"/\"),qs:s,token:this.token})}},{key:\"following\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return t.filter&&(n.filter=t.filter.join(',')),this.client.get({url:\"feed/\".concat(this.feedUrl,\"/following/\"),qs:h(h({},t),n),token:this.token})}},{key:\"followers\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return t.filter&&(n.filter=t.filter.join(',')),this.client.get({url:\"feed/\".concat(this.feedUrl,\"/followers/\"),qs:h(h({},t),n),token:this.token})}},{key:\"followStats\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={followers:this.id,following:this.id};return t.followerSlugs&&t.followerSlugs.length&&(n.followers_slugs=t.followerSlugs.join(',')),t.followingSlugs&&t.followingSlugs.length&&(n.following_slugs=t.followingSlugs.join(',')),this.client.get({url:'stats/follow/',qs:n,token:this.client.getOrCreateToken()})}},{key:\"get\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};t.mark_read&&t.mark_read.join&&(n.mark_read=t.mark_read.join(',')),t.mark_seen&&t.mark_seen.join&&(n.mark_seen=t.mark_seen.join(',')),this.client.replaceReactionOptions(t);var o=this.client.shouldUseEnrichEndpoint(t)?'enrich/feed/':'feed/';return this.client.get({url:\"\".concat(o).concat(this.feedUrl,\"/\"),qs:h(h({},t),n),token:this.token})}},{key:\"getActivityDetail\",value:function(t,n){return this.get(h({id_lte:t,id_gte:t,limit:1},n||{}))}},{key:\"getFayeClient\",value:function(){return this.client.getFayeClient()}},{key:\"subscribe\",value:function(t){if(!this.client.appId)throw new c.SiteError('Missing app id, which is needed to subscribe, use var client = stream.connect(key, secret, appId);');var n=this.getFayeClient().subscribe(\"/\".concat(this.notificationChannel),t);return this.client.subscriptions[\"/\".concat(this.notificationChannel)]={token:this.token,userId:this.notificationChannel,fayeSubscription:n},n}},{key:\"unsubscribe\",value:function(){var t=this.client.subscriptions[\"/\".concat(this.notificationChannel)];t&&(delete this.client.subscriptions[\"/\".concat(this.notificationChannel)],t.fayeSubscription.cancel())}},{key:\"updateActivityToTargets\",value:function(t,n,o,s,l){if(!t)throw new Error('Missing `foreign_id` parameter!');if(!n)throw new Error('Missing `time` parameter!');if(!o&&!s&&!l)throw new Error('Requires you to provide at least one parameter for `newTargets`, `addedTargets`, or `removedTargets` - example: `updateActivityToTargets(\"foreignID:1234\", new Date(), [newTargets...], [addedTargets...], [removedTargets...])`');if(o&&(s||l))throw new Error(\"Can't include add_targets or removedTargets if you're also including newTargets\");s&&l&&s.forEach(function(t){if(l.includes(t))throw new Error(\"Can't have the same feed ID in addedTargets and removedTargets.\")});var c={foreign_id:t,time:n};return o&&(c.new_targets=o),s&&(c.added_targets=s),l&&(c.removed_targets=l),this.client.post({url:\"feed_targets/\".concat(this.feedUrl,\"/activity_to_targets/\"),token:this.token,body:c})}}]),t})();e.StreamFeed=v});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0],[1,45,3,4,"_interopRequireDefault"],[1,47,3,29,"require"],[1,49,3,36,"d"],[1,51,3,36],[1,55,5,0,"Object"],[1,62,5,7,"defineProperty"],[1,77,5,22,"exports"],[1,79,5,31],[1,93,6,2,"value"],[1,100,6,9],[1,104,8,0,"exports"],[1,106,8,8,"StreamFeed"],[1,122,8,0,"undefined"],[1,124,10,0],[1,128,10,4,"_classCallCheck2"],[1,130,10,23,"_interopRequireDefault"],[1,132,10,46,"require"],[1,134,10,53,"d"],[1,136,10,53],[1,141,12,4,"_createClass2"],[1,143,12,20,"_interopRequireDefault"],[1,145,12,43,"require"],[1,147,12,50,"d"],[1,149,12,50],[1,154,14,4,"_defineProperty2"],[1,156,14,23,"_interopRequireDefault"],[1,158,14,46,"require"],[1,160,14,53,"d"],[1,162,14,53],[1,167,16,4,"_user"],[1,169,16,12,"require"],[1,171,16,19,"d"],[1,173,16,19],[1,177,18,4,"_errors"],[1,179,18,14,"require"],[1,181,18,21,"d"],[1,183,18,21],[1,187,20,4,"_utils"],[1,189,20,13,"_interopRequireDefault"],[1,191,20,36,"require"],[1,193,20,43,"d"],[1,195,20,43],[1,200,22,0],[1,209,22,9,"ownKeys"],[1,211,22,17,"object"],[1,213,22,25,"enumerableOnly"],[1,216,22,43],[1,220,22,47,"keys"],[1,222,22,54,"Object"],[1,229,22,61,"keys"],[1,234,22,66,"object"],[1,237,22,75],[1,240,22,79,"Object"],[1,247,22,86,"getOwnPropertySymbols"],[1,269,22,109],[1,270,22,111],[1,274,22,115,"symbols"],[1,276,22,125,"Object"],[1,283,22,132,"getOwnPropertySymbols"],[1,305,22,154,"object"],[1,308,22,167,"enumerableOnly"],[1,312,22,183,"symbols"],[1,314,22,193,"symbols"],[1,316,22,201,"filter"],[1,323,22,208],[1,332,22,218,"sym"],[1,335,22,225],[1,342,22,232,"Object"],[1,349,22,239,"getOwnPropertyDescriptor"],[1,374,22,264,"object"],[1,376,22,272,"sym"],[1,379,22,277,"enumerable"],[1,393,22,293,"keys"],[1,395,22,298,"push"],[1,400,22,303,"apply"],[1,406,22,309,"keys"],[1,408,22,315,"symbols"],[1,411,22,327],[1,418,22,334,"keys"],[1,420,24,0],[1,429,24,9,"_objectSpread"],[1,431,24,23,"target"],[1,434,24,33],[1,438,24,38],[1,442,24,42,"i"],[1,444,24,46],[1,446,24,49,"i"],[1,448,24,53,"arguments"],[1,458,24,63,"length"],[1,465,24,71,"i"],[1,469,24,76],[1,470,24,78],[1,474,24,82,"source"],[1,476,24,107],[1,482,24,91,"arguments"],[1,492,24,101,"i"],[1,495,24,114,"arguments"],[1,505,24,124,"i"],[1,511,24,137,"i"],[1,513,24,141],[1,515,24,146,"ownKeys"],[1,517,24,154,"Object"],[1,524,24,161,"source"],[1,528,24,170],[1,531,24,176,"forEach"],[1,539,24,184],[1,548,24,194,"key"],[1,552,24,201],[1,554,24,205,"_defineProperty2"],[1,556,24,222,"default"],[1,565,24,231,"target"],[1,567,24,239,"key"],[1,569,24,244,"source"],[1,571,24,251,"key"],[1,577,24,273,"Object"],[1,584,24,280,"getOwnPropertyDescriptors"],[1,610,24,309,"Object"],[1,617,24,316,"defineProperties"],[1,634,24,333,"target"],[1,636,24,341,"Object"],[1,643,24,348,"getOwnPropertyDescriptors"],[1,669,24,374,"source"],[1,673,24,393,"ownKeys"],[1,675,24,401,"Object"],[1,682,24,408,"source"],[1,686,24,417,"forEach"],[1,694,24,425],[1,703,24,435,"key"],[1,706,24,442,"Object"],[1,713,24,449,"defineProperty"],[1,728,24,464,"target"],[1,730,24,472,"key"],[1,732,24,477,"Object"],[1,739,24,484,"getOwnPropertyDescriptor"],[1,764,24,509,"source"],[1,766,24,517,"key"],[1,772,24,532],[1,779,24,539,"target"],[1,781,31,0],[1,785,31,4,"StreamFeed"],[1,788,31,30],[1,799,42,2],[1,808,42,11,"StreamFeed"],[1,810,42,22,"client"],[1,812,42,30,"feedSlug"],[1,814,42,40,"userId"],[1,816,42,48,"token"],[1,819,53,4],[1,823,43,4],[1,825,43,8,"_classCallCheck2"],[1,827,43,25,"default"],[1,836,43,34,"this"],[1,841,43,40,"StreamFeed"],[1,845,44,4],[1,847,44,8,"_defineProperty2"],[1,849,44,25,"default"],[1,858,44,34,"this"],[1,863,44,40],[1,877,44,4,"undefined"],[1,881,45,4],[1,883,45,8,"_defineProperty2"],[1,885,45,25,"default"],[1,894,45,34,"this"],[1,899,45,40],[1,912,45,4,"undefined"],[1,916,46,4],[1,918,46,8,"_defineProperty2"],[1,920,46,25,"default"],[1,929,46,34,"this"],[1,934,46,40],[1,944,46,4,"undefined"],[1,948,47,4],[1,950,47,8,"_defineProperty2"],[1,952,47,25,"default"],[1,961,47,34,"this"],[1,966,47,40],[1,978,47,4,"undefined"],[1,982,48,4],[1,984,48,8,"_defineProperty2"],[1,986,48,25,"default"],[1,995,48,34,"this"],[1,1000,48,40],[1,1014,48,4,"undefined"],[1,1018,49,4],[1,1020,49,8,"_defineProperty2"],[1,1022,49,25,"default"],[1,1031,49,34,"this"],[1,1036,49,40],[1,1051,49,4,"undefined"],[1,1055,50,4],[1,1057,50,8,"_defineProperty2"],[1,1059,50,25,"default"],[1,1068,50,34,"this"],[1,1073,50,40],[1,1093,50,4,"undefined"],[1,1097,51,4],[1,1099,51,8,"_defineProperty2"],[1,1101,51,25,"default"],[1,1110,51,34,"this"],[1,1115,51,40],[1,1142,51,4,"undefined"],[1,1146,53,9,"feedSlug"],[1,1150,53,22,"userId"],[1,1152,54,6],[1,1158,54,12],[1,1162,54,16,"_errors"],[1,1164,54,24,"FeedError"],[1,1174,54,34],[1,1245,57,4],[1,1249,57,8],[1,1253,57,8,"feedSlug"],[1,1255,57,17,"indexOf"],[1,1263,57,25],[1,1268,58,6],[1,1274,58,12],[1,1278,58,16,"_errors"],[1,1280,58,24,"FeedError"],[1,1290,58,34],[1,1377,66,4],[1,1380,61,4,"_utils"],[1,1382,61,11,"default"],[1,1390,61,19,"validateFeedSlug"],[1,1407,61,36,"feedSlug"],[1,1410,63,4,"_utils"],[1,1412,63,11,"default"],[1,1420,63,19,"validateUserId"],[1,1435,63,34,"userId"],[1,1439,66,9,"token"],[1,1441,67,6],[1,1447,67,12],[1,1451,67,16,"_errors"],[1,1453,67,24,"FeedError"],[1,1463,67,34],[1,1530,70,4,"this"],[1,1535,70,9,"client"],[1,1542,70,18,"client"],[1,1544,71,4,"this"],[1,1549,71,9,"slug"],[1,1554,71,16,"feedSlug"],[1,1556,72,4,"this"],[1,1561,72,9,"userId"],[1,1568,72,18,"userId"],[1,1570,73,4,"this"],[1,1575,73,9,"id"],[1,1578,73,14],[1,1581,73,17,"concat"],[1,1588,73,24,"this"],[1,1593,73,29,"slug"],[1,1598,73,35],[1,1603,73,40,"concat"],[1,1610,73,47,"this"],[1,1615,73,52,"userId"],[1,1623,74,4,"this"],[1,1628,74,9,"token"],[1,1634,74,17,"token"],[1,1636,75,4,"this"],[1,1641,75,9,"feedUrl"],[1,1649,75,19,"this"],[1,1654,75,24,"id"],[1,1657,75,27,"replace"],[1,1665,75,35],[1,1669,75,40],[1,1674,76,4,"this"],[1,1679,76,9,"feedTogether"],[1,1692,76,24,"this"],[1,1697,76,29,"id"],[1,1700,76,32,"replace"],[1,1708,76,40],[1,1712,76,45],[1,1716,78,4,"this"],[1,1721,78,9,"notificationChannel"],[1,1741,78,31],[1,1749,78,39,"concat"],[1,1756,78,46,"this"],[1,1761,78,51,"client"],[1,1768,78,58,"appId"],[1,1774,78,65],[1,1784,78,75,"concat"],[1,1791,78,82,"this"],[1,1796,78,87,"feedTogether"],[1,1810,458,2],[1,1817,90,2],[1,1819,90,6,"_createClass2"],[1,1821,90,20,"default"],[1,1830,90,29,"StreamFeed"],[1,1834,91,4,"key"],[1,1838,91,9],[1,1852,92,4,"value"],[1,1858,92,11],[1,1867,92,32,"activity"],[1,1870,99,6],[1,1878,93,6,"activity"],[1,1880,93,17,"_utils"],[1,1882,93,24,"default"],[1,1890,93,32,"replaceStreamObjects"],[1,1911,93,53,"activity"],[1,1915,95,20,"actor"],[1,1922,95,29,"this"],[1,1927,95,34,"client"],[1,1934,95,41,"currentUser"],[1,1948,96,8,"activity"],[1,1950,96,17,"actor"],[1,1956,96,25,"this"],[1,1961,96,30,"client"],[1,1968,96,37,"currentUser"],[1,1980,96,49,"ref"],[1,1987,99,13,"this"],[1,1992,99,18,"client"],[1,1999,99,25,"post"],[1,2005,100,8,"url"],[1,2009,100,13],[1,2017,100,21,"concat"],[1,2024,100,28,"this"],[1,2029,100,33,"feedUrl"],[1,2037,100,42],[1,2042,101,8,"body"],[1,2047,101,14,"activity"],[1,2049,102,8,"token"],[1,2055,102,15,"this"],[1,2060,102,20,"token"],[1,2071,117,4,"key"],[1,2075,117,9],[1,2092,118,4,"value"],[1,2098,118,11],[1,2107,118,35,"activityId"],[1,2110,119,6],[1,2117,119,13,"this"],[1,2122,119,18,"client"],[1,2129,119,25,"delete"],[1,2137,120,8,"url"],[1,2141,120,13],[1,2149,120,21,"concat"],[1,2156,120,28,"this"],[1,2161,120,33,"feedUrl"],[1,2169,120,42],[1,2174,120,47,"concat"],[1,2181,120,54,"activityId"],[1,2183,120,65,"foreignId"],[1,2194,120,78,"activityId"],[1,2196,120,90],[1,2201,121,8,"qs"],[1,2204,121,12,"activityId"],[1,2206,121,23,"foreignId"],[1,2217,122,10,"foreign_id"],[1,2228,122,22],[1,2236,124,8,"token"],[1,2242,124,15,"this"],[1,2247,124,20,"token"],[1,2258,137,4,"key"],[1,2262,137,9],[1,2278,138,4,"value"],[1,2284,138,11],[1,2293,138,34,"activities"],[1,2296,139,6],[1,2303,139,13,"this"],[1,2308,139,18,"client"],[1,2315,139,25,"post"],[1,2321,140,8,"url"],[1,2325,140,13],[1,2333,140,21,"concat"],[1,2340,140,28,"this"],[1,2345,140,33,"feedUrl"],[1,2353,140,42],[1,2358,141,8,"body"],[1,2364,142,10,"activities"],[1,2375,142,22,"_utils"],[1,2377,142,29,"default"],[1,2385,142,37,"replaceStreamObjects"],[1,2406,142,58,"activities"],[1,2410,144,8,"token"],[1,2416,144,15,"this"],[1,2421,144,20,"token"],[1,2432,163,4,"key"],[1,2436,163,9],[1,2445,164,4,"value"],[1,2451,164,11],[1,2460,164,27,"targetSlug"],[1,2462,164,39,"targetUserId"],[1,2465,165,6],[1,2469,165,10,"options"],[1,2471,165,20,"arguments"],[1,2481,165,30,"length"],[1,2488,165,39],[1,2496,165,61,"undefined"],[1,2500,165,44,"arguments"],[1,2510,165,54],[1,2513,165,73,"arguments"],[1,2523,165,83],[1,2529,167,10,"targetUserId"],[1,2542,167,34,"_user"],[1,2544,167,40,"StreamUser"],[1,2557,168,8,"targetUserId"],[1,2559,168,23,"targetUserId"],[1,2561,168,36,"id"],[1,2565,171,6,"_utils"],[1,2567,171,13,"default"],[1,2575,171,21,"validateFeedSlug"],[1,2592,171,38,"targetSlug"],[1,2595,173,6,"_utils"],[1,2597,173,13,"default"],[1,2605,173,21,"validateUserId"],[1,2620,173,36,"targetUserId"],[1,2623,175,6],[1,2627,175,10,"body"],[1,2630,176,8,"target"],[1,2637,176,16],[1,2640,176,19,"concat"],[1,2647,176,26,"targetSlug"],[1,2649,176,38],[1,2654,176,43,"concat"],[1,2661,176,50,"targetUserId"],[1,2665,179,6],[1,2671,178,35],[1,2688,178,17,"options"],[1,2690,178,25,"limit"],[1,2698,178,45,"body"],[1,2700,178,50,"activity_copy_limit"],[1,2720,178,72,"options"],[1,2722,178,80,"limit"],[1,2729,179,13,"this"],[1,2734,179,18,"client"],[1,2741,179,25,"post"],[1,2747,180,8,"url"],[1,2751,180,13],[1,2759,180,21,"concat"],[1,2766,180,28,"this"],[1,2771,180,33,"feedUrl"],[1,2779,180,42],[1,2794,181,8,"body"],[1,2799,181,14,"body"],[1,2801,182,8,"token"],[1,2807,182,15,"this"],[1,2812,182,20,"token"],[1,2823,200,4,"key"],[1,2827,200,9],[1,2838,201,4,"value"],[1,2844,201,11],[1,2853,201,29,"targetSlug"],[1,2855,201,41,"targetUserId"],[1,2858,202,6],[1,2862,202,10,"options"],[1,2864,202,20,"arguments"],[1,2874,202,30,"length"],[1,2881,202,39],[1,2889,202,61,"undefined"],[1,2893,202,44,"arguments"],[1,2903,202,54],[1,2906,202,73,"arguments"],[1,2916,202,83],[1,2922,203,10,"qs"],[1,2927,204,41],[1,2945,204,17,"options"],[1,2947,204,25,"keepHistory"],[1,2960,204,54,"options"],[1,2962,204,62,"keepHistory"],[1,2976,204,75,"qs"],[1,2978,204,78,"keep_history"],[1,2991,204,93],[1,2996,206,6,"_utils"],[1,2998,206,13,"default"],[1,3006,206,21,"validateFeedSlug"],[1,3023,206,38,"targetSlug"],[1,3026,208,6,"_utils"],[1,3028,208,13,"default"],[1,3036,208,21,"validateUserId"],[1,3051,208,36,"targetUserId"],[1,3054,210,6],[1,3058,210,10,"targetFeedId"],[1,3060,210,25],[1,3063,210,28,"concat"],[1,3070,210,35,"targetSlug"],[1,3072,210,47],[1,3077,210,52,"concat"],[1,3084,210,59,"targetUserId"],[1,3087,211,6],[1,3094,211,13,"this"],[1,3099,211,18,"client"],[1,3106,211,25,"delete"],[1,3114,212,8,"url"],[1,3118,212,13],[1,3126,212,21,"concat"],[1,3133,212,28,"this"],[1,3138,212,33,"feedUrl"],[1,3146,212,42],[1,3161,212,57,"concat"],[1,3168,212,64,"targetFeedId"],[1,3170,212,78],[1,3175,213,8,"qs"],[1,3178,213,12,"qs"],[1,3180,214,8,"token"],[1,3186,214,15,"this"],[1,3191,214,20,"token"],[1,3202,231,4,"key"],[1,3206,231,9],[1,3218,232,4,"value"],[1,3224,232,11],[1,3235,233,6],[1,3239,233,10,"options"],[1,3241,233,20,"arguments"],[1,3251,233,30,"length"],[1,3258,233,39],[1,3266,233,61,"undefined"],[1,3270,233,44,"arguments"],[1,3280,233,54],[1,3283,233,73,"arguments"],[1,3293,233,83],[1,3299,234,10,"extraOptions"],[1,3304,236,6],[1,3311,235,10,"options"],[1,3313,235,18,"filter"],[1,3322,235,26,"extraOptions"],[1,3324,235,39,"filter"],[1,3331,235,48,"options"],[1,3333,235,56,"filter"],[1,3340,235,63,"join"],[1,3345,235,68],[1,3351,236,13,"this"],[1,3356,236,18,"client"],[1,3363,236,25,"get"],[1,3368,237,8,"url"],[1,3372,237,13],[1,3380,237,21,"concat"],[1,3387,237,28,"this"],[1,3392,237,33,"feedUrl"],[1,3400,237,42],[1,3415,238,8,"qs"],[1,3418,238,12,"_objectSpread"],[1,3420,238,26,"_objectSpread"],[1,3425,238,44,"options"],[1,3428,238,54,"extraOptions"],[1,3431,239,8,"token"],[1,3437,239,15,"this"],[1,3442,239,20,"token"],[1,3453,256,4,"key"],[1,3457,256,9],[1,3469,257,4,"value"],[1,3475,257,11],[1,3486,258,6],[1,3490,258,10,"options"],[1,3492,258,20,"arguments"],[1,3502,258,30,"length"],[1,3509,258,39],[1,3517,258,61,"undefined"],[1,3521,258,44,"arguments"],[1,3531,258,54],[1,3534,258,73,"arguments"],[1,3544,258,83],[1,3550,259,10,"extraOptions"],[1,3555,261,6],[1,3562,260,10,"options"],[1,3564,260,18,"filter"],[1,3573,260,26,"extraOptions"],[1,3575,260,39,"filter"],[1,3582,260,48,"options"],[1,3584,260,56,"filter"],[1,3591,260,63,"join"],[1,3596,260,68],[1,3602,261,13,"this"],[1,3607,261,18,"client"],[1,3614,261,25,"get"],[1,3619,262,8,"url"],[1,3623,262,13],[1,3631,262,21,"concat"],[1,3638,262,28,"this"],[1,3643,262,33,"feedUrl"],[1,3651,262,42],[1,3666,263,8,"qs"],[1,3669,263,12,"_objectSpread"],[1,3671,263,26,"_objectSpread"],[1,3676,263,44,"options"],[1,3679,263,54,"extraOptions"],[1,3682,264,8,"token"],[1,3688,264,15,"this"],[1,3693,264,20,"token"],[1,3704,281,4,"key"],[1,3708,281,9],[1,3722,282,4,"value"],[1,3728,282,11],[1,3739,283,6],[1,3743,283,10,"options"],[1,3745,283,20,"arguments"],[1,3755,283,30,"length"],[1,3762,283,39],[1,3770,283,61,"undefined"],[1,3774,283,44,"arguments"],[1,3784,283,54],[1,3787,283,73,"arguments"],[1,3797,283,83],[1,3803,284,10,"qs"],[1,3806,285,8,"followers"],[1,3816,285,19,"this"],[1,3821,285,24,"id"],[1,3824,286,8,"following"],[1,3834,286,19,"this"],[1,3839,286,24,"id"],[1,3843,290,6],[1,3850,288,10,"options"],[1,3852,288,18,"followerSlugs"],[1,3867,288,35,"options"],[1,3869,288,43,"followerSlugs"],[1,3883,288,57,"length"],[1,3892,288,65,"qs"],[1,3894,288,68,"followers_slugs"],[1,3910,288,86,"options"],[1,3912,288,94,"followerSlugs"],[1,3926,288,108,"join"],[1,3931,288,113],[1,3937,289,10,"options"],[1,3939,289,18,"followingSlugs"],[1,3955,289,36,"options"],[1,3957,289,44,"followingSlugs"],[1,3972,289,59,"length"],[1,3981,289,67,"qs"],[1,3983,289,70,"following_slugs"],[1,3999,289,88,"options"],[1,4001,289,96,"followingSlugs"],[1,4016,289,111,"join"],[1,4021,289,116],[1,4027,290,13,"this"],[1,4032,290,18,"client"],[1,4039,290,25,"get"],[1,4044,291,8,"url"],[1,4048,291,13],[1,4064,292,8,"qs"],[1,4067,292,12,"qs"],[1,4069,293,8,"token"],[1,4075,293,15,"this"],[1,4080,293,20,"client"],[1,4087,293,27,"getOrCreateToken"],[1,4111,308,4,"key"],[1,4115,308,9],[1,4121,309,4,"value"],[1,4127,309,11],[1,4138,310,6],[1,4142,310,10,"options"],[1,4144,310,20,"arguments"],[1,4154,310,30,"length"],[1,4161,310,39],[1,4169,310,61,"undefined"],[1,4173,310,44,"arguments"],[1,4183,310,54],[1,4186,310,73,"arguments"],[1,4196,310,83],[1,4202,311,10,"extraOptions"],[1,4207,313,10,"options"],[1,4209,313,18,"mark_read"],[1,4220,313,31,"options"],[1,4222,313,39,"mark_read"],[1,4232,313,49,"join"],[1,4239,314,8,"extraOptions"],[1,4241,314,21,"mark_read"],[1,4251,314,33,"options"],[1,4253,314,41,"mark_read"],[1,4263,314,51,"join"],[1,4268,314,56],[1,4274,317,10,"options"],[1,4276,317,18,"mark_seen"],[1,4287,317,31,"options"],[1,4289,317,39,"mark_seen"],[1,4299,317,49,"join"],[1,4306,318,8,"extraOptions"],[1,4308,318,21,"mark_seen"],[1,4318,318,33,"options"],[1,4320,318,41,"mark_seen"],[1,4330,318,51,"join"],[1,4335,318,56],[1,4341,321,6,"this"],[1,4346,321,11,"client"],[1,4353,321,18,"replaceReactionOptions"],[1,4376,321,41,"options"],[1,4379,322,6],[1,4383,322,10,"path"],[1,4385,322,17,"this"],[1,4390,322,22,"client"],[1,4397,322,29,"shouldUseEnrichEndpoint"],[1,4421,322,53,"options"],[1,4424,322,64],[1,4439,322,81],[1,4447,323,6],[1,4454,323,13,"this"],[1,4459,323,18,"client"],[1,4466,323,25,"get"],[1,4471,324,8,"url"],[1,4475,324,13],[1,4478,324,16,"concat"],[1,4485,324,23,"path"],[1,4488,324,29,"concat"],[1,4495,324,36,"this"],[1,4500,324,41,"feedUrl"],[1,4508,324,50],[1,4513,325,8,"qs"],[1,4516,325,12,"_objectSpread"],[1,4518,325,26,"_objectSpread"],[1,4523,325,44,"options"],[1,4526,325,54,"extraOptions"],[1,4529,326,8,"token"],[1,4535,326,15,"this"],[1,4540,326,20,"token"],[1,4551,344,4,"key"],[1,4555,344,9],[1,4575,345,4,"value"],[1,4581,345,11],[1,4590,345,38,"activityId"],[1,4592,345,50,"options"],[1,4595,346,6],[1,4602,346,13,"this"],[1,4607,346,18,"get"],[1,4611,346,22,"_objectSpread"],[1,4614,347,8,"id_lte"],[1,4621,347,16,"activityId"],[1,4623,348,8,"id_gte"],[1,4630,348,16,"activityId"],[1,4632,349,8,"limit"],[1,4638,349,15],[1,4641,350,9,"options"],[1,4652,361,4,"key"],[1,4656,361,9],[1,4672,362,4,"value"],[1,4678,362,11],[1,4689,363,6],[1,4696,363,13,"this"],[1,4701,363,18,"client"],[1,4708,363,25,"getFayeClient"],[1,4727,379,4,"key"],[1,4731,379,9],[1,4743,380,4,"value"],[1,4749,380,11],[1,4758,380,30,"callback"],[1,4761,381,6],[1,4765,381,11,"this"],[1,4770,381,16,"client"],[1,4777,381,23,"appId"],[1,4783,382,8],[1,4789,382,14],[1,4793,382,18,"_errors"],[1,4795,382,26,"SiteError"],[1,4805,382,36],[1,4907,385,6],[1,4911,385,10,"subscription"],[1,4913,385,25,"this"],[1,4918,385,30,"getFayeClient"],[1,4934,385,46,"subscribe"],[1,4944,385,56],[1,4948,385,60,"concat"],[1,4955,385,67,"this"],[1,4960,385,72,"notificationChannel"],[1,4981,385,94,"callback"],[1,4984,391,6],[1,4991,386,6,"this"],[1,4996,386,11,"client"],[1,5003,386,18,"subscriptions"],[1,5017,386,32],[1,5021,386,36,"concat"],[1,5028,386,43,"this"],[1,5033,386,48,"notificationChannel"],[1,5056,387,8,"token"],[1,5062,387,15,"this"],[1,5067,387,20,"token"],[1,5073,388,8,"userId"],[1,5080,388,16,"this"],[1,5085,388,21,"notificationChannel"],[1,5105,389,8,"fayeSubscription"],[1,5122,389,26,"subscription"],[1,5125,391,13,"subscription"],[1,5130,400,4,"key"],[1,5134,400,9],[1,5148,401,4,"value"],[1,5154,401,11],[1,5165,402,6],[1,5169,402,10,"streamSubscription"],[1,5171,402,31,"this"],[1,5176,402,36,"client"],[1,5183,402,43,"subscriptions"],[1,5197,402,57],[1,5201,402,61,"concat"],[1,5208,402,68,"this"],[1,5213,402,73,"notificationChannel"],[1,5235,404,10,"streamSubscription"],[1,5246,405,15,"this"],[1,5251,405,20,"client"],[1,5258,405,27,"subscriptions"],[1,5272,405,41],[1,5276,405,45,"concat"],[1,5283,405,52,"this"],[1,5288,405,57,"notificationChannel"],[1,5310,406,8,"streamSubscription"],[1,5312,406,27,"fayeSubscription"],[1,5329,406,44,"cancel"],[1,5342,420,4,"key"],[1,5346,420,9],[1,5372,421,4,"value"],[1,5378,421,11],[1,5387,421,44,"foreignId"],[1,5389,421,55,"time"],[1,5391,421,61,"newTargets"],[1,5393,421,73,"addedTargets"],[1,5395,421,87,"removedTargets"],[1,5398,422,6],[1,5402,422,11,"foreignId"],[1,5404,422,22],[1,5410,422,28],[1,5414,422,32,"Error"],[1,5420,422,38],[1,5455,423,6],[1,5459,423,11,"time"],[1,5461,423,17],[1,5467,423,23],[1,5471,423,27,"Error"],[1,5477,423,33],[1,5506,425,6],[1,5510,425,11,"newTargets"],[1,5514,425,26,"addedTargets"],[1,5518,425,43,"removedTargets"],[1,5520,426,8],[1,5526,426,14],[1,5530,426,18,"Error"],[1,5536,426,24],[1,5764,429,6],[1,5767,429,10,"newTargets"],[1,5771,430,12,"addedTargets"],[1,5774,430,28,"removedTargets"],[1,5777,431,10],[1,5783,431,16],[1,5787,431,20,"Error"],[1,5793,431,26],[1,5876,435,10,"addedTargets"],[1,5879,435,26,"removedTargets"],[1,5882,437,8,"addedTargets"],[1,5884,437,21,"forEach"],[1,5892,437,29],[1,5901,437,39,"addedTarget"],[1,5904,438,10],[1,5907,438,14,"removedTargets"],[1,5909,438,29,"includes"],[1,5918,438,38,"addedTarget"],[1,5921,439,12],[1,5927,439,18],[1,5931,439,22,"Error"],[1,5937,439,28],[1,6006,444,6],[1,6010,444,10,"body"],[1,6013,445,8,"foreign_id"],[1,6024,445,20,"foreignId"],[1,6026,446,8,"time"],[1,6031,446,14,"time"],[1,6034,451,6],[1,6041,448,10,"newTargets"],[1,6045,448,22,"body"],[1,6047,448,27,"new_targets"],[1,6059,448,41,"newTargets"],[1,6062,449,10,"addedTargets"],[1,6066,449,24,"body"],[1,6068,449,29,"added_targets"],[1,6082,449,45,"addedTargets"],[1,6085,450,10,"removedTargets"],[1,6089,450,26,"body"],[1,6091,450,31,"removed_targets"],[1,6107,450,49,"removedTargets"],[1,6110,451,13,"this"],[1,6115,451,18,"client"],[1,6122,451,25,"post"],[1,6128,452,8,"url"],[1,6132,452,13],[1,6148,452,29,"concat"],[1,6155,452,36,"this"],[1,6160,452,41,"feedUrl"],[1,6168,452,50],[1,6193,453,8,"token"],[1,6199,453,15,"this"],[1,6204,453,20,"token"],[1,6210,454,8,"body"],[1,6215,454,14,"body"],[1,6223,458,9,"StreamFeed"],[1,6226,31,30],[1,6229,461,0,"exports"],[1,6231,461,8,"StreamFeed"],[1,6242,461,21,"StreamFeed"]],"functionMap":{"names":["<global>","ownKeys","symbols.filter$argument_0","_objectSpread","ownKeys.forEach$argument_0","<anonymous>","StreamFeed","addActivity","removeActivity","addActivities","follow","unfollow","following","followers","followStats","get","getActivityDetail","getFayeClient","subscribe","unsubscribe","updateActivityToTargets","addedTargets.forEach$argument_0"],"mappings":"AAA;ACqB,gNC,kFD,mDD;AGE,wLC,2ED,sKC,oGD,uBH;8BKO;ECW;GDqC;WEa;KFY;WGc;KHQ;WIY;KJQ;WKkB;KLoB;WMiB;KNe;WOgB;KPS;WQgB;KRS;WSgB;KTa;WUc;KVmB;WWiB;KXM;WYW;KZE;WagB;KbY;WcS;KdO;Wea;6BCgB;SDI;Kfe;CLG"}},"type":"js/module"}]}