{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false,"locs":[]}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false,"locs":[]}},{"name":"react","data":{"isAsync":false,"locs":[]}},{"name":"prop-types","data":{"isAsync":false,"locs":[]}},{"name":"react-native","data":{"isAsync":false,"locs":[]}},{"name":"../../shared/WithEvents","data":{"isAsync":false,"locs":[]}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/inherits\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _react = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"react\"));\n\n  var _propTypes = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"prop-types\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[8], \"react-native\");\n\n  var _WithEvents2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[9], \"../../shared/WithEvents\"));\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n  var ViewportTracker = function (_WithEvents) {\n    (0, _inherits2.default)(ViewportTracker, _WithEvents);\n\n    var _super = _createSuper(ViewportTracker);\n\n    function ViewportTracker(props, context) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, ViewportTracker);\n      _this = _super.call(this, props, context);\n\n      _this._onRef = function (ref) {\n        var childOnRef = _react.default.Children.only(_this.props.children).ref;\n\n        childOnRef && typeof childOnRef === 'function' && childOnRef(ref);\n        _this.nodeHandle = (0, _reactNative.findNodeHandle)(ref);\n      };\n\n      _this._onLayout = function (event) {\n        var childOnLayout = _react.default.Children.only(_this.props.children).props.onLayout;\n\n        childOnLayout && childOnLayout(event);\n        _this._viewportWidth = event.nativeEvent.layout.width;\n        _this._viewportHeight = event.nativeEvent.layout.height;\n\n        _this._onViewportChange();\n      };\n\n      _this._onContentSizeChange = function (contentWidth, contentHeight) {\n        var childOnContentSizeChange = _react.default.Children.only(_this.props.children).props.onContentSizeChange;\n\n        childOnContentSizeChange && childOnContentSizeChange(contentWidth, contentHeight);\n\n        _this._onViewportChange();\n      };\n\n      _this._onScroll = function (event) {\n        var childOnScroll = _react.default.Children.only(_this.props.children).props.onScroll;\n\n        childOnScroll && childOnScroll(event);\n        _this._viewportOffsetX = event.nativeEvent.contentOffset.x;\n        _this._viewportOffsetY = event.nativeEvent.contentOffset.y;\n\n        _this._onViewportChange(false);\n      };\n\n      _this._onViewportChange = function () {\n        var shouldMeasureLayout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n        _this.nodeHandle && _this._viewportWidth > 0 && _this._viewportHeight > 0 && _this.notifyViewportListeners({\n          parentHandle: _this.nodeHandle,\n          viewportOffsetX: _this._viewportOffsetX,\n          viewportOffsetY: _this._viewportOffsetY,\n          viewportWidth: _this._viewportWidth,\n          viewportHeight: _this._viewportHeight,\n          shouldMeasureLayout: shouldMeasureLayout\n        });\n      };\n\n      _this._viewportWidth = 0;\n      _this._viewportHeight = 0;\n      _this._viewportOffsetX = 0;\n      _this._viewportOffsetY = 0;\n      return _this;\n    }\n\n    (0, _createClass2.default)(ViewportTracker, [{\n      key: \"render\",\n      value: function render() {\n        return _react.default.cloneElement(_react.default.Children.only(this.props.children), {\n          ref: this._onRef,\n          onLayout: this._onLayout,\n          onContentSizeChange: this._onContentSizeChange,\n          onScroll: this._onScroll\n        });\n      }\n    }]);\n    return ViewportTracker;\n  }((0, _WithEvents2.default)({\n    name: 'viewport',\n    inChildContext: true,\n    notifiesWithLastEventOnAdd: true\n  }, _react.default.Component));\n\n  exports.default = ViewportTracker;\n  ViewportTracker.propTypes = {\n    children: _propTypes.default.element.isRequired\n  };\n});","lineCount":120,"map":[[2,0,1,0],[21,0,3,0],[23,0,4,0],[25,0,5,0],[27,0,7,0],[33,6,9,21,"ViewportTracker"],[33,21],[38,0,13,2],[38,29,13,14,"props"],[38,34,13,2],[38,36,13,21,"context"],[38,43,13,2],[38,45,13,30],[39,0,13,30],[41,0,13,30],[42,0,14,4],[42,32,14,10,"props"],[42,37,14,4],[42,39,14,17,"context"],[42,46,14,4],[44,0,13,30],[44,12,21,2,"_onRef"],[44,18,13,30],[44,21,21,11],[44,31,21,11,"ref"],[44,34,21,14],[44,36,21,18],[45,0,22,4],[45,12,22,10,"childOnRef"],[45,22,22,20],[45,25,22,23,"React"],[45,40,22,29,"Children"],[45,48,22,23],[45,49,22,38,"only"],[45,53,22,23],[45,54,22,43],[45,60,22,48,"props"],[45,65,22,43],[45,66,22,54,"children"],[45,74,22,23],[45,76,22,64,"ref"],[45,79,22,4],[47,0,23,4,"childOnRef"],[47,8,23,4,"childOnRef"],[47,18,23,14],[47,22,23,18],[47,29,23,25,"childOnRef"],[47,39,23,18],[47,44,23,40],[47,54,23,4],[47,58,23,54,"childOnRef"],[47,68,23,64],[47,69,23,65,"ref"],[47,72,23,64],[47,73,23,4],[48,0,24,4],[48,14,24,9,"nodeHandle"],[48,24,24,4],[48,27,24,22],[48,60,24,37,"ref"],[48,63,24,22],[48,64,24,4],[49,0,25,3],[49,7,13,30],[51,0,13,30],[51,12,27,2,"_onLayout"],[51,21,13,30],[51,24,27,14],[51,34,27,14,"event"],[51,39,27,19],[51,41,27,23],[52,0,28,4],[52,12,28,10,"childOnLayout"],[52,25,28,23],[52,28,28,26,"React"],[52,43,28,32,"Children"],[52,51,28,26],[52,52,28,41,"only"],[52,56,28,26],[52,57,28,46],[52,63,28,51,"props"],[52,68,28,46],[52,69,28,57,"children"],[52,77,28,26],[52,79,28,67,"props"],[52,84,28,26],[52,85,29,7,"onLayout"],[52,93,28,4],[54,0,30,4,"childOnLayout"],[54,8,30,4,"childOnLayout"],[54,21,30,17],[54,25,30,21,"childOnLayout"],[54,38,30,34],[54,39,30,35,"event"],[54,44,30,34],[54,45,30,4],[55,0,31,4],[55,14,31,9,"_viewportWidth"],[55,28,31,4],[55,31,31,26,"event"],[55,36,31,31],[55,37,31,32,"nativeEvent"],[55,48,31,26],[55,49,31,44,"layout"],[55,55,31,26],[55,56,31,51,"width"],[55,61,31,4],[56,0,32,4],[56,14,32,9,"_viewportHeight"],[56,29,32,4],[56,32,32,27,"event"],[56,37,32,32],[56,38,32,33,"nativeEvent"],[56,49,32,27],[56,50,32,45,"layout"],[56,56,32,27],[56,57,32,52,"height"],[56,63,32,4],[58,0,33,4],[58,14,33,9,"_onViewportChange"],[58,31,33,4],[59,0,34,3],[59,7,13,30],[61,0,13,30],[61,12,36,2,"_onContentSizeChange"],[61,32,13,30],[61,35,36,25],[61,45,36,26,"contentWidth"],[61,57,36,25],[61,59,36,40,"contentHeight"],[61,72,36,25],[61,74,36,58],[62,0,37,4],[62,12,37,10,"childOnContentSizeChange"],[62,36,37,34],[62,39,37,37,"React"],[62,54,37,43,"Children"],[62,62,37,37],[62,63,37,52,"only"],[62,67,37,37],[62,68,37,57],[62,74,37,62,"props"],[62,79,37,57],[62,80,37,68,"children"],[62,88,37,37],[62,90,38,7,"props"],[62,95,37,37],[62,96,38,13,"onContentSizeChange"],[62,115,37,4],[64,0,39,4,"childOnContentSizeChange"],[64,8,39,4,"childOnContentSizeChange"],[64,32,39,28],[64,36,40,6,"childOnContentSizeChange"],[64,60,40,30],[64,61,40,31,"contentWidth"],[64,73,40,30],[64,75,40,45,"contentHeight"],[64,88,40,30],[64,89,39,4],[66,0,41,4],[66,14,41,9,"_onViewportChange"],[66,31,41,4],[67,0,42,3],[67,7,13,30],[69,0,13,30],[69,12,44,2,"_onScroll"],[69,21,13,30],[69,24,44,14],[69,34,44,14,"event"],[69,39,44,19],[69,41,44,23],[70,0,45,4],[70,12,45,10,"childOnScroll"],[70,25,45,23],[70,28,45,26,"React"],[70,43,45,32,"Children"],[70,51,45,26],[70,52,45,41,"only"],[70,56,45,26],[70,57,45,46],[70,63,45,51,"props"],[70,68,45,46],[70,69,45,57,"children"],[70,77,45,26],[70,79,45,67,"props"],[70,84,45,26],[70,85,46,7,"onScroll"],[70,93,45,4],[72,0,47,4,"childOnScroll"],[72,8,47,4,"childOnScroll"],[72,21,47,17],[72,25,47,21,"childOnScroll"],[72,38,47,34],[72,39,47,35,"event"],[72,44,47,34],[72,45,47,4],[73,0,48,4],[73,14,48,9,"_viewportOffsetX"],[73,30,48,4],[73,33,48,28,"event"],[73,38,48,33],[73,39,48,34,"nativeEvent"],[73,50,48,28],[73,51,48,46,"contentOffset"],[73,64,48,28],[73,65,48,60,"x"],[73,66,48,4],[74,0,49,4],[74,14,49,9,"_viewportOffsetY"],[74,30,49,4],[74,33,49,28,"event"],[74,38,49,33],[74,39,49,34,"nativeEvent"],[74,50,49,28],[74,51,49,46,"contentOffset"],[74,64,49,28],[74,65,49,60,"y"],[74,66,49,4],[76,0,50,4],[76,14,50,9,"_onViewportChange"],[76,31,50,4],[76,32,50,27],[76,37,50,4],[77,0,51,3],[77,7,13,30],[79,0,13,30],[79,12,53,2,"_onViewportChange"],[79,29,13,30],[79,32,53,22],[79,44,53,54],[80,0,53,54],[80,12,53,23,"shouldMeasureLayout"],[80,31,53,54],[80,102,53,45],[80,106,53,54],[81,0,54,4],[81,14,54,9,"nodeHandle"],[81,24,54,4],[81,28,55,6],[81,34,55,11,"_viewportWidth"],[81,48,55,6],[81,51,55,28],[81,52,54,4],[81,56,56,6],[81,62,56,11,"_viewportHeight"],[81,77,56,6],[81,80,56,29],[81,81,54,4],[81,85,57,6],[81,91,57,11,"notifyViewportListeners"],[81,114,57,6],[81,115,57,35],[82,0,58,8,"parentHandle"],[82,10,58,8,"parentHandle"],[82,22,58,20],[82,24,58,22],[82,30,58,27,"nodeHandle"],[82,40,57,35],[83,0,59,8,"viewportOffsetX"],[83,10,59,8,"viewportOffsetX"],[83,25,59,23],[83,27,59,25],[83,33,59,30,"_viewportOffsetX"],[83,49,57,35],[84,0,60,8,"viewportOffsetY"],[84,10,60,8,"viewportOffsetY"],[84,25,60,23],[84,27,60,25],[84,33,60,30,"_viewportOffsetY"],[84,49,57,35],[85,0,61,8,"viewportWidth"],[85,10,61,8,"viewportWidth"],[85,23,61,21],[85,25,61,23],[85,31,61,28,"_viewportWidth"],[85,45,57,35],[86,0,62,8,"viewportHeight"],[86,10,62,8,"viewportHeight"],[86,24,62,22],[86,26,62,24],[86,32,62,29,"_viewportHeight"],[86,47,57,35],[87,0,63,8,"shouldMeasureLayout"],[87,10,63,8,"shouldMeasureLayout"],[87,29,63,27],[87,31,63,8,"shouldMeasureLayout"],[88,0,57,35],[88,9,57,6],[88,10,54,4],[89,0,65,3],[89,7,13,30],[91,0,15,4],[91,12,15,9,"_viewportWidth"],[91,26,15,4],[91,29,15,26],[91,30,15,4],[92,0,16,4],[92,12,16,9,"_viewportHeight"],[92,27,16,4],[92,30,16,27],[92,31,16,4],[93,0,17,4],[93,12,17,9,"_viewportOffsetX"],[93,28,17,4],[93,31,17,28],[93,32,17,4],[94,0,18,4],[94,12,18,9,"_viewportOffsetY"],[94,28,18,4],[94,31,18,28],[94,32,18,4],[95,0,13,30],[96,0,19,3],[100,13,67,2],[100,31,67,11],[101,0,68,4],[101,15,68,11,"React"],[101,30,68,17,"cloneElement"],[101,42,68,11],[101,43,68,30,"React"],[101,58,68,36,"Children"],[101,66,68,30],[101,67,68,45,"only"],[101,71,68,30],[101,72,68,50],[101,77,68,55,"props"],[101,82,68,50],[101,83,68,61,"children"],[101,91,68,30],[101,92,68,11],[101,94,68,72],[102,0,69,6,"ref"],[102,10,69,6,"ref"],[102,13,69,9],[102,15,69,11],[102,20,69,16,"_onRef"],[102,26,68,72],[103,0,70,6,"onLayout"],[103,10,70,6,"onLayout"],[103,18,70,14],[103,20,70,16],[103,25,70,21,"_onLayout"],[103,34,68,72],[104,0,71,6,"onContentSizeChange"],[104,10,71,6,"onContentSizeChange"],[104,29,71,25],[104,31,71,27],[104,36,71,32,"_onContentSizeChange"],[104,56,68,72],[105,0,72,6,"onScroll"],[105,10,72,6,"onScroll"],[105,18,72,14],[105,20,72,16],[105,25,72,21,"_onScroll"],[106,0,68,72],[106,9,68,11],[106,10,68,4],[107,0,74,3],[110,4,9,45],[110,30,10,2],[111,0,10,4,"name"],[111,4,10,4,"name"],[111,8,10,8],[111,10,10,10],[111,20,10,2],[112,0,10,22,"inChildContext"],[112,4,10,22,"inChildContext"],[112,18,10,36],[112,20,10,38],[112,24,10,2],[113,0,10,44,"notifiesWithLastEventOnAdd"],[113,4,10,44,"notifiesWithLastEventOnAdd"],[113,30,10,70],[113,32,10,72],[114,0,10,2],[114,3,9,45],[114,5,11,2,"React"],[114,20,11,8,"Component"],[114,29,9,45],[114,30],[117,0,9,21,"ViewportTracker"],[117,2,9,21,"ViewportTracker"],[117,17],[117,18,76,9,"propTypes"],[117,27],[117,30,76,21],[118,0,77,4,"children"],[118,4,77,4,"children"],[118,12,77,12],[118,14,77,14,"PropTypes"],[118,33,77,24,"element"],[118,40,77,14],[118,41,77,32,"isRequired"],[119,0,76,21],[119,3]],"functionMap":{"names":["<global>","ViewportTracker","ViewportTracker#constructor","ViewportTracker#_onRef","ViewportTracker#_onLayout","ViewportTracker#_onContentSizeChange","ViewportTracker#_onScroll","ViewportTracker#_onViewportChange","ViewportTracker#render"],"mappings":"AAA;eCQ;ECI;GDM;WEE;GFI;cGE;GHO;yBIE;GJM;cKE;GLO;sBME;GNY;EOE;GPO;CDK"}},"type":"js/module"}]}