{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"./errors","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.StreamReaction=void 0;var n=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3])),o=t(r(d[4])),l=r(d[5]),c=(function(){function t(n,s){(0,u.default)(this,t),(0,o.default)(this,\"client\",void 0),(0,o.default)(this,\"token\",void 0),(0,o.default)(this,\"buildURL\",function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return\"\".concat(['reaction'].concat(n).join('/'),\"/\")}),(0,o.default)(this,\"_convertTargetFeeds\",function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){return'string'==typeof t?t:t.id})}),this.client=n,this.token=s}return(0,s.default)(t,[{key:\"add\",value:function(t,n,u){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=s.id,l=s.targetFeeds,c=void 0===l?[]:l,h=s.userId,v=s.targetFeedsExtraData,_={id:o,activity_id:n instanceof Object?n.id:n,kind:t,data:u||{},target_feeds:this._convertTargetFeeds(c),user_id:h};return null!=v&&(_.target_feeds_extra_data=v),this.client.post({url:this.buildURL(),body:_,signature:this.token})}},{key:\"addChild\",value:function(t,n,u){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=s.targetFeeds,l=void 0===o?[]:o,c=s.userId,h=s.targetFeedsExtraData,v={parent:n instanceof Object?n.id:n,kind:t,data:u||{},target_feeds:this._convertTargetFeeds(l),user_id:c};return null!=h&&(v.target_feeds_extra_data=h),this.client.post({url:this.buildURL(),body:v,signature:this.token})}},{key:\"get\",value:function(t){return this.client.get({url:this.buildURL(t),signature:this.token})}},{key:\"filter\",value:function(t){var u=t.user_id,s=t.activity_id,o=t.reaction_id,c=(0,n.default)(t,[\"user_id\",\"activity_id\",\"reaction_id\"]);if(c.limit||(c.limit=10),(u?1:0)+(s?1:0)+(o?1:0)!=1)throw new l.SiteError('Must provide exactly one value for one of these params: user_id, activity_id, reaction_id');var h=(u?'user_id':s&&'activity_id')||o&&'reaction_id',v=u||s||o,_=t.kind?this.buildURL(h,v,t.kind):this.buildURL(h,v);return this.client.get({url:_,qs:c,signature:this.token})}},{key:\"update\",value:function(t,n){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=u.targetFeeds,o=void 0===s?[]:s,l=u.targetFeedsExtraData,c={data:n,target_feeds:this._convertTargetFeeds(o)};return null!=l&&(c.target_feeds_extra_data=l),this.client.put({url:this.buildURL(t),body:c,signature:this.token})}},{key:\"delete\",value:function(t){return this.client.delete({url:this.buildURL(t),signature:this.token})}}]),t})();e.StreamReaction=c});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0],[1,45,3,4,"_interopRequireDefault"],[1,47,3,29,"require"],[1,49,3,36,"d"],[1,51,3,36],[1,55,5,0,"Object"],[1,62,5,7,"defineProperty"],[1,77,5,22,"exports"],[1,79,5,31],[1,93,6,2,"value"],[1,100,6,9],[1,104,8,0,"exports"],[1,106,8,8,"StreamReaction"],[1,126,8,0,"undefined"],[1,128,10,0],[1,132,10,4,"_objectWithoutProperties2"],[1,134,10,32,"_interopRequireDefault"],[1,136,10,55,"require"],[1,138,10,62,"d"],[1,140,10,62],[1,145,12,4,"_classCallCheck2"],[1,147,12,23,"_interopRequireDefault"],[1,149,12,46,"require"],[1,151,12,53,"d"],[1,153,12,53],[1,158,14,4,"_createClass2"],[1,160,14,20,"_interopRequireDefault"],[1,162,14,43,"require"],[1,164,14,50,"d"],[1,166,14,50],[1,171,16,4,"_defineProperty2"],[1,173,16,23,"_interopRequireDefault"],[1,175,16,46,"require"],[1,177,16,53,"d"],[1,179,16,53],[1,184,18,4,"_errors"],[1,186,18,14,"require"],[1,188,18,21,"d"],[1,190,18,21],[1,194,20,4,"StreamReaction"],[1,197,20,34],[1,208,29,2],[1,217,29,11,"StreamReaction"],[1,219,29,26,"client"],[1,221,29,34,"token"],[1,225,30,4],[1,227,30,8,"_classCallCheck2"],[1,229,30,25,"default"],[1,238,30,34,"this"],[1,243,30,40,"StreamReaction"],[1,247,31,4],[1,249,31,8,"_defineProperty2"],[1,251,31,25,"default"],[1,260,31,34,"this"],[1,265,31,40],[1,279,31,4,"undefined"],[1,283,32,4],[1,285,32,8,"_defineProperty2"],[1,287,32,25,"default"],[1,296,32,34,"this"],[1,301,32,40],[1,314,32,4,"undefined"],[1,318,33,4],[1,320,33,8,"_defineProperty2"],[1,322,33,25,"default"],[1,331,33,34,"this"],[1,336,33,40],[1,347,33,52],[1,358,34,6],[1,362,34,11],[1,366,34,15,"_len"],[1,368,34,22,"arguments"],[1,378,34,32,"length"],[1,385,34,40,"args"],[1,387,34,47],[1,391,34,51,"Array"],[1,397,34,57,"_len"],[1,400,34,64,"_key"],[1,402,34,71],[1,404,34,74,"_key"],[1,406,34,81,"_len"],[1,408,34,87,"_key"],[1,412,35,8,"args"],[1,414,35,13,"_key"],[1,417,35,21,"arguments"],[1,427,35,31,"_key"],[1,430,38,6],[1,436,38,13],[1,439,38,16,"concat"],[1,447,38,24],[1,459,38,36,"concat"],[1,466,38,43,"args"],[1,469,38,49,"join"],[1,474,38,54],[1,479,38,60],[1,487,40,4],[1,489,40,8,"_defineProperty2"],[1,491,40,25,"default"],[1,500,40,34,"this"],[1,505,40,40],[1,527,40,63],[1,538,42,6],[1,545,41,24,"arguments"],[1,555,41,34,"length"],[1,562,41,43],[1,570,41,65,"undefined"],[1,574,41,48,"arguments"],[1,584,41,58],[1,587,41,77,"arguments"],[1,597,41,87],[1,604,42,25,"map"],[1,608,42,29],[1,617,42,39,"elem"],[1,620,43,8],[1,626,43,31],[1,643,43,22,"elem"],[1,645,43,42,"elem"],[1,647,43,49,"elem"],[1,649,43,54,"id"],[1,656,46,4,"this"],[1,661,46,9,"client"],[1,668,46,18,"client"],[1,670,47,4,"this"],[1,675,47,9,"token"],[1,681,47,17,"token"],[1,683,251,2],[1,690,50,2],[1,692,50,6,"_createClass2"],[1,694,50,20,"default"],[1,703,50,29,"StreamReaction"],[1,707,51,4,"key"],[1,711,51,9],[1,717,69,4,"value"],[1,723,69,11],[1,732,69,24,"kind"],[1,734,69,30,"activity"],[1,736,69,40,"data"],[1,739,70,6],[1,743,70,10,"_ref"],[1,745,70,17,"arguments"],[1,755,70,27,"length"],[1,762,70,36],[1,770,70,58,"undefined"],[1,774,70,41,"arguments"],[1,784,70,51],[1,787,70,70,"arguments"],[1,797,70,80],[1,803,71,10,"id"],[1,805,71,15,"_ref"],[1,807,71,20,"id"],[1,810,72,10,"_ref$targetFeeds"],[1,812,72,29,"_ref"],[1,814,72,34,"targetFeeds"],[1,826,73,10,"targetFeeds"],[1,833,73,40,"undefined"],[1,837,73,24,"_ref$targetFeeds"],[1,842,73,59,"_ref$targetFeeds"],[1,844,74,10,"userId"],[1,846,74,19,"_ref"],[1,848,74,24,"userId"],[1,855,75,10,"targetFeedsExtraData"],[1,857,75,33,"_ref"],[1,859,75,38,"targetFeedsExtraData"],[1,880,77,10,"body"],[1,883,78,8,"id"],[1,886,78,12,"id"],[1,888,79,8,"activity_id"],[1,900,79,21,"activity"],[1,913,79,41,"Object"],[1,920,79,50,"activity"],[1,922,79,59,"id"],[1,925,79,64,"activity"],[1,927,80,8,"kind"],[1,932,80,14,"kind"],[1,934,81,8,"data"],[1,939,81,14,"data"],[1,945,82,8,"target_feeds"],[1,958,82,22,"this"],[1,963,82,27,"_convertTargetFeeds"],[1,983,82,47,"targetFeeds"],[1,986,83,8,"user_id"],[1,994,83,17,"userId"],[1,997,90,6],[1,1004,86,34],[1,1010,86,10,"targetFeedsExtraData"],[1,1014,87,8,"body"],[1,1016,87,13,"target_feeds_extra_data"],[1,1040,87,39,"targetFeedsExtraData"],[1,1043,90,13,"this"],[1,1048,90,18,"client"],[1,1055,90,25,"post"],[1,1061,91,8,"url"],[1,1065,91,13,"this"],[1,1070,91,18,"buildURL"],[1,1081,92,8,"body"],[1,1086,92,14,"body"],[1,1088,93,8,"signature"],[1,1098,93,19,"this"],[1,1103,93,24,"token"],[1,1114,113,4,"key"],[1,1118,113,9],[1,1129,114,4,"value"],[1,1135,114,11],[1,1144,114,29,"kind"],[1,1146,114,35,"reaction"],[1,1148,114,45,"data"],[1,1151,115,6],[1,1155,115,10,"_ref2"],[1,1157,115,18,"arguments"],[1,1167,115,28,"length"],[1,1174,115,37],[1,1182,115,59,"undefined"],[1,1186,115,42,"arguments"],[1,1196,115,52],[1,1199,115,71,"arguments"],[1,1209,115,81],[1,1215,116,10,"_ref2$targetFeeds"],[1,1217,116,30,"_ref2"],[1,1219,116,36,"targetFeeds"],[1,1231,117,10,"targetFeeds"],[1,1238,117,41,"undefined"],[1,1242,117,24,"_ref2$targetFeeds"],[1,1247,117,60,"_ref2$targetFeeds"],[1,1249,118,10,"userId"],[1,1251,118,19,"_ref2"],[1,1253,118,25,"userId"],[1,1260,119,10,"targetFeedsExtraData"],[1,1262,119,33,"_ref2"],[1,1264,119,39,"targetFeedsExtraData"],[1,1285,121,10,"body"],[1,1288,122,8,"parent"],[1,1295,122,16,"reaction"],[1,1308,122,36,"Object"],[1,1315,122,45,"reaction"],[1,1317,122,54,"id"],[1,1320,122,59,"reaction"],[1,1322,123,8,"kind"],[1,1327,123,14,"kind"],[1,1329,124,8,"data"],[1,1334,124,14,"data"],[1,1340,125,8,"target_feeds"],[1,1353,125,22,"this"],[1,1358,125,27,"_convertTargetFeeds"],[1,1378,125,47,"targetFeeds"],[1,1381,126,8,"user_id"],[1,1389,126,17,"userId"],[1,1392,133,6],[1,1399,129,34],[1,1405,129,10,"targetFeedsExtraData"],[1,1409,130,8,"body"],[1,1411,130,13,"target_feeds_extra_data"],[1,1435,130,39,"targetFeedsExtraData"],[1,1438,133,13,"this"],[1,1443,133,18,"client"],[1,1450,133,25,"post"],[1,1456,134,8,"url"],[1,1460,134,13,"this"],[1,1465,134,18,"buildURL"],[1,1476,135,8,"body"],[1,1481,135,14,"body"],[1,1483,136,8,"signature"],[1,1493,136,19,"this"],[1,1498,136,24,"token"],[1,1509,149,4,"key"],[1,1513,149,9],[1,1519,150,4,"value"],[1,1525,150,11],[1,1534,150,24,"id"],[1,1537,151,6],[1,1544,151,13,"this"],[1,1549,151,18,"client"],[1,1556,151,25,"get"],[1,1561,152,8,"url"],[1,1565,152,13,"this"],[1,1570,152,18,"buildURL"],[1,1579,152,27,"id"],[1,1582,153,8,"signature"],[1,1592,153,19,"this"],[1,1597,153,24,"token"],[1,1608,172,4,"key"],[1,1612,172,9],[1,1621,173,4,"value"],[1,1627,173,11],[1,1636,173,27,"conditions"],[1,1639,174,6],[1,1643,174,10,"userId"],[1,1645,174,19,"conditions"],[1,1647,174,30,"user_id"],[1,1655,175,10,"activityId"],[1,1657,175,23,"conditions"],[1,1659,175,34,"activity_id"],[1,1671,176,10,"reactionId"],[1,1673,176,23,"conditions"],[1,1675,176,34,"reaction_id"],[1,1687,177,10,"qs"],[1,1690,177,15],[1,1692,177,19,"_objectWithoutProperties2"],[1,1694,177,45,"default"],[1,1703,177,54,"conditions"],[1,1706,177,67],[1,1716,177,78],[1,1730,177,93],[1,1746,183,6],[1,1749,179,11,"qs"],[1,1751,179,14,"limit"],[1,1759,180,8,"qs"],[1,1761,180,11,"limit"],[1,1767,180,19],[1,1772,183,11,"userId"],[1,1774,183,20],[1,1776,183,24],[1,1780,183,30,"activityId"],[1,1782,183,43],[1,1784,183,47],[1,1788,183,53,"reactionId"],[1,1790,183,66],[1,1792,183,70],[1,1796,183,77],[1,1798,184,8],[1,1804,184,14],[1,1808,184,18,"_errors"],[1,1810,184,26,"SiteError"],[1,1820,184,36],[1,1913,187,6],[1,1917,187,10,"lookupType"],[1,1920,187,23,"userId"],[1,1922,187,33],[1,1932,187,46,"activityId"],[1,1935,187,60],[1,1951,187,77,"reactionId"],[1,1954,187,91],[1,1968,188,10,"value"],[1,1970,188,18,"userId"],[1,1973,188,28,"activityId"],[1,1976,188,42,"reactionId"],[1,1978,189,10,"url"],[1,1980,189,16,"conditions"],[1,1982,189,27,"kind"],[1,1987,189,34,"this"],[1,1992,189,39,"buildURL"],[1,2001,189,48,"lookupType"],[1,2003,189,60,"value"],[1,2005,189,67,"conditions"],[1,2007,189,78,"kind"],[1,2013,189,86,"this"],[1,2018,189,91,"buildURL"],[1,2027,189,100,"lookupType"],[1,2029,189,112,"value"],[1,2032,190,6],[1,2039,190,13,"this"],[1,2044,190,18,"client"],[1,2051,190,25,"get"],[1,2056,191,8,"url"],[1,2060,191,13,"url"],[1,2062,192,8,"qs"],[1,2065,192,12,"qs"],[1,2067,193,8,"signature"],[1,2077,193,19,"this"],[1,2082,193,24,"token"],[1,2093,211,4,"key"],[1,2097,211,9],[1,2106,212,4,"value"],[1,2112,212,11],[1,2121,212,27,"id"],[1,2123,212,31,"data"],[1,2126,213,6],[1,2130,213,10,"_ref3"],[1,2132,213,18,"arguments"],[1,2142,213,28,"length"],[1,2149,213,37],[1,2157,213,59,"undefined"],[1,2161,213,42,"arguments"],[1,2171,213,52],[1,2174,213,71,"arguments"],[1,2184,213,81],[1,2190,214,10,"_ref3$targetFeeds"],[1,2192,214,30,"_ref3"],[1,2194,214,36,"targetFeeds"],[1,2206,215,10,"targetFeeds"],[1,2213,215,41,"undefined"],[1,2217,215,24,"_ref3$targetFeeds"],[1,2222,215,60,"_ref3$targetFeeds"],[1,2224,216,10,"targetFeedsExtraData"],[1,2226,216,33,"_ref3"],[1,2228,216,39,"targetFeedsExtraData"],[1,2249,218,10,"body"],[1,2252,219,8,"data"],[1,2257,219,14,"data"],[1,2259,220,8,"target_feeds"],[1,2272,220,22,"this"],[1,2277,220,27,"_convertTargetFeeds"],[1,2297,220,47,"targetFeeds"],[1,2301,227,6],[1,2308,223,34],[1,2314,223,10,"targetFeedsExtraData"],[1,2318,224,8,"body"],[1,2320,224,13,"target_feeds_extra_data"],[1,2344,224,39,"targetFeedsExtraData"],[1,2347,227,13,"this"],[1,2352,227,18,"client"],[1,2359,227,25,"put"],[1,2364,228,8,"url"],[1,2368,228,13,"this"],[1,2373,228,18,"buildURL"],[1,2382,228,27,"id"],[1,2385,229,8,"body"],[1,2390,229,14,"body"],[1,2392,230,8,"signature"],[1,2402,230,19,"this"],[1,2407,230,24,"token"],[1,2418,243,4,"key"],[1,2422,243,9],[1,2431,244,4,"value"],[1,2437,244,11],[1,2446,244,28,"id"],[1,2449,245,6],[1,2456,245,13,"this"],[1,2461,245,18,"client"],[1,2468,245,25,"delete"],[1,2476,246,8,"url"],[1,2480,246,13,"this"],[1,2485,246,18,"buildURL"],[1,2494,246,27,"id"],[1,2497,247,8,"signature"],[1,2507,247,19,"this"],[1,2512,247,24,"token"],[1,2524,251,9,"StreamReaction"],[1,2527,20,34],[1,2530,254,0,"exports"],[1,2532,254,8,"StreamReaction"],[1,2547,254,25,"StreamReaction"]],"functionMap":{"names":["<global>","<anonymous>","StreamReaction","targetFeeds.map$argument_0","add","addChild","get","filter","update","_delete"],"mappings":"AAA;kCCmB;ECS;oDDI;KCM;+DDC;6BEE;OFE;KCC;GDG;WGqB;KH0B;WImB;KJwB;WKY;KLK;WMkB;KNsB;WOiB;KPoB;WQY;KRK;CDG"}},"type":"js/module"}]}