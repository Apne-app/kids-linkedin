{"dependencies":[{"name":"crypto-js","data":{"isAsync":false,"locs":[{"start":{"line":17,"column":15},"end":{"line":17,"column":35}}]}},{"name":"buffer","data":{"isAsync":false,"locs":[{"start":{"line":18,"column":30},"end":{"line":18,"column":47}}]}},{"name":"./DateUtils","data":{"isAsync":false,"locs":[{"start":{"line":20,"column":15},"end":{"line":20,"column":37}}]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,\"__esModule\",{value:!0});var t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(t[c]=o[c])}return t},n=(function(){function t(t,n){for(var o=0;o<n.length;o++){var c=n[o];c.enumerable=c.enumerable||!1,c.configurable=!0,\"value\"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}return function(n,o,c){return o&&t(n.prototype,o),c&&t(n,c),n}})();function o(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}var c=r(d[0]),u=g.Buffer||r(d[1]).Buffer,s=r(d[2]).dateToString,y=\"s3\",l=\"aws4_request\",p=function(t,n){if(null==t)throw new Error(n)},f=(e.S3Policy=(function(){function c(){o(this,c)}return n(c,null,[{key:'generate',value:function(n){n||(n={}),p(n.key,\"Must provide `key` option with the object key\"),p(n.bucket,\"Must provide `bucket` option with your AWS bucket name\"),p(n.contentType,\"Must provide `contentType` option with the object content type\"),p(n.region,\"Must provide `region` option with your AWS region\"),p(n.date,\"Must provide `date` option with the current date\"),p(n.accessKey,\"Must provide `accessKey` option with your AWSAccessKeyId\"),p(n.secretKey,\"Must provide `secretKey` option with your AWSSecretKey\");var o=n.date,c=3e5-(n.timeDelta||0),u=new Date(o.getTime()+c),v=t({},n,{acl:n.acl||\"public-read\",algorithm:\"AWS4-HMAC-SHA256\",amzDate:s(o,'amz-iso8601'),yyyymmddDate:s(o,'yyyymmdd'),expirationDate:s(u,'iso8601'),successActionStatus:String(n.successActionStatus||\"201\")});v.credential=[v.accessKey,v.yyyymmddDate,v.region,y,l].join('/');var b=S(v),w=A(b),k=h(w,v);return f(w,k,v)}}]),c})(),function(t,n,o){return{key:o.key,acl:o.acl,success_action_status:o.successActionStatus,\"Content-Type\":o.contentType,\"X-Amz-Credential\":o.credential,\"X-Amz-Algorithm\":o.algorithm,\"X-Amz-Date\":o.amzDate,Policy:t,\"X-Amz-Signature\":n}}),S=function(t){return{expiration:t.expirationDate,conditions:[{bucket:t.bucket},{key:t.key},{acl:t.acl},{success_action_status:t.successActionStatus},{\"Content-Type\":t.contentType},{\"x-amz-credential\":t.credential},{\"x-amz-algorithm\":t.algorithm},{\"x-amz-date\":t.amzDate}]}},A=function(t){return u.from(JSON.stringify(t),\"utf-8\").toString(\"base64\")},h=function(t,n){return c.HmacSHA256(t,v(n)).toString(c.enc.Hex)},v=function(t){var n=c.HmacSHA256(t.yyyymmddDate,\"AWS4\"+t.secretKey),o=c.HmacSHA256(t.region,n),u=c.HmacSHA256(y,o);return c.HmacSHA256(l,u)}});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0,"Object"],[1,48,3,7,"defineProperty"],[1,63,3,22,"exports"],[1,65,3,31],[1,79,4,2,"value"],[1,86,4,9],[1,90,7,0],[1,94,7,4,"_extends"],[1,96,7,15,"Object"],[1,103,7,22,"assign"],[1,111,7,32],[1,120,7,42,"target"],[1,123,7,52],[1,127,7,57],[1,131,7,61,"i"],[1,133,7,65],[1,135,7,68,"i"],[1,137,7,72,"arguments"],[1,147,7,82,"length"],[1,154,7,90,"i"],[1,158,7,95],[1,159,7,97],[1,163,7,101,"source"],[1,165,7,110,"arguments"],[1,175,7,120,"i"],[1,178,7,124],[1,182,7,129],[1,186,7,133,"key"],[1,191,7,140,"source"],[1,193,7,154,"Object"],[1,200,7,161,"prototype"],[1,210,7,171,"hasOwnProperty"],[1,225,7,186,"call"],[1,230,7,191,"source"],[1,232,7,199,"key"],[1,237,7,207,"target"],[1,239,7,214,"key"],[1,242,7,221,"source"],[1,244,7,228,"key"],[1,248,7,240],[1,255,7,247,"target"],[1,258,9,4,"_createClass"],[1,261,9,19],[1,272,9,33],[1,281,9,42,"defineProperties"],[1,283,9,59,"target"],[1,285,9,67,"props"],[1,288,9,76],[1,292,9,81],[1,296,9,85,"i"],[1,298,9,89],[1,300,9,92,"i"],[1,302,9,96,"props"],[1,304,9,102,"length"],[1,311,9,110,"i"],[1,315,9,115],[1,316,9,117],[1,320,9,121,"descriptor"],[1,322,9,134,"props"],[1,324,9,140,"i"],[1,327,9,144,"descriptor"],[1,329,9,155,"enumerable"],[1,340,9,168,"descriptor"],[1,342,9,179,"enumerable"],[1,355,9,193],[1,357,9,200,"descriptor"],[1,359,9,211,"configurable"],[1,373,9,226],[1,375,9,236],[1,385,9,247,"descriptor"],[1,389,9,259,"descriptor"],[1,391,9,270,"writable"],[1,401,9,281],[1,404,9,287,"Object"],[1,411,9,294,"defineProperty"],[1,426,9,309,"target"],[1,428,9,317,"descriptor"],[1,430,9,328,"key"],[1,434,9,333,"descriptor"],[1,438,9,350],[1,445,9,357],[1,454,9,367,"Constructor"],[1,456,9,380,"protoProps"],[1,458,9,392,"staticProps"],[1,461,9,537],[1,468,9,411,"protoProps"],[1,471,9,423,"defineProperties"],[1,473,9,440,"Constructor"],[1,475,9,452,"prototype"],[1,485,9,463,"protoProps"],[1,488,9,480,"staticProps"],[1,491,9,493,"defineProperties"],[1,493,9,510,"Constructor"],[1,495,9,523,"staticProps"],[1,498,9,544,"Constructor"],[1,502,9,19],[1,505,11,0],[1,514,11,9,"_classCallCheck"],[1,516,11,25,"instance"],[1,518,11,35,"Constructor"],[1,521,11,50],[1,526,11,56,"instance"],[1,539,11,76,"Constructor"],[1,542,11,92],[1,548,11,98],[1,552,11,102,"TypeError"],[1,562,11,112],[1,599,17,0],[1,603,17,4,"CryptoJS"],[1,605,17,15,"require"],[1,607,17,22,"d"],[1,609,17,22],[1,613,18,4,"Buffer"],[1,615,18,13,"global"],[1,617,18,20,"Buffer"],[1,625,18,30,"require"],[1,627,18,37,"d"],[1,629,18,37],[1,633,18,48,"Buffer"],[1,640,21,4,"dateToString"],[1,642,20,15,"require"],[1,644,20,22,"d"],[1,646,20,22],[1,650,21,28,"dateToString"],[1,663,26,4,"AWS_SERVICE_NAME"],[1,665,26,23],[1,670,27,4,"AWS_REQUEST_POLICY_VERSION"],[1,672,27,33],[1,687,32,4,"assert"],[1,689,32,13],[1,698,32,29,"object"],[1,700,32,37,"message"],[1,703,33,2],[1,706,33,6],[1,712,33,14,"object"],[1,714,33,22],[1,720,33,28],[1,724,33,32,"Error"],[1,730,33,38,"message"],[1,734,81,4,"formatPolicyForRequestBody"],[1,737,36,15,"exports"],[1,739,36,23,"S3Policy"],[1,749,36,34],[1,760,37,2],[1,769,37,11,"S3Policy"],[1,773,38,4,"_classCallCheck"],[1,775,38,20,"this"],[1,780,38,26,"S3Policy"],[1,783,78,2],[1,790,41,2,"_createClass"],[1,792,41,15,"S3Policy"],[1,794,41,25],[1,801,42,4,"key"],[1,805,42,9],[1,816,43,4,"value"],[1,822,43,11],[1,831,43,29,"options"],[1,834,44,6,"options"],[1,838,44,18,"options"],[1,844,46,6,"assert"],[1,846,46,13,"options"],[1,848,46,21,"key"],[1,852,46,26],[1,901,47,6,"assert"],[1,903,47,13,"options"],[1,905,47,21,"bucket"],[1,912,47,29],[1,970,48,6,"assert"],[1,972,48,13,"options"],[1,974,48,21,"contentType"],[1,986,48,34],[1,1052,49,6,"assert"],[1,1054,49,13,"options"],[1,1056,49,21,"region"],[1,1063,49,29],[1,1116,50,6,"assert"],[1,1118,50,13,"options"],[1,1120,50,21,"date"],[1,1125,50,27],[1,1177,51,6,"assert"],[1,1179,51,13,"options"],[1,1181,51,21,"accessKey"],[1,1191,51,32],[1,1251,52,6,"assert"],[1,1253,52,13,"options"],[1,1255,52,21,"secretKey"],[1,1265,52,32],[1,1323,54,6],[1,1327,54,10,"date"],[1,1329,54,17,"options"],[1,1331,54,25,"date"],[1,1336,56,10,"policyExpiresIn"],[1,1338,23,16],[1,1343,55,22,"options"],[1,1345,55,30,"timeDelta"],[1,1356,55,43],[1,1359,57,10,"expirationDate"],[1,1361,57,27],[1,1365,57,31,"Date"],[1,1370,57,36,"date"],[1,1372,57,41,"getTime"],[1,1382,57,53,"policyExpiresIn"],[1,1385,59,10,"policyParams"],[1,1387,59,25,"_extends"],[1,1392,59,38,"options"],[1,1395,60,8,"acl"],[1,1399,60,13,"options"],[1,1401,60,21,"acl"],[1,1406,25,14],[1,1420,61,8,"algorithm"],[1,1430,28,20],[1,1449,62,8,"amzDate"],[1,1457,62,17,"dateToString"],[1,1459,62,30,"date"],[1,1461,62,36],[1,1476,63,8,"yyyymmddDate"],[1,1489,63,22,"dateToString"],[1,1491,63,35,"date"],[1,1493,63,41],[1,1505,64,8,"expirationDate"],[1,1520,64,24,"dateToString"],[1,1522,64,37,"expirationDate"],[1,1524,64,53],[1,1535,65,8,"successActionStatus"],[1,1555,65,29,"String"],[1,1562,65,36,"options"],[1,1564,65,44,"successActionStatus"],[1,1585,30,36],[1,1594,68,6,"policyParams"],[1,1596,68,19,"credential"],[1,1608,68,33,"policyParams"],[1,1610,68,46,"accessKey"],[1,1620,68,57,"policyParams"],[1,1622,68,70,"yyyymmddDate"],[1,1635,68,84,"policyParams"],[1,1637,68,97,"region"],[1,1644,68,105,"AWS_SERVICE_NAME"],[1,1646,68,123,"AWS_REQUEST_POLICY_VERSION"],[1,1649,68,151,"join"],[1,1654,68,156],[1,1659,70,6],[1,1663,70,10,"policy"],[1,1665,70,19,"formatPolicyForEncoding"],[1,1667,70,43,"policyParams"],[1,1670,71,10,"base64EncodedPolicy"],[1,1672,71,32,"getEncodedPolicy"],[1,1674,71,49,"policy"],[1,1677,72,10,"signature"],[1,1679,72,22,"getSignature"],[1,1681,72,35,"base64EncodedPolicy"],[1,1683,72,56,"policyParams"],[1,1686,74,6],[1,1693,74,13,"formatPolicyForRequestBody"],[1,1695,74,40,"base64EncodedPolicy"],[1,1697,74,61,"signature"],[1,1699,74,72,"policyParams"],[1,1706,78,9,"S3Policy"],[1,1709,36,34],[1,1712,81,33],[1,1721,81,69,"base64EncodedPolicy"],[1,1723,81,90,"signature"],[1,1725,81,101,"options"],[1,1728,82,2],[1,1735,83,4,"key"],[1,1739,83,11,"options"],[1,1741,83,19,"key"],[1,1745,84,4,"acl"],[1,1749,84,11,"options"],[1,1751,84,19,"acl"],[1,1755,85,4,"success_action_status"],[1,1777,85,29,"options"],[1,1779,85,37,"successActionStatus"],[1,1799,86,4,"Content-Type"],[1,1814,86,20,"options"],[1,1816,86,28,"contentType"],[1,1828,87,4,"X-Amz-Credential"],[1,1847,87,24,"options"],[1,1849,87,32,"credential"],[1,1860,88,4,"X-Amz-Algorithm"],[1,1878,88,23,"options"],[1,1880,88,31,"algorithm"],[1,1890,89,4,"X-Amz-Date"],[1,1903,89,18,"options"],[1,1905,89,26,"amzDate"],[1,1913,90,4,"Policy"],[1,1920,90,14,"base64EncodedPolicy"],[1,1922,91,4,"X-Amz-Signature"],[1,1940,91,23,"signature"],[1,1945,95,4,"formatPolicyForEncoding"],[1,1947,95,30],[1,1956,95,63,"policy"],[1,1959,96,2],[1,1966,97,4,"expiration"],[1,1977,97,18,"policy"],[1,1979,97,25,"expirationDate"],[1,1994,98,4,"conditions"],[1,2007,98,21,"bucket"],[1,2014,98,31,"policy"],[1,2016,98,38,"bucket"],[1,2025,98,50,"key"],[1,2029,98,57,"policy"],[1,2031,98,64,"key"],[1,2037,98,73,"acl"],[1,2041,98,80,"policy"],[1,2043,98,87,"acl"],[1,2049,98,96,"success_action_status"],[1,2071,98,121,"policy"],[1,2073,98,128,"successActionStatus"],[1,2095,98,153,"Content-Type"],[1,2110,98,169,"policy"],[1,2112,98,176,"contentType"],[1,2126,98,193,"x-amz-credential"],[1,2145,98,213,"policy"],[1,2147,98,220,"credential"],[1,2160,98,236,"x-amz-algorithm"],[1,2178,98,255,"policy"],[1,2180,98,262,"algorithm"],[1,2192,98,277,"x-amz-date"],[1,2205,98,291,"policy"],[1,2207,98,298,"amzDate"],[1,2219,102,4,"getEncodedPolicy"],[1,2221,102,23],[1,2230,102,49,"policy"],[1,2233,103,2],[1,2240,103,9,"Buffer"],[1,2242,103,16,"from"],[1,2247,103,21,"JSON"],[1,2252,103,26,"stringify"],[1,2262,103,36,"policy"],[1,2265,103,45],[1,2274,103,54,"toString"],[1,2283,103,63],[1,2294,106,4,"getSignature"],[1,2296,106,19],[1,2305,106,41,"base64EncodedPolicy"],[1,2307,106,62,"options"],[1,2310,107,2],[1,2317,107,9,"CryptoJS"],[1,2319,107,18,"HmacSHA256"],[1,2330,107,29,"base64EncodedPolicy"],[1,2332,107,50,"getSignatureKey"],[1,2334,107,66,"options"],[1,2338,107,76,"toString"],[1,2347,107,85,"CryptoJS"],[1,2349,107,94,"enc"],[1,2353,107,98,"Hex"],[1,2359,110,4,"getSignatureKey"],[1,2361,110,22],[1,2370,110,47,"options"],[1,2373,111,2],[1,2377,111,6,"kDate"],[1,2379,111,14,"CryptoJS"],[1,2381,111,23,"HmacSHA256"],[1,2392,111,34,"options"],[1,2394,111,42,"yyyymmddDate"],[1,2407,111,56],[1,2414,111,65,"options"],[1,2416,111,73,"secretKey"],[1,2427,112,6,"kRegion"],[1,2429,112,16,"CryptoJS"],[1,2431,112,25,"HmacSHA256"],[1,2442,112,36,"options"],[1,2444,112,44,"region"],[1,2451,112,52,"kDate"],[1,2454,113,6,"kService"],[1,2456,113,17,"CryptoJS"],[1,2458,113,26,"HmacSHA256"],[1,2469,113,37,"AWS_SERVICE_NAME"],[1,2471,113,55,"kRegion"],[1,2474,116,2],[1,2481,114,17,"CryptoJS"],[1,2483,114,26,"HmacSHA256"],[1,2494,114,37,"AWS_REQUEST_POLICY_VERSION"],[1,2496,114,65,"kService"]],"functionMap":{"names":["<global>","<anonymous>","defineProperties","_classCallCheck","assert","S3Policy","generate","formatPolicyForRequestBody","formatPolicyForEncoding","getEncodedPolicy","getSignature","getSignatureKey"],"mappings":"AAA;gCCM,gOD;mBCE,cC,4TD,oND;AGE,yJH;aIqB;CJE;kCCE;EIC;GJE;WKI;KLgC;CDI;iCOE;CPY;8BQE;CRK;uBSE;CTE;mBUE;CVE;sBWE;CXO"}},"type":"js/module"}]}