{"dependencies":[{"name":"./globals","data":{"isAsync":false}},{"name":"./constants","data":{"isAsync":false}},{"name":"./manage-subscribers","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(d[0]),t=r(d[1]),o=r(d[2]);e.attachSharedListeners=function(c,s){c.onmessage=function(n){o.getSubscribers(s).forEach(function(t){t.optionsRef.current.onMessage&&t.optionsRef.current.onMessage(n),'function'==typeof t.optionsRef.current.filter&&!0!==t.optionsRef.current.filter(n)||t.setLastMessage(n)})},c.onclose=function(c){o.getSubscribers(s).forEach(function(n){n.optionsRef.current.onClose&&n.optionsRef.current.onClose(c),n.setReadyState(t.ReadyState.CLOSED)}),delete n.sharedWebSockets[s],o.getSubscribers(s).forEach(function(n){var o,s;if(n.optionsRef.current.shouldReconnect&&n.optionsRef.current.shouldReconnect(c)){var u=null!==(o=n.optionsRef.current.reconnectAttempts)&&void 0!==o?o:t.DEFAULT_RECONNECT_LIMIT;n.reconnectCount.current<u?0==n.reconnectCount.current++?n.reconnect.current():setTimeout(function(){n.reconnect.current()},null!==(s=n.optionsRef.current.reconnectInterval)&&void 0!==s?s:t.DEFAULT_RECONNECT_INTERVAL_MS):console.error(\"Max reconnect attempts of \"+u+\" exceeded\")}})},c.onerror=function(n){o.getSubscribers(s).forEach(function(t){t.optionsRef.current.onError&&t.optionsRef.current.onError(n)})},c.onopen=function(n){o.getSubscribers(s).forEach(function(o){o.reconnectCount.current=0,o.optionsRef.current.onOpen&&o.optionsRef.current.onOpen(n),o.setReadyState(t.ReadyState.OPEN)})}}});","lineCount":1,"map":[[1,28,1,0],[1,41,2,0,"Object"],[1,48,2,7,"defineProperty"],[1,63,2,22,"exports"],[1,65,2,31],[1,79,2,47,"value"],[1,86,2,54],[1,90,3,0],[1,94,3,4,"globals_1"],[1,96,3,16,"require"],[1,98,3,23,"d"],[1,100,3,23],[1,104,4,4,"constants_1"],[1,106,4,18,"require"],[1,108,4,25,"d"],[1,110,4,25],[1,114,5,4,"manage_subscribers_1"],[1,116,5,27,"require"],[1,118,5,34,"d"],[1,120,5,34],[1,124,6,0,"exports"],[1,126,6,8,"attachSharedListeners"],[1,148,6,32],[1,157,6,42,"webSocketInstance"],[1,159,6,61,"url"],[1,162,7,4,"webSocketInstance"],[1,164,7,22,"onmessage"],[1,174,7,34],[1,183,7,44,"message"],[1,186,8,8,"manage_subscribers_1"],[1,188,8,29,"getSubscribers"],[1,203,8,44,"url"],[1,206,8,49,"forEach"],[1,214,8,57],[1,223,8,67,"subscriber"],[1,226,9,16,"subscriber"],[1,228,9,27,"optionsRef"],[1,239,9,38,"current"],[1,247,9,46,"onMessage"],[1,258,10,16,"subscriber"],[1,260,10,27,"optionsRef"],[1,271,10,38,"current"],[1,279,10,46,"onMessage"],[1,289,10,56,"message"],[1,292,12,64],[1,311,12,23,"subscriber"],[1,313,12,34,"optionsRef"],[1,324,12,45,"current"],[1,332,12,53,"filter"],[1,341,13,66],[1,345,13,16,"subscriber"],[1,347,13,27,"optionsRef"],[1,358,13,38,"current"],[1,366,13,46,"filter"],[1,373,13,53,"message"],[1,377,16,12,"subscriber"],[1,379,16,23,"setLastMessage"],[1,394,16,38,"message"],[1,400,19,4,"webSocketInstance"],[1,402,19,22,"onclose"],[1,410,19,32],[1,419,19,42,"event"],[1,422,20,8,"manage_subscribers_1"],[1,424,20,29,"getSubscribers"],[1,439,20,44,"url"],[1,442,20,49,"forEach"],[1,450,20,57],[1,459,20,67,"subscriber"],[1,462,21,16,"subscriber"],[1,464,21,27,"optionsRef"],[1,475,21,38,"current"],[1,483,21,46,"onClose"],[1,492,22,16,"subscriber"],[1,494,22,27,"optionsRef"],[1,505,22,38,"current"],[1,513,22,46,"onClose"],[1,521,22,54,"event"],[1,524,24,12,"subscriber"],[1,526,24,23,"setReadyState"],[1,540,24,37,"constants_1"],[1,542,24,49,"ReadyState"],[1,553,24,60,"CLOSED"],[1,570,26,15,"globals_1"],[1,572,26,25,"sharedWebSockets"],[1,589,26,42,"url"],[1,592,27,8,"manage_subscribers_1"],[1,594,27,29,"getSubscribers"],[1,609,27,44,"url"],[1,612,27,49,"forEach"],[1,620,27,57],[1,629,27,67,"subscriber"],[1,632,28,12],[1,636,28,16,"_a"],[1,638,28,20,"_b"],[1,640,29,12],[1,643,29,16,"subscriber"],[1,645,29,27,"optionsRef"],[1,656,29,38,"current"],[1,664,29,46,"shouldReconnect"],[1,681,30,16,"subscriber"],[1,683,30,27,"optionsRef"],[1,694,30,38,"current"],[1,702,30,46,"shouldReconnect"],[1,718,30,62,"event"],[1,721,30,70],[1,722,31,16],[1,726,31,20,"reconnectAttempts"],[1,728,31,103],[1,736,31,41,"_a"],[1,738,31,46,"subscriber"],[1,740,31,57,"optionsRef"],[1,751,31,68,"current"],[1,759,31,76,"reconnectAttempts"],[1,784,31,113,"undefined"],[1,788,31,111,"_a"],[1,790,31,127,"_a"],[1,792,31,132,"constants_1"],[1,794,31,144,"DEFAULT_RECONNECT_LIMIT"],[1,818,32,20,"subscriber"],[1,820,32,31,"reconnectCount"],[1,835,32,46,"current"],[1,843,32,56,"reconnectAttempts"],[1,845,33,64],[1,848,33,24,"subscriber"],[1,850,33,35,"reconnectCount"],[1,865,33,50,"current"],[1,875,34,24,"subscriber"],[1,877,34,35,"reconnect"],[1,887,34,45,"current"],[1,897,37,24,"setTimeout"],[1,908,37,35],[1,919,38,28,"subscriber"],[1,921,38,39,"reconnect"],[1,931,38,49,"current"],[1,942,39,90],[1,950,39,28,"_b"],[1,952,39,33,"subscriber"],[1,954,39,44,"optionsRef"],[1,965,39,55,"current"],[1,973,39,63,"reconnectInterval"],[1,998,39,100,"undefined"],[1,1002,39,98,"_b"],[1,1004,39,114,"_b"],[1,1006,39,119,"constants_1"],[1,1008,39,131,"DEFAULT_RECONNECT_INTERVAL_MS"],[1,1039,43,20,"console"],[1,1047,43,28,"error"],[1,1053,43,34],[1,1082,43,65,"reconnectAttempts"],[1,1084,43,85],[1,1101,48,4,"webSocketInstance"],[1,1103,48,22,"onerror"],[1,1111,48,32],[1,1120,48,42,"error"],[1,1123,49,8,"manage_subscribers_1"],[1,1125,49,29,"getSubscribers"],[1,1140,49,44,"url"],[1,1143,49,49,"forEach"],[1,1151,49,57],[1,1160,49,67,"subscriber"],[1,1163,50,16,"subscriber"],[1,1165,50,27,"optionsRef"],[1,1176,50,38,"current"],[1,1184,50,46,"onError"],[1,1193,51,16,"subscriber"],[1,1195,51,27,"optionsRef"],[1,1206,51,38,"current"],[1,1214,51,46,"onError"],[1,1222,51,54,"error"],[1,1228,55,4,"webSocketInstance"],[1,1230,55,22,"onopen"],[1,1237,55,31],[1,1246,55,41,"event"],[1,1249,56,8,"manage_subscribers_1"],[1,1251,56,29,"getSubscribers"],[1,1266,56,44,"url"],[1,1269,56,49,"forEach"],[1,1277,56,57],[1,1286,56,67,"subscriber"],[1,1289,57,12,"subscriber"],[1,1291,57,23,"reconnectCount"],[1,1306,57,38,"current"],[1,1314,57,48],[1,1316,58,16,"subscriber"],[1,1318,58,27,"optionsRef"],[1,1329,58,38,"current"],[1,1337,58,46,"onOpen"],[1,1345,59,16,"subscriber"],[1,1347,59,27,"optionsRef"],[1,1358,59,38,"current"],[1,1366,59,46,"onOpen"],[1,1373,59,53,"event"],[1,1376,61,12,"subscriber"],[1,1378,61,23,"setReadyState"],[1,1392,61,37,"constants_1"],[1,1394,61,49,"ReadyState"],[1,1405,61,60,"OPEN"]],"functionMap":{"names":["<global>","exports.attachSharedListeners","webSocketInstance.onmessage","manage_subscribers_1.getSubscribers.forEach$argument_0","webSocketInstance.onclose","setTimeout$argument_0","webSocketInstance.onerror","webSocketInstance.onopen"],"mappings":"AAA;gCCK;kCCC;yDCC;SDS;KDC;gCGC;yDDC;SCK;yDDE;mCEU;yBFE;SCO;KHC;gCKC;yDHC;SGI;KLC;+BMC;yDJC;SIM;KNC;CDC"}},"type":"js/module"}]}